(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var yH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function VA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var T={},UA={get exports(){return T},set exports(t){T=t}},vc={},w={},BA={get exports(){return w},set exports(t){w=t}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pa=Symbol.for("react.element"),zA=Symbol.for("react.portal"),HA=Symbol.for("react.fragment"),WA=Symbol.for("react.strict_mode"),GA=Symbol.for("react.profiler"),KA=Symbol.for("react.provider"),qA=Symbol.for("react.context"),QA=Symbol.for("react.forward_ref"),YA=Symbol.for("react.suspense"),XA=Symbol.for("react.memo"),ZA=Symbol.for("react.lazy"),iv=Symbol.iterator;function JA(t){return t===null||typeof t!="object"?null:(t=iv&&t[iv]||t["@@iterator"],typeof t=="function"?t:null)}var VT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UT=Object.assign,BT={};function $s(t,e,n){this.props=t,this.context=e,this.refs=BT,this.updater=n||VT}$s.prototype.isReactComponent={};$s.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};$s.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zT(){}zT.prototype=$s.prototype;function lm(t,e,n){this.props=t,this.context=e,this.refs=BT,this.updater=n||VT}var um=lm.prototype=new zT;um.constructor=lm;UT(um,$s.prototype);um.isPureReactComponent=!0;var sv=Array.isArray,HT=Object.prototype.hasOwnProperty,cm={current:null},WT={key:!0,ref:!0,__self:!0,__source:!0};function GT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)HT.call(e,r)&&!WT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Pa,type:t,key:s,ref:o,props:i,_owner:cm.current}}function eb(t,e){return{$$typeof:Pa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pa}function tb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ov=/\/+/g;function Gh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tb(""+t.key):e.toString(36)}function jl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pa:case zA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Gh(o,0):r,sv(i)?(n="",t!=null&&(n=t.replace(ov,"$&/")+"/"),jl(i,e,n,"",function(u){return u})):i!=null&&(hm(i)&&(i=eb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(ov,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",sv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Gh(s,a);o+=jl(s,e,n,l,i)}else if(l=JA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Gh(s,a++),o+=jl(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cl(t,e,n){if(t==null)return t;var r=[],i=0;return jl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function nb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vt={current:null},Vl={transition:null},rb={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:Vl,ReactCurrentOwner:cm};J.Children={map:cl,forEach:function(t,e,n){cl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cl(t,function(){e++}),e},toArray:function(t){return cl(t,function(e){return e})||[]},only:function(t){if(!hm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=$s;J.Fragment=HA;J.Profiler=GA;J.PureComponent=lm;J.StrictMode=WA;J.Suspense=YA;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rb;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=UT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)HT.call(e,l)&&!WT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Pa,type:t.type,key:i,ref:s,props:r,_owner:o}};J.createContext=function(t){return t={$$typeof:qA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KA,_context:t},t.Consumer=t};J.createElement=GT;J.createFactory=function(t){var e=GT.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:QA,render:t}};J.isValidElement=hm;J.lazy=function(t){return{$$typeof:ZA,_payload:{_status:-1,_result:t},_init:nb}};J.memo=function(t,e){return{$$typeof:XA,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=Vl.transition;Vl.transition={};try{t()}finally{Vl.transition=e}};J.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};J.useCallback=function(t,e){return vt.current.useCallback(t,e)};J.useContext=function(t){return vt.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return vt.current.useDeferredValue(t)};J.useEffect=function(t,e){return vt.current.useEffect(t,e)};J.useId=function(){return vt.current.useId()};J.useImperativeHandle=function(t,e,n){return vt.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return vt.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return vt.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return vt.current.useMemo(t,e)};J.useReducer=function(t,e,n){return vt.current.useReducer(t,e,n)};J.useRef=function(t){return vt.current.useRef(t)};J.useState=function(t){return vt.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return vt.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return vt.current.useTransition()};J.version="18.2.0";(function(t){t.exports=J})(BA);const Fs=VA(w);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib=w,sb=Symbol.for("react.element"),ob=Symbol.for("react.fragment"),ab=Object.prototype.hasOwnProperty,lb=ib.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ub={key:!0,ref:!0,__self:!0,__source:!0};function KT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ab.call(e,r)&&!ub.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sb,type:t,key:s,ref:o,props:i,_owner:lb.current}}vc.Fragment=ob;vc.jsx=KT;vc.jsxs=KT;(function(t){t.exports=vc})(UA);const wc=({children:t,background:e,setPageToShow:n})=>T.jsx("div",{className:`grow flex flex-col overflow-auto
			${e===!0?"bg-grey-100":e} dark:bg-black`,children:t}),Tc=({headerLeft:t,title:e,headerRight:n,setPageToShow:r})=>T.jsx("div",{children:T.jsxs("div",{className:"flex place-items-center h-12 bg-lightGrey-300 dark:bg-darkGrey-700 border border-x-0 border-t-0 border-b-[.75px] border-y-lightGrey-500 dark:border-y-darkGrey-500",children:[T.jsx("div",{className:"text-secondary-500 dark:text-secondary-200 pl-2",children:t}),T.jsx("div",{className:"m-auto font-bold truncate",children:e}),T.jsx("div",{className:"mx-4 text-secondary-500 dark:text-secondary-200 pr-2",children:n})]})}),cb=()=>T.jsx(Tc,{headerLeft:"",title:"Settings",headerRight:""}),hb=({setCurrentSubpage:t})=>{const e="1677053390"*1e3,n=new Intl.DateTimeFormat("en-AU",{dateStyle:"medium",timeStyle:"short"}).format(e);return T.jsx(wc,{children:T.jsxs("div",{className:"p-4",children:["Build Time: ",n]})})},db={headerComponent:cb,contentComponent:hb},fb=[db],qT=(t,e,{shouldPreventDefault:n=!0,delay:r=300}={})=>{const[i,s]=w.useState(!1),o=w.useRef(),a=w.useRef(),l=w.useCallback(c=>{n&&c.target&&(c.target.addEventListener("touchend",av,{passive:!1}),a.current=c.target),o.current=setTimeout(()=>{t(c),s(!0)},r)},[t,r,n]),u=w.useCallback((c,h=!0)=>{o.current&&clearTimeout(o.current),h&&!i&&e(),s(!1),n&&a.current&&a.current.removeEventListener("touchend",av)},[n,e,i]);return{onMouseDown:c=>l(c),onTouchStart:c=>l(c),onMouseUp:c=>u(c),onMouseLeave:c=>u(c,!1),onTouchEnd:c=>u(c)}},pb=t=>"touches"in t,av=t=>{pb(t)&&t.touches.length<2&&t.preventDefault&&t.preventDefault()},yr=({clickAction:t,longPressAction:e,children:n,color:r,delay:i,submit:s})=>{const o=w.useRef(document.createElement("button")),a={primary:"bg-primary-500 hover:bg-primary-400 dark:bg-primary-400 dark:hover:bg-primary-400 ",secondary:"bg-secondary-500 hover:bg-secondary-400 dark:bg-secondary-300 dark:hover:bg-secondary-400 ",grey:"bg-grey-500 hover:bg-grey-400 dark:bg-grey-300 dark:hover:bg-grey-400 ",error:"bg-error-500 hover:bg-error-400 dark:bg-error-300 dark:hover:bg-error-400 ",warning:"bg-warning-500 hover:bg-warning-400 dark:bg-warning-300 dark:hover:bg-warning-400 "},h=qT(()=>{e&&e(),s&&o.current.click()},()=>{t&&t(),s&&o.current.click()},{shouldPreventDefault:!0,delay:i});return T.jsx(T.Fragment,{children:T.jsx("button",{...h,type:`${s?"submit":"button"}`,className:`${a[r]} text-white font-medium text-sm px-5 py-2.5 focus:outline-none dark:text-black`,ref:o,children:n})})},mb=()=>T.jsx(Tc,{headerLeft:"",title:"Home",headerRight:""}),gb=({setCurrentSubpage:t})=>{function e(n){throw new Error("Function not implemented.")}return T.jsx(wc,{children:T.jsxs("div",{className:"mx-10 mt-8 grid grid-cols-1 gap-8",children:[T.jsx(yr,{clickAction:n=>{t(1,1)},longPressAction:n=>{t(1,1)},delay:500,color:"grey",children:"Record"}),T.jsx(yr,{clickAction:n=>{t(2,1)},longPressAction:n=>{t(2,1)},delay:500,color:"grey",children:"Return"}),T.jsx(yr,{clickAction:n=>{e()},longPressAction:n=>{e()},delay:500,color:"grey",children:"Write"})]})})},yb={headerComponent:mb,contentComponent:gb},vb=({addresses:t})=>{var e;return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"text-center mt-4 font-bold",children:"Last submitted address:"}),T.jsx("div",{className:"text-center",children:t&&((e=Object.entries(t))==null?void 0:e.reverse().map(n=>T.jsxs("div",{children:[T.jsx("div",{children:` Map: ${n[1].mapNumber}`}),`${n[1].unitNumber}${n[1].unitNumber&&"/"}${n[1].houseNumber} ${n[1].street} ${n[1].suburb}`]}))[0])})]})};var lv=Array.isArray,uv=Object.keys,wb=Object.prototype.hasOwnProperty,Tb=typeof Element<"u";function lf(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=lv(t),r=lv(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!lf(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var u=t instanceof RegExp,c=e instanceof RegExp;if(u!=c)return!1;if(u&&c)return t.toString()==e.toString();var h=uv(t);if(s=h.length,s!==uv(e).length)return!1;for(i=s;i--!==0;)if(!wb.call(e,h[i]))return!1;if(Tb&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=h[i],!(o==="_owner"&&t.$$typeof)&&!lf(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var rr=function(e,n){try{return lf(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}},Eb=function(e){return Sb(e)&&!_b(e)};function Sb(t){return!!t&&typeof t=="object"}function _b(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||xb(t)}var Cb=typeof Symbol=="function"&&Symbol.for,Ib=Cb?Symbol.for("react.element"):60103;function xb(t){return t.$$typeof===Ib}function kb(t){return Array.isArray(t)?[]:{}}function uu(t,e){return e.clone!==!1&&e.isMergeableObject(t)?zo(kb(t),t,e):t}function Ab(t,e,n){return t.concat(e).map(function(r){return uu(r,n)})}function bb(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=uu(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=uu(e[i],n):r[i]=zo(t[i],e[i],n)}),r}function zo(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Ab,n.isMergeableObject=n.isMergeableObject||Eb;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):bb(t,e,n):uu(e,n)}zo.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return zo(r,i,n)},{})};var uf=zo,Rb=typeof global=="object"&&global&&global.Object===Object&&global;const QT=Rb;var Pb=typeof self=="object"&&self&&self.Object===Object&&self,Nb=QT||Pb||Function("return this")();const xn=Nb;var Db=xn.Symbol;const br=Db;var YT=Object.prototype,Mb=YT.hasOwnProperty,Lb=YT.toString,qs=br?br.toStringTag:void 0;function Ob(t){var e=Mb.call(t,qs),n=t[qs];try{t[qs]=void 0;var r=!0}catch{}var i=Lb.call(t);return r&&(e?t[qs]=n:delete t[qs]),i}var $b=Object.prototype,Fb=$b.toString;function jb(t){return Fb.call(t)}var Vb="[object Null]",Ub="[object Undefined]",cv=br?br.toStringTag:void 0;function Ii(t){return t==null?t===void 0?Ub:Vb:cv&&cv in Object(t)?Ob(t):jb(t)}function XT(t,e){return function(n){return t(e(n))}}var Bb=XT(Object.getPrototypeOf,Object);const dm=Bb;function xi(t){return t!=null&&typeof t=="object"}var zb="[object Object]",Hb=Function.prototype,Wb=Object.prototype,ZT=Hb.toString,Gb=Wb.hasOwnProperty,Kb=ZT.call(Object);function hv(t){if(!xi(t)||Ii(t)!=zb)return!1;var e=dm(t);if(e===null)return!0;var n=Gb.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ZT.call(n)==Kb}function qb(){this.__data__=[],this.size=0}function JT(t,e){return t===e||t!==t&&e!==e}function Ec(t,e){for(var n=t.length;n--;)if(JT(t[n][0],e))return n;return-1}var Qb=Array.prototype,Yb=Qb.splice;function Xb(t){var e=this.__data__,n=Ec(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Yb.call(e,n,1),--this.size,!0}function Zb(t){var e=this.__data__,n=Ec(e,t);return n<0?void 0:e[n][1]}function Jb(t){return Ec(this.__data__,t)>-1}function eR(t,e){var n=this.__data__,r=Ec(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Zn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zn.prototype.clear=qb;Zn.prototype.delete=Xb;Zn.prototype.get=Zb;Zn.prototype.has=Jb;Zn.prototype.set=eR;function tR(){this.__data__=new Zn,this.size=0}function nR(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function rR(t){return this.__data__.get(t)}function iR(t){return this.__data__.has(t)}function Na(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var sR="[object AsyncFunction]",oR="[object Function]",aR="[object GeneratorFunction]",lR="[object Proxy]";function eE(t){if(!Na(t))return!1;var e=Ii(t);return e==oR||e==aR||e==sR||e==lR}var uR=xn["__core-js_shared__"];const Kh=uR;var dv=function(){var t=/[^.]+$/.exec(Kh&&Kh.keys&&Kh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function cR(t){return!!dv&&dv in t}var hR=Function.prototype,dR=hR.toString;function ki(t){if(t!=null){try{return dR.call(t)}catch{}try{return t+""}catch{}}return""}var fR=/[\\^$.*+?()[\]{}|]/g,pR=/^\[object .+?Constructor\]$/,mR=Function.prototype,gR=Object.prototype,yR=mR.toString,vR=gR.hasOwnProperty,wR=RegExp("^"+yR.call(vR).replace(fR,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TR(t){if(!Na(t)||cR(t))return!1;var e=eE(t)?wR:pR;return e.test(ki(t))}function ER(t,e){return t==null?void 0:t[e]}function Ai(t,e){var n=ER(t,e);return TR(n)?n:void 0}var SR=Ai(xn,"Map");const Ho=SR;var _R=Ai(Object,"create");const Wo=_R;function CR(){this.__data__=Wo?Wo(null):{},this.size=0}function IR(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var xR="__lodash_hash_undefined__",kR=Object.prototype,AR=kR.hasOwnProperty;function bR(t){var e=this.__data__;if(Wo){var n=e[t];return n===xR?void 0:n}return AR.call(e,t)?e[t]:void 0}var RR=Object.prototype,PR=RR.hasOwnProperty;function NR(t){var e=this.__data__;return Wo?e[t]!==void 0:PR.call(e,t)}var DR="__lodash_hash_undefined__";function MR(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Wo&&e===void 0?DR:e,this}function fi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fi.prototype.clear=CR;fi.prototype.delete=IR;fi.prototype.get=bR;fi.prototype.has=NR;fi.prototype.set=MR;function LR(){this.size=0,this.__data__={hash:new fi,map:new(Ho||Zn),string:new fi}}function OR(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Sc(t,e){var n=t.__data__;return OR(e)?n[typeof e=="string"?"string":"hash"]:n.map}function $R(t){var e=Sc(this,t).delete(t);return this.size-=e?1:0,e}function FR(t){return Sc(this,t).get(t)}function jR(t){return Sc(this,t).has(t)}function VR(t,e){var n=Sc(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function $r(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$r.prototype.clear=LR;$r.prototype.delete=$R;$r.prototype.get=FR;$r.prototype.has=jR;$r.prototype.set=VR;var UR=200;function BR(t,e){var n=this.__data__;if(n instanceof Zn){var r=n.__data__;if(!Ho||r.length<UR-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new $r(r)}return n.set(t,e),this.size=n.size,this}function js(t){var e=this.__data__=new Zn(t);this.size=e.size}js.prototype.clear=tR;js.prototype.delete=nR;js.prototype.get=rR;js.prototype.has=iR;js.prototype.set=BR;function zR(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var HR=function(){try{var t=Ai(Object,"defineProperty");return t({},"",{}),t}catch{}}();const fv=HR;function tE(t,e,n){e=="__proto__"&&fv?fv(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var WR=Object.prototype,GR=WR.hasOwnProperty;function nE(t,e,n){var r=t[e];(!(GR.call(t,e)&&JT(r,n))||n===void 0&&!(e in t))&&tE(t,e,n)}function _c(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?tE(n,a,l):nE(n,a,l)}return n}function KR(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var qR="[object Arguments]";function pv(t){return xi(t)&&Ii(t)==qR}var rE=Object.prototype,QR=rE.hasOwnProperty,YR=rE.propertyIsEnumerable,XR=pv(function(){return arguments}())?pv:function(t){return xi(t)&&QR.call(t,"callee")&&!YR.call(t,"callee")};const ZR=XR;var JR=Array.isArray;const Da=JR;function eP(){return!1}var iE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,mv=iE&&typeof module=="object"&&module&&!module.nodeType&&module,tP=mv&&mv.exports===iE,gv=tP?xn.Buffer:void 0,nP=gv?gv.isBuffer:void 0,rP=nP||eP;const sE=rP;var iP=9007199254740991,sP=/^(?:0|[1-9]\d*)$/;function oP(t,e){var n=typeof t;return e=e??iP,!!e&&(n=="number"||n!="symbol"&&sP.test(t))&&t>-1&&t%1==0&&t<e}var aP=9007199254740991;function oE(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=aP}var lP="[object Arguments]",uP="[object Array]",cP="[object Boolean]",hP="[object Date]",dP="[object Error]",fP="[object Function]",pP="[object Map]",mP="[object Number]",gP="[object Object]",yP="[object RegExp]",vP="[object Set]",wP="[object String]",TP="[object WeakMap]",EP="[object ArrayBuffer]",SP="[object DataView]",_P="[object Float32Array]",CP="[object Float64Array]",IP="[object Int8Array]",xP="[object Int16Array]",kP="[object Int32Array]",AP="[object Uint8Array]",bP="[object Uint8ClampedArray]",RP="[object Uint16Array]",PP="[object Uint32Array]",fe={};fe[_P]=fe[CP]=fe[IP]=fe[xP]=fe[kP]=fe[AP]=fe[bP]=fe[RP]=fe[PP]=!0;fe[lP]=fe[uP]=fe[EP]=fe[cP]=fe[SP]=fe[hP]=fe[dP]=fe[fP]=fe[pP]=fe[mP]=fe[gP]=fe[yP]=fe[vP]=fe[wP]=fe[TP]=!1;function NP(t){return xi(t)&&oE(t.length)&&!!fe[Ii(t)]}function fm(t){return function(e){return t(e)}}var aE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,yo=aE&&typeof module=="object"&&module&&!module.nodeType&&module,DP=yo&&yo.exports===aE,qh=DP&&QT.process,MP=function(){try{var t=yo&&yo.require&&yo.require("util").types;return t||qh&&qh.binding&&qh.binding("util")}catch{}}();const vs=MP;var yv=vs&&vs.isTypedArray,LP=yv?fm(yv):NP;const OP=LP;var $P=Object.prototype,FP=$P.hasOwnProperty;function lE(t,e){var n=Da(t),r=!n&&ZR(t),i=!n&&!r&&sE(t),s=!n&&!r&&!i&&OP(t),o=n||r||i||s,a=o?KR(t.length,String):[],l=a.length;for(var u in t)(e||FP.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||oP(u,l)))&&a.push(u);return a}var jP=Object.prototype;function pm(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||jP;return t===n}var VP=XT(Object.keys,Object);const UP=VP;var BP=Object.prototype,zP=BP.hasOwnProperty;function HP(t){if(!pm(t))return UP(t);var e=[];for(var n in Object(t))zP.call(t,n)&&n!="constructor"&&e.push(n);return e}function uE(t){return t!=null&&oE(t.length)&&!eE(t)}function mm(t){return uE(t)?lE(t):HP(t)}function WP(t,e){return t&&_c(e,mm(e),t)}function GP(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var KP=Object.prototype,qP=KP.hasOwnProperty;function QP(t){if(!Na(t))return GP(t);var e=pm(t),n=[];for(var r in t)r=="constructor"&&(e||!qP.call(t,r))||n.push(r);return n}function gm(t){return uE(t)?lE(t,!0):QP(t)}function YP(t,e){return t&&_c(e,gm(e),t)}var cE=typeof exports=="object"&&exports&&!exports.nodeType&&exports,vv=cE&&typeof module=="object"&&module&&!module.nodeType&&module,XP=vv&&vv.exports===cE,wv=XP?xn.Buffer:void 0,Tv=wv?wv.allocUnsafe:void 0;function ZP(t,e){if(e)return t.slice();var n=t.length,r=Tv?Tv(n):new t.constructor(n);return t.copy(r),r}function hE(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function JP(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function dE(){return[]}var eN=Object.prototype,tN=eN.propertyIsEnumerable,Ev=Object.getOwnPropertySymbols,nN=Ev?function(t){return t==null?[]:(t=Object(t),JP(Ev(t),function(e){return tN.call(t,e)}))}:dE;const ym=nN;function rN(t,e){return _c(t,ym(t),e)}function fE(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var iN=Object.getOwnPropertySymbols,sN=iN?function(t){for(var e=[];t;)fE(e,ym(t)),t=dm(t);return e}:dE;const pE=sN;function oN(t,e){return _c(t,pE(t),e)}function mE(t,e,n){var r=e(t);return Da(t)?r:fE(r,n(t))}function aN(t){return mE(t,mm,ym)}function lN(t){return mE(t,gm,pE)}var uN=Ai(xn,"DataView");const cf=uN;var cN=Ai(xn,"Promise");const hf=cN;var hN=Ai(xn,"Set");const df=hN;var dN=Ai(xn,"WeakMap");const ff=dN;var Sv="[object Map]",fN="[object Object]",_v="[object Promise]",Cv="[object Set]",Iv="[object WeakMap]",xv="[object DataView]",pN=ki(cf),mN=ki(Ho),gN=ki(hf),yN=ki(df),vN=ki(ff),qr=Ii;(cf&&qr(new cf(new ArrayBuffer(1)))!=xv||Ho&&qr(new Ho)!=Sv||hf&&qr(hf.resolve())!=_v||df&&qr(new df)!=Cv||ff&&qr(new ff)!=Iv)&&(qr=function(t){var e=Ii(t),n=e==fN?t.constructor:void 0,r=n?ki(n):"";if(r)switch(r){case pN:return xv;case mN:return Sv;case gN:return _v;case yN:return Cv;case vN:return Iv}return e});const vm=qr;var wN=Object.prototype,TN=wN.hasOwnProperty;function EN(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&TN.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var SN=xn.Uint8Array;const kv=SN;function wm(t){var e=new t.constructor(t.byteLength);return new kv(e).set(new kv(t)),e}function _N(t,e){var n=e?wm(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var CN=/\w*$/;function IN(t){var e=new t.constructor(t.source,CN.exec(t));return e.lastIndex=t.lastIndex,e}var Av=br?br.prototype:void 0,bv=Av?Av.valueOf:void 0;function xN(t){return bv?Object(bv.call(t)):{}}function kN(t,e){var n=e?wm(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var AN="[object Boolean]",bN="[object Date]",RN="[object Map]",PN="[object Number]",NN="[object RegExp]",DN="[object Set]",MN="[object String]",LN="[object Symbol]",ON="[object ArrayBuffer]",$N="[object DataView]",FN="[object Float32Array]",jN="[object Float64Array]",VN="[object Int8Array]",UN="[object Int16Array]",BN="[object Int32Array]",zN="[object Uint8Array]",HN="[object Uint8ClampedArray]",WN="[object Uint16Array]",GN="[object Uint32Array]";function KN(t,e,n){var r=t.constructor;switch(e){case ON:return wm(t);case AN:case bN:return new r(+t);case $N:return _N(t,n);case FN:case jN:case VN:case UN:case BN:case zN:case HN:case WN:case GN:return kN(t,n);case RN:return new r;case PN:case MN:return new r(t);case NN:return IN(t);case DN:return new r;case LN:return xN(t)}}var Rv=Object.create,qN=function(){function t(){}return function(e){if(!Na(e))return{};if(Rv)return Rv(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const QN=qN;function YN(t){return typeof t.constructor=="function"&&!pm(t)?QN(dm(t)):{}}var XN="[object Map]";function ZN(t){return xi(t)&&vm(t)==XN}var Pv=vs&&vs.isMap,JN=Pv?fm(Pv):ZN;const eD=JN;var tD="[object Set]";function nD(t){return xi(t)&&vm(t)==tD}var Nv=vs&&vs.isSet,rD=Nv?fm(Nv):nD;const iD=rD;var sD=1,oD=2,aD=4,gE="[object Arguments]",lD="[object Array]",uD="[object Boolean]",cD="[object Date]",hD="[object Error]",yE="[object Function]",dD="[object GeneratorFunction]",fD="[object Map]",pD="[object Number]",vE="[object Object]",mD="[object RegExp]",gD="[object Set]",yD="[object String]",vD="[object Symbol]",wD="[object WeakMap]",TD="[object ArrayBuffer]",ED="[object DataView]",SD="[object Float32Array]",_D="[object Float64Array]",CD="[object Int8Array]",ID="[object Int16Array]",xD="[object Int32Array]",kD="[object Uint8Array]",AD="[object Uint8ClampedArray]",bD="[object Uint16Array]",RD="[object Uint32Array]",le={};le[gE]=le[lD]=le[TD]=le[ED]=le[uD]=le[cD]=le[SD]=le[_D]=le[CD]=le[ID]=le[xD]=le[fD]=le[pD]=le[vE]=le[mD]=le[gD]=le[yD]=le[vD]=le[kD]=le[AD]=le[bD]=le[RD]=!0;le[hD]=le[yE]=le[wD]=!1;function vo(t,e,n,r,i,s){var o,a=e&sD,l=e&oD,u=e&aD;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Na(t))return t;var c=Da(t);if(c){if(o=EN(t),!a)return hE(t,o)}else{var h=vm(t),d=h==yE||h==dD;if(sE(t))return ZP(t,a);if(h==vE||h==gE||d&&!i){if(o=l||d?{}:YN(t),!a)return l?oN(t,YP(o,t)):rN(t,WP(o,t))}else{if(!le[h])return i?t:{};o=KN(t,h,a)}}s||(s=new js);var f=s.get(t);if(f)return f;s.set(t,o),iD(t)?t.forEach(function(S){o.add(vo(S,e,n,S,t,s))}):eD(t)&&t.forEach(function(S,g){o.set(g,vo(S,e,n,g,t,s))});var m=u?l?lN:aN:l?gm:mm,v=c?void 0:m(t);return zR(v||t,function(S,g){v&&(g=S,S=t[g]),nE(o,g,vo(S,e,n,g,t,s))}),o}var PD=4;function Dv(t){return vo(t,PD)}function wE(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var ND="[object Symbol]";function Tm(t){return typeof t=="symbol"||xi(t)&&Ii(t)==ND}var DD="Expected a function";function Em(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(DD);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(Em.Cache||$r),n}Em.Cache=$r;var MD=500;function LD(t){var e=Em(t,function(r){return n.size===MD&&n.clear(),r}),n=e.cache;return e}var OD=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$D=/\\(\\)?/g,FD=LD(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(OD,function(n,r,i,s){e.push(i?s.replace($D,"$1"):r||n)}),e});const jD=FD;var VD=1/0;function UD(t){if(typeof t=="string"||Tm(t))return t;var e=t+"";return e=="0"&&1/t==-VD?"-0":e}var BD=1/0,Mv=br?br.prototype:void 0,Lv=Mv?Mv.toString:void 0;function TE(t){if(typeof t=="string")return t;if(Da(t))return wE(t,TE)+"";if(Tm(t))return Lv?Lv.call(t):"";var e=t+"";return e=="0"&&1/t==-BD?"-0":e}function zD(t){return t==null?"":TE(t)}function EE(t){return Da(t)?wE(t,UD):Tm(t)?[t]:hE(jD(zD(t)))}var HD=!0;function SE(t,e){if(!HD){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}var pf={},WD={get exports(){return pf},set exports(t){pf=t}},oe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ge=typeof Symbol=="function"&&Symbol.for,Sm=Ge?Symbol.for("react.element"):60103,_m=Ge?Symbol.for("react.portal"):60106,Cc=Ge?Symbol.for("react.fragment"):60107,Ic=Ge?Symbol.for("react.strict_mode"):60108,xc=Ge?Symbol.for("react.profiler"):60114,kc=Ge?Symbol.for("react.provider"):60109,Ac=Ge?Symbol.for("react.context"):60110,Cm=Ge?Symbol.for("react.async_mode"):60111,bc=Ge?Symbol.for("react.concurrent_mode"):60111,Rc=Ge?Symbol.for("react.forward_ref"):60112,Pc=Ge?Symbol.for("react.suspense"):60113,GD=Ge?Symbol.for("react.suspense_list"):60120,Nc=Ge?Symbol.for("react.memo"):60115,Dc=Ge?Symbol.for("react.lazy"):60116,KD=Ge?Symbol.for("react.block"):60121,qD=Ge?Symbol.for("react.fundamental"):60117,QD=Ge?Symbol.for("react.responder"):60118,YD=Ge?Symbol.for("react.scope"):60119;function Mt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Sm:switch(t=t.type,t){case Cm:case bc:case Cc:case xc:case Ic:case Pc:return t;default:switch(t=t&&t.$$typeof,t){case Ac:case Rc:case Dc:case Nc:case kc:return t;default:return e}}case _m:return e}}}function _E(t){return Mt(t)===bc}oe.AsyncMode=Cm;oe.ConcurrentMode=bc;oe.ContextConsumer=Ac;oe.ContextProvider=kc;oe.Element=Sm;oe.ForwardRef=Rc;oe.Fragment=Cc;oe.Lazy=Dc;oe.Memo=Nc;oe.Portal=_m;oe.Profiler=xc;oe.StrictMode=Ic;oe.Suspense=Pc;oe.isAsyncMode=function(t){return _E(t)||Mt(t)===Cm};oe.isConcurrentMode=_E;oe.isContextConsumer=function(t){return Mt(t)===Ac};oe.isContextProvider=function(t){return Mt(t)===kc};oe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sm};oe.isForwardRef=function(t){return Mt(t)===Rc};oe.isFragment=function(t){return Mt(t)===Cc};oe.isLazy=function(t){return Mt(t)===Dc};oe.isMemo=function(t){return Mt(t)===Nc};oe.isPortal=function(t){return Mt(t)===_m};oe.isProfiler=function(t){return Mt(t)===xc};oe.isStrictMode=function(t){return Mt(t)===Ic};oe.isSuspense=function(t){return Mt(t)===Pc};oe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Cc||t===bc||t===xc||t===Ic||t===Pc||t===GD||typeof t=="object"&&t!==null&&(t.$$typeof===Dc||t.$$typeof===Nc||t.$$typeof===kc||t.$$typeof===Ac||t.$$typeof===Rc||t.$$typeof===qD||t.$$typeof===QD||t.$$typeof===YD||t.$$typeof===KD)};oe.typeOf=Mt;(function(t){t.exports=oe})(WD);var Im=pf,XD={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ZD={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},JD={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},CE={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xm={};xm[Im.ForwardRef]=JD;xm[Im.Memo]=CE;function Ov(t){return Im.isMemo(t)?CE:xm[t.$$typeof]||XD}var eM=Object.defineProperty,tM=Object.getOwnPropertyNames,$v=Object.getOwnPropertySymbols,nM=Object.getOwnPropertyDescriptor,rM=Object.getPrototypeOf,Fv=Object.prototype;function IE(t,e,n){if(typeof e!="string"){if(Fv){var r=rM(e);r&&r!==Fv&&IE(t,r,n)}var i=tM(e);$v&&(i=i.concat($v(e)));for(var s=Ov(t),o=Ov(e),a=0;a<i.length;++a){var l=i[a];if(!ZD[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var u=nM(e,l);try{eM(t,l,u)}catch{}}}}return t}var iM=IE,sM=1,oM=4;function aM(t){return vo(t,sM|oM)}function ae(){return ae=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ae.apply(this,arguments)}function xE(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function fr(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Vv=function(e){return Array.isArray(e)&&e.length===0},tt=function(e){return typeof e=="function"},Mc=function(e){return e!==null&&typeof e=="object"},lM=function(e){return String(Math.floor(Number(e)))===e},Qh=function(e){return Object.prototype.toString.call(e)==="[object String]"},kE=function(e){return w.Children.count(e)===0},Yh=function(e){return Mc(e)&&tt(e.then)};function Te(t,e,n,r){r===void 0&&(r=0);for(var i=EE(e);t&&r<i.length;)t=t[i[r++]];return t===void 0?n:t}function yn(t,e,n){for(var r=Dv(t),i=r,s=0,o=EE(e);s<o.length-1;s++){var a=o[s],l=Te(t,o.slice(0,s+1));if(l&&(Mc(l)||Array.isArray(l)))i=i[a]=Dv(l);else{var u=o[s+1];i=i[a]=lM(u)&&Number(u)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function AE(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];Mc(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},AE(a,e,n,r[o])):r[o]=e}return r}var Lc=w.createContext(void 0);Lc.displayName="FormikContext";var uM=Lc.Provider,cM=Lc.Consumer;function bE(){var t=w.useContext(Lc);return t||SE(!1),t}function hM(t,e){switch(e.type){case"SET_VALUES":return ae({},t,{values:e.payload});case"SET_TOUCHED":return ae({},t,{touched:e.payload});case"SET_ERRORS":return rr(t.errors,e.payload)?t:ae({},t,{errors:e.payload});case"SET_STATUS":return ae({},t,{status:e.payload});case"SET_ISSUBMITTING":return ae({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return ae({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return ae({},t,{values:yn(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return ae({},t,{touched:yn(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return ae({},t,{errors:yn(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return ae({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return ae({},t,{touched:AE(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return ae({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return ae({},t,{isSubmitting:!1});default:return t}}var Wr={},hl={};function dM(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,u=l===void 0?!1:l,c=t.onSubmit,h=fr(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=ae({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:c},h),f=w.useRef(d.initialValues),m=w.useRef(d.initialErrors||Wr),v=w.useRef(d.initialTouched||hl),S=w.useRef(d.initialStatus),g=w.useRef(!1),p=w.useRef({});w.useEffect(function(){return g.current=!0,function(){g.current=!1}},[]);var y=w.useReducer(hM,{values:d.initialValues,errors:d.initialErrors||Wr,touched:d.initialTouched||hl,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),E=y[0],C=y[1],I=w.useCallback(function(_,D){return new Promise(function($,F){var Y=d.validate(_,D);Y==null?$(Wr):Yh(Y)?Y.then(function(ie){$(ie||Wr)},function(ie){F(ie)}):$(Y)})},[d.validate]),b=w.useCallback(function(_,D){var $=d.validationSchema,F=tt($)?$(D):$,Y=D&&F.validateAt?F.validateAt(D,_):mM(_,F);return new Promise(function(ie,Fe){Y.then(function(){ie(Wr)},function(An){An.name==="ValidationError"?ie(pM(An)):Fe(An)})})},[d.validationSchema]),R=w.useCallback(function(_,D){return new Promise(function($){return $(p.current[_].validate(D))})},[]),Q=w.useCallback(function(_){var D=Object.keys(p.current).filter(function(F){return tt(p.current[F].validate)}),$=D.length>0?D.map(function(F){return R(F,Te(_,F))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all($).then(function(F){return F.reduce(function(Y,ie,Fe){return ie==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ie&&(Y=yn(Y,D[Fe],ie)),Y},{})})},[R]),O=w.useCallback(function(_){return Promise.all([Q(_),d.validationSchema?b(_):{},d.validate?I(_):{}]).then(function(D){var $=D[0],F=D[1],Y=D[2],ie=uf.all([$,F,Y],{arrayMerge:gM});return ie})},[d.validate,d.validationSchema,Q,I,b]),X=Ft(function(_){return _===void 0&&(_=E.values),C({type:"SET_ISVALIDATING",payload:!0}),O(_).then(function(D){return g.current&&(C({type:"SET_ISVALIDATING",payload:!1}),C({type:"SET_ERRORS",payload:D})),D})});w.useEffect(function(){o&&g.current===!0&&rr(f.current,d.initialValues)&&X(f.current)},[o,X]);var Ke=w.useCallback(function(_){var D=_&&_.values?_.values:f.current,$=_&&_.errors?_.errors:m.current?m.current:d.initialErrors||{},F=_&&_.touched?_.touched:v.current?v.current:d.initialTouched||{},Y=_&&_.status?_.status:S.current?S.current:d.initialStatus;f.current=D,m.current=$,v.current=F,S.current=Y;var ie=function(){C({type:"RESET_FORM",payload:{isSubmitting:!!_&&!!_.isSubmitting,errors:$,touched:F,status:Y,values:D,isValidating:!!_&&!!_.isValidating,submitCount:_&&_.submitCount&&typeof _.submitCount=="number"?_.submitCount:0}})};if(d.onReset){var Fe=d.onReset(E.values,nv);Yh(Fe)?Fe.then(ie):ie()}else ie()},[d.initialErrors,d.initialStatus,d.initialTouched]);w.useEffect(function(){g.current===!0&&!rr(f.current,d.initialValues)&&(u&&(f.current=d.initialValues,Ke()),o&&X(f.current))},[u,d.initialValues,Ke,o,X]),w.useEffect(function(){u&&g.current===!0&&!rr(m.current,d.initialErrors)&&(m.current=d.initialErrors||Wr,C({type:"SET_ERRORS",payload:d.initialErrors||Wr}))},[u,d.initialErrors]),w.useEffect(function(){u&&g.current===!0&&!rr(v.current,d.initialTouched)&&(v.current=d.initialTouched||hl,C({type:"SET_TOUCHED",payload:d.initialTouched||hl}))},[u,d.initialTouched]),w.useEffect(function(){u&&g.current===!0&&!rr(S.current,d.initialStatus)&&(S.current=d.initialStatus,C({type:"SET_STATUS",payload:d.initialStatus}))},[u,d.initialStatus,d.initialTouched]);var $t=Ft(function(_){if(p.current[_]&&tt(p.current[_].validate)){var D=Te(E.values,_),$=p.current[_].validate(D);return Yh($)?(C({type:"SET_ISVALIDATING",payload:!0}),$.then(function(F){return F}).then(function(F){C({type:"SET_FIELD_ERROR",payload:{field:_,value:F}}),C({type:"SET_ISVALIDATING",payload:!1})})):(C({type:"SET_FIELD_ERROR",payload:{field:_,value:$}}),Promise.resolve($))}else if(d.validationSchema)return C({type:"SET_ISVALIDATING",payload:!0}),b(E.values,_).then(function(F){return F}).then(function(F){C({type:"SET_FIELD_ERROR",payload:{field:_,value:F[_]}}),C({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),ln=w.useCallback(function(_,D){var $=D.validate;p.current[_]={validate:$}},[]),ge=w.useCallback(function(_){delete p.current[_]},[]),Tt=Ft(function(_,D){C({type:"SET_TOUCHED",payload:_});var $=D===void 0?i:D;return $?X(E.values):Promise.resolve()}),De=w.useCallback(function(_){C({type:"SET_ERRORS",payload:_})},[]),P=Ft(function(_,D){var $=tt(_)?_(E.values):_;C({type:"SET_VALUES",payload:$});var F=D===void 0?n:D;return F?X($):Promise.resolve()}),V=w.useCallback(function(_,D){C({type:"SET_FIELD_ERROR",payload:{field:_,value:D}})},[]),B=Ft(function(_,D,$){C({type:"SET_FIELD_VALUE",payload:{field:_,value:D}});var F=$===void 0?n:$;return F?X(yn(E.values,_,D)):Promise.resolve()}),ye=w.useCallback(function(_,D){var $=D,F=_,Y;if(!Qh(_)){_.persist&&_.persist();var ie=_.target?_.target:_.currentTarget,Fe=ie.type,An=ie.name,Hh=ie.id,Wh=ie.value,FA=ie.checked,gH=ie.outerHTML,rv=ie.options,jA=ie.multiple;$=D||An||Hh,F=/number|range/.test(Fe)?(Y=parseFloat(Wh),isNaN(Y)?"":Y):/checkbox/.test(Fe)?vM(Te(E.values,$),FA,Wh):rv&&jA?yM(rv):Wh}$&&B($,F)},[B,E.values]),Ce=Ft(function(_){if(Qh(_))return function(D){return ye(D,_)};ye(_)}),qt=Ft(function(_,D,$){D===void 0&&(D=!0),C({type:"SET_FIELD_TOUCHED",payload:{field:_,value:D}});var F=$===void 0?i:$;return F?X(E.values):Promise.resolve()}),un=w.useCallback(function(_,D){_.persist&&_.persist();var $=_.target,F=$.name,Y=$.id,ie=$.outerHTML,Fe=D||F||Y;qt(Fe,!0)},[qt]),zr=Ft(function(_){if(Qh(_))return function(D){return un(D,_)};un(_)}),cn=w.useCallback(function(_){tt(_)?C({type:"SET_FORMIK_STATE",payload:_}):C({type:"SET_FORMIK_STATE",payload:function(){return _}})},[]),Hr=w.useCallback(function(_){C({type:"SET_STATUS",payload:_})},[]),tv=w.useCallback(function(_){C({type:"SET_ISSUBMITTING",payload:_})},[]),Bh=Ft(function(){return C({type:"SUBMIT_ATTEMPT"}),X().then(function(_){var D=_ instanceof Error,$=!D&&Object.keys(_).length===0;if($){var F;try{if(F=PA(),F===void 0)return}catch(Y){throw Y}return Promise.resolve(F).then(function(Y){return g.current&&C({type:"SUBMIT_SUCCESS"}),Y}).catch(function(Y){if(g.current)throw C({type:"SUBMIT_FAILURE"}),Y})}else if(g.current&&(C({type:"SUBMIT_FAILURE"}),D))throw _})}),RA=Ft(function(_){_&&_.preventDefault&&tt(_.preventDefault)&&_.preventDefault(),_&&_.stopPropagation&&tt(_.stopPropagation)&&_.stopPropagation(),Bh().catch(function(D){console.warn("Warning: An unhandled error was caught from submitForm()",D)})}),nv={resetForm:Ke,validateForm:X,validateField:$t,setErrors:De,setFieldError:V,setFieldTouched:qt,setFieldValue:B,setStatus:Hr,setSubmitting:tv,setTouched:Tt,setValues:P,setFormikState:cn,submitForm:Bh},PA=Ft(function(){return c(E.values,nv)}),NA=Ft(function(_){_&&_.preventDefault&&tt(_.preventDefault)&&_.preventDefault(),_&&_.stopPropagation&&tt(_.stopPropagation)&&_.stopPropagation(),Ke()}),DA=w.useCallback(function(_){return{value:Te(E.values,_),error:Te(E.errors,_),touched:!!Te(E.touched,_),initialValue:Te(f.current,_),initialTouched:!!Te(v.current,_),initialError:Te(m.current,_)}},[E.errors,E.touched,E.values]),MA=w.useCallback(function(_){return{setValue:function($,F){return B(_,$,F)},setTouched:function($,F){return qt(_,$,F)},setError:function($){return V(_,$)}}},[B,qt,V]),LA=w.useCallback(function(_){var D=Mc(_),$=D?_.name:_,F=Te(E.values,$),Y={name:$,value:F,onChange:Ce,onBlur:zr};if(D){var ie=_.type,Fe=_.value,An=_.as,Hh=_.multiple;ie==="checkbox"?Fe===void 0?Y.checked=!!F:(Y.checked=!!(Array.isArray(F)&&~F.indexOf(Fe)),Y.value=Fe):ie==="radio"?(Y.checked=F===Fe,Y.value=Fe):An==="select"&&Hh&&(Y.value=Y.value||[],Y.multiple=!0)}return Y},[zr,Ce,E.values]),zh=w.useMemo(function(){return!rr(f.current,E.values)},[f.current,E.values]),OA=w.useMemo(function(){return typeof a<"u"?zh?E.errors&&Object.keys(E.errors).length===0:a!==!1&&tt(a)?a(d):a:E.errors&&Object.keys(E.errors).length===0},[a,zh,E.errors,d]),$A=ae({},E,{initialValues:f.current,initialErrors:m.current,initialTouched:v.current,initialStatus:S.current,handleBlur:zr,handleChange:Ce,handleReset:NA,handleSubmit:RA,resetForm:Ke,setErrors:De,setFormikState:cn,setFieldTouched:qt,setFieldValue:B,setFieldError:V,setStatus:Hr,setSubmitting:tv,setTouched:Tt,setValues:P,submitForm:Bh,validateForm:X,validateField:$t,isValid:OA,dirty:zh,unregisterField:ge,registerField:ln,getFieldProps:LA,getFieldMeta:DA,getFieldHelpers:MA,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return $A}function fM(t){var e=dM(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return w.useImperativeHandle(s,function(){return e}),w.createElement(uM,{value:e},n?w.createElement(n,e):i?i(e):r?tt(r)?r(e):kE(r)?null:w.Children.only(r):null)}function pM(t){var e={};if(t.inner){if(t.inner.length===0)return yn(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;Te(e,o.path)||(e=yn(e,o.path,o.message))}}return e}function mM(t,e,n,r){n===void 0&&(n=!1),r===void 0&&(r={});var i=mf(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}function mf(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||hv(i)?mf(i):i!==""?i:void 0}):hv(t[r])?e[r]=mf(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function gM(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?uf(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=uf(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function yM(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function vM(t,e,n){if(typeof t=="boolean")return Boolean(e);var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return Boolean(e);return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var wM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect;function Ft(t){var e=w.useRef(t);return wM(function(){e.current=t}),w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function kn(t){var e=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,a=fr(t,["validate","name","render","children","as","component"]),l=bE(),u=fr(l,["validate","validationSchema"]),c=u.registerField,h=u.unregisterField;w.useEffect(function(){return c(n,{validate:e}),function(){h(n)}},[c,h,n,e]);var d=u.getFieldProps(ae({name:n},a)),f=u.getFieldMeta(n),m={field:d,form:u};if(r)return r(ae({},m,{meta:f}));if(tt(i))return i(ae({},m,{meta:f}));if(o){if(typeof o=="string"){var v=a.innerRef,S=fr(a,["innerRef"]);return w.createElement(o,ae({ref:v},d,S),i)}return w.createElement(o,ae({field:d,form:u},a),i)}var g=s||"input";if(typeof g=="string"){var p=a.innerRef,y=fr(a,["innerRef"]);return w.createElement(g,ae({ref:p},d,y),i)}return w.createElement(g,ae({},d,a),i)}var RE=w.forwardRef(function(t,e){var n=t.action,r=fr(t,["action"]),i=n??"#",s=bE(),o=s.handleReset,a=s.handleSubmit;return w.createElement("form",Object.assign({onSubmit:a,ref:e,onReset:o,action:i},r))});RE.displayName="Form";function TM(t){var e=function(i){return w.createElement(cM,null,function(s){return s||SE(!1),w.createElement(t,Object.assign({},i,{formik:s}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",iM(e,t)}var EM=function(e,n,r){var i=ws(e),s=i[n];return i.splice(n,1),i.splice(r,0,s),i},SM=function(e,n,r){var i=ws(e),s=i[n];return i[n]=i[r],i[r]=s,i},Xh=function(e,n,r){var i=ws(e);return i.splice(n,0,r),i},_M=function(e,n,r){var i=ws(e);return i[n]=r,i},ws=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(ae({},e,{length:n+1}))}else return[]},CM=function(t){xE(e,t);function e(r){var i;return i=t.call(this,r)||this,i.updateArrayField=function(s,o,a){var l=i.props,u=l.name,c=l.formik.setFormikState;c(function(h){var d=typeof a=="function"?a:s,f=typeof o=="function"?o:s,m=yn(h.values,u,s(Te(h.values,u))),v=a?d(Te(h.errors,u)):void 0,S=o?f(Te(h.touched,u)):void 0;return Vv(v)&&(v=void 0),Vv(S)&&(S=void 0),ae({},h,{values:m,errors:a?yn(h.errors,u,v):h.errors,touched:o?yn(h.touched,u,S):h.touched})})},i.push=function(s){return i.updateArrayField(function(o){return[].concat(ws(o),[aM(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,o){return i.updateArrayField(function(a){return SM(a,s,o)},!0,!0)},i.handleSwap=function(s,o){return function(){return i.swap(s,o)}},i.move=function(s,o){return i.updateArrayField(function(a){return EM(a,s,o)},!0,!0)},i.handleMove=function(s,o){return function(){return i.move(s,o)}},i.insert=function(s,o){return i.updateArrayField(function(a){return Xh(a,s,o)},function(a){return Xh(a,s,null)},function(a){return Xh(a,s,null)})},i.handleInsert=function(s,o){return function(){return i.insert(s,o)}},i.replace=function(s,o){return i.updateArrayField(function(a){return _M(a,s,o)},!1,!1)},i.handleReplace=function(s,o){return function(){return i.replace(s,o)}},i.unshift=function(s){var o=-1;return i.updateArrayField(function(a){var l=a?[s].concat(a):[s];return o<0&&(o=l.length),l},function(a){var l=a?[null].concat(a):[null];return o<0&&(o=l.length),l},function(a){var l=a?[null].concat(a):[null];return o<0&&(o=l.length),l}),o},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(jv(i)),i.pop=i.pop.bind(jv(i)),i}var n=e.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!rr(Te(i.formik.values,i.name),Te(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var s;return this.updateArrayField(function(o){var a=o?ws(o):[];return s||(s=a[i]),tt(a.splice)&&a.splice(i,1),a},!0,!0),s},n.pop=function(){var i;return this.updateArrayField(function(s){var o=s;return i||(i=o&&o.pop&&o.pop()),o},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,o=s.component,a=s.render,l=s.children,u=s.name,c=s.formik,h=fr(c,["validate","validationSchema"]),d=ae({},i,{form:h,name:u});return o?w.createElement(o,d):a?a(d):l?typeof l=="function"?l(d):kE(l)?null:w.Children.only(l):null},e}(w.Component);CM.defaultProps={validateOnChange:!0};var IM=function(t){xE(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(i){return Te(this.props.formik.errors,this.props.name)!==Te(i.formik.errors,this.props.name)||Te(this.props.formik.touched,this.props.name)!==Te(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},n.render=function(){var i=this.props,s=i.component,o=i.formik,a=i.render,l=i.children,u=i.name,c=fr(i,["component","formik","render","children","name"]),h=Te(o.touched,u),d=Te(o.errors,u);return h&&d?a?tt(a)?a(d):null:l?tt(l)?l(d):null:s?w.createElement(s,c,d):d:null},e}(w.Component),km=TM(IM);const PE=({children:t,initialValues:e,onSubmit:n,validationSchema:r,validateOnChange:i,validateOnBlur:s,onChange:o})=>T.jsx("div",{className:"",children:T.jsx(fM,{initialValues:e,onSubmit:n,validationSchema:r,validateOnChange:!i,validateOnBlur:!s,enableReinitialize:!0,children:a=>T.jsx(RE,{onChange:l=>o(l),children:t})})}),me={input:`block py-2.5 px-0 w-full text-sm text-grey-900 
  bg-transparent border-0 border-b-2 border-grey-300 
  appearance-none dark:text-grey-200 focus:dark:text-white dark:border-grey-600 
  dark:focus:border-secondary-200 focus:outline-none 
  focus:ring-0 focus:border-secondary-600 peer
  font-bold focus:font-normal`,label:`absolute text-sm text-grey-500 dark:text-grey-400 
  duration-300 transform -translate-y-6 scale-75 top-3 
  -z-10 origin-[0] peer-focus:left-0 peer-focus:text-secondary-600 
  peer-focus:dark:text-secondary-200 peer-placeholder-shown:scale-100 
  peer-placeholder-shown:translate-y-0 peer-focus:scale-75 
  peer-focus:-translate-y-6
  peer-focus:font-bold peer-focus:text-base`},xM=({label:t,name:e,...n})=>T.jsx(kn,{className:me.input,name:e,...n,children:({field:r})=>T.jsx(T.Fragment,{children:T.jsxs("div",{className:"relative z-0",children:[T.jsx("input",{type:"text",value:r.value,...r,className:me.input,placeholder:" "}),T.jsx("label",{htmlFor:t,className:me.label,children:t})]})})}),kM=({label:t,name:e,...n})=>T.jsx(kn,{className:me.input,name:e,...n,children:({field:r})=>T.jsx(T.Fragment,{children:T.jsxs("div",{className:"relative z-0",children:[T.jsx("input",{type:"password",value:r.value,...r,className:me.input,placeholder:" "}),T.jsx("label",{htmlFor:t,className:me.label,children:t})]})})}),AM=({label:t,name:e,...n})=>T.jsx(kn,{className:me.input,name:e,...n,children:({field:r})=>T.jsx(T.Fragment,{children:T.jsxs("div",{className:"relative z-0",children:[T.jsx("input",{type:"testarea",value:r.value,...r,className:me.input,placeholder:" "}),T.jsx("label",{htmlFor:t,className:me.label,children:t})]})})}),bM=({label:t,name:e,...n})=>T.jsx(kn,{className:me.input,name:e,...n,children:({field:r})=>T.jsx(T.Fragment,{children:T.jsxs("div",{className:"relative z-0",children:[T.jsx("input",{type:"tel",value:r.value,...r,className:me.input,placeholder:" "}),T.jsx("label",{htmlFor:t,className:me.label,children:t})]})})}),RM=({label:t,name:e,...n})=>T.jsx(kn,{className:me.input,name:e,...n,children:({field:r})=>T.jsx(T.Fragment,{children:T.jsxs("div",{className:"relative z-0",children:[T.jsx("input",{type:"email",value:r.value,...r,className:me.input,placeholder:" ",autoComplete:"off"}),T.jsx("label",{htmlFor:t,className:me.label,children:t})]})})}),Am=({children:t})=>T.jsxs("div",{className:"text-red-600 font-bold text-[.7rem]",children:["* ",t]}),PM=({label:t,name:e,options:n,...r})=>T.jsx(T.Fragment,{children:T.jsxs("div",{className:"relative",children:[T.jsx("label",{htmlFor:t,className:me.label,children:t}),T.jsx(kn,{className:me.input,name:e,as:"select",...r,children:n.map((i,s)=>T.jsx("option",{value:i.value,children:i.key},s))}),T.jsx(km,{name:e,component:Am})]})}),NM=({label:t,name:e,options:n,...r})=>T.jsx(T.Fragment,{children:T.jsxs("div",{className:"relative",children:[T.jsx("label",{htmlFor:t,className:me.label,children:t}),T.jsx("br",{}),T.jsx(kn,{className:me.input,name:e,...r,children:({field:i})=>n.map(s=>T.jsxs(Fs.Fragment,{children:[T.jsx("input",{type:"radio",id:s.value,...i,value:s.value}),T.jsx("label",{htmlFor:s.value,className:"mx-2",children:s.key})]},s.key))}),T.jsx(km,{name:e,component:Am})]})}),DM=({label:t,name:e,options:n,...r})=>T.jsx(T.Fragment,{children:T.jsxs("div",{className:"relative",children:[T.jsx("label",{htmlFor:t,className:me.label,children:t}),T.jsx("br",{}),T.jsx(kn,{className:me.input,name:e,...r,children:({field:i})=>n.map(s=>T.jsxs(Fs.Fragment,{children:[T.jsx("input",{type:"checkbox",id:s.value,...i,value:s.value}),T.jsx("label",{htmlFor:s.value,className:"mx-2",children:s.key})]},s.key))}),T.jsx(km,{name:e,component:Am})]})}),MM=({label:t,name:e,options:n,...r})=>T.jsx(T.Fragment,{children:T.jsx(kn,{className:me.input,name:e,type:"checkbox",...r,children:({field:i})=>T.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[T.jsx("input",{type:"checkbox",value:i.value,...i,className:"sr-only peer"}),T.jsx("div",{className:`w-11 h-6 bg-gray-400 \r
								peer-focus-xxx-:outline-none peer-focus-xxx-:ring-4\r
								peer-focus-xxx-:ring-success-300 dark:peer-focus-xxx-:ring-success-800 rounded-full peer \r
								dark:bg-gray-700 peer-checked:after:translate-x-full \r
								peer-checked:after:border-white after:content-[''] after:absolute \r
								after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 \r
								after:border after:rounded-full after:h-5 after:w-5 after:transition-all \r
								dark:border-gray-600 peer-checked:bg-success-600\r
								peer-checked:ring-success-600`}),T.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300",children:t})]})})}),LM=({label:t,name:e,options:n,...r})=>T.jsx(kn,{className:me.input,name:e,...r,children:({field:i})=>T.jsx(T.Fragment,{children:T.jsxs("div",{className:"relative z-0",children:[T.jsx("input",{type:"text",value:i.value,...i,className:me.input,placeholder:" ",list:"options",autoComplete:"off"}),T.jsx("label",{htmlFor:t,className:me.label,children:t}),T.jsx("datalist",{id:"options",children:n.map((s,o)=>T.jsx("option",{value:s.value,children:s.key},o))})]})})}),Jt=({inputType:t,...e})=>({text:T.jsx(xM,{...e}),password:T.jsx(kM,{...e}),number:T.jsx(bM,{...e}),email:T.jsx(RM,{...e}),textarea:T.jsx(AM,{...e}),select:T.jsx(PM,{...e}),autocomplete:T.jsx(LM,{...e}),radio:T.jsx(NM,{...e}),checkbox:T.jsx(DM,{...e}),switch:T.jsx(MM,{...e})})[t];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},OM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},DE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw Error();const d=s<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},$M=function(t){const e=NE(t);return DE.encodeByteArray(e,!0)},cu=function(t){return $M(t).replace(/\./g,"")},ME=function(t){try{return DE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=()=>FM().__FIREBASE_DEFAULTS__,VM=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ME(t[1]);return e&&JSON.parse(e)},bm=()=>{try{return jM()||VM()||UM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LE=t=>{var e,n;return(n=(e=bm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},BM=t=>{const e=LE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zM=()=>{var t;return(t=bm())===null||t===void 0?void 0:t.config},OE=t=>{var e;return(e=bm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[cu(JSON.stringify(n)),cu(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function $E(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qM(){const t=ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FE(){try{return typeof indexedDB=="object"}catch{return!1}}function jE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function QM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="FirebaseError";class an extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YM,Object.setPrototypeOf(this,an.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bi.prototype.create)}}class bi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?XM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new an(i,a,r)}}function XM(t,e){return t.replace(ZM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZM=/\{\$([^}]+)}/g;function JM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Go(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Uv(s)&&Uv(o)){if(!Go(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Uv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function eL(t,e){const n=new tL(t,e);return n.subscribe.bind(n)}class tL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zh),i.error===void 0&&(i.error=Zh),i.complete===void 0&&(i.complete=Zh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=1e3,iL=2,sL=4*60*60*1e3,oL=.5;function Bv(t,e=rL,n=iL){const r=e*Math.pow(n,t),i=Math.round(oL*r*(Math.random()-.5)*2);return Math.min(sL,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class sn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new HM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uL(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lL(t){return t===Qr?void 0:t}function uL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const hL={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},dL=ne.INFO,fL={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},pL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Oc{constructor(e){this.name=e,this._logLevel=dL,this._logHandler=pL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}const mL=(t,e)=>e.some(n=>t instanceof n);let zv,Hv;function gL(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yL(){return Hv||(Hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VE=new WeakMap,gf=new WeakMap,UE=new WeakMap,Jh=new WeakMap,Rm=new WeakMap;function vL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(vr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VE.set(n,t)}).catch(()=>{}),Rm.set(e,t),e}function wL(t){if(gf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});gf.set(t,e)}let yf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function TL(t){yf=t(yf)}function EL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ed(this),e,...n);return UE.set(r,e.sort?e.sort():[e]),vr(r)}:yL().includes(t)?function(...e){return t.apply(ed(this),e),vr(VE.get(this))}:function(...e){return vr(t.apply(ed(this),e))}}function SL(t){return typeof t=="function"?EL(t):(t instanceof IDBTransaction&&wL(t),mL(t,gL())?new Proxy(t,yf):t)}function vr(t){if(t instanceof IDBRequest)return vL(t);if(Jh.has(t))return Jh.get(t);const e=SL(t);return e!==t&&(Jh.set(t,e),Rm.set(e,t)),e}const ed=t=>Rm.get(t);function _L(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=vr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(vr(o.result),l.oldVersion,l.newVersion,vr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const CL=["get","getKey","getAll","getAllKeys","count"],IL=["put","add","delete","clear"],td=new Map;function Wv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(td.get(e))return td.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=IL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||CL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return td.set(e,s),s}TL(t=>({...t,get:(e,n,r)=>Wv(e,n)||t.get(e,n,r),has:(e,n)=>!!Wv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vf="@firebase/app",Gv="0.9.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new Oc("@firebase/app"),AL="@firebase/app-compat",bL="@firebase/analytics-compat",RL="@firebase/analytics",PL="@firebase/app-check-compat",NL="@firebase/app-check",DL="@firebase/auth",ML="@firebase/auth-compat",LL="@firebase/database",OL="@firebase/database-compat",$L="@firebase/functions",FL="@firebase/functions-compat",jL="@firebase/installations",VL="@firebase/installations-compat",UL="@firebase/messaging",BL="@firebase/messaging-compat",zL="@firebase/performance",HL="@firebase/performance-compat",WL="@firebase/remote-config",GL="@firebase/remote-config-compat",KL="@firebase/storage",qL="@firebase/storage-compat",QL="@firebase/firestore",YL="@firebase/firestore-compat",XL="firebase",ZL="9.16.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="[DEFAULT]",JL={[vf]:"fire-core",[AL]:"fire-core-compat",[RL]:"fire-analytics",[bL]:"fire-analytics-compat",[NL]:"fire-app-check",[PL]:"fire-app-check-compat",[DL]:"fire-auth",[ML]:"fire-auth-compat",[LL]:"fire-rtdb",[OL]:"fire-rtdb-compat",[$L]:"fire-fn",[FL]:"fire-fn-compat",[jL]:"fire-iid",[VL]:"fire-iid-compat",[UL]:"fire-fcm",[BL]:"fire-fcm-compat",[zL]:"fire-perf",[HL]:"fire-perf-compat",[WL]:"fire-rc",[GL]:"fire-rc-compat",[KL]:"fire-gcs",[qL]:"fire-gcs-compat",[QL]:"fire-fst",[YL]:"fire-fst-compat","fire-js":"fire-js",[XL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=new Map,Tf=new Map;function eO(t,e){try{t.container.addComponent(e)}catch(n){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cn(t){const e=t.name;if(Tf.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;Tf.set(e,t);for(const n of hu.values())eO(n,t);return!0}function Ri(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},wr=new bi("app","Firebase",tO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=ZL;function BE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wr.create("bad-app-name",{appName:String(i)});if(n||(n=zM()),!n)throw wr.create("no-options");const s=hu.get(i);if(s){if(Go(n,s.options)&&Go(r,s.config))return s;throw wr.create("duplicate-app",{appName:i})}const o=new cL(i);for(const l of Tf.values())o.addComponent(l);const a=new nO(n,r,o);return hu.set(i,a),a}function Pm(t=wf){const e=hu.get(t);if(!e&&t===wf)return BE();if(!e)throw wr.create("no-app",{appName:t});return e}function zt(t,e,n){var r;let i=(r=JL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(a.join(" "));return}Cn(new sn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="firebase-heartbeat-database",iO=1,Ko="firebase-heartbeat-store";let nd=null;function zE(){return nd||(nd=_L(rO,iO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ko)}}}).catch(t=>{throw wr.create("idb-open",{originalErrorMessage:t.message})})),nd}async function sO(t){try{return(await zE()).transaction(Ko).objectStore(Ko).get(HE(t))}catch(e){if(e instanceof an)pi.warn(e.message);else{const n=wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pi.warn(n.message)}}}async function Kv(t,e){try{const r=(await zE()).transaction(Ko,"readwrite");return await r.objectStore(Ko).put(e,HE(t)),r.done}catch(n){if(n instanceof an)pi.warn(n.message);else{const r=wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pi.warn(r.message)}}}function HE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=1024,aO=30*24*60*60*1e3;class lO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=qv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=aO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=qv(),{heartbeatsToSend:n,unsentEntries:r}=uO(this._heartbeatsCache.heartbeats),i=cu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function qv(){return new Date().toISOString().substring(0,10)}function uO(t,e=oO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Qv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Qv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FE()?jE().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await sO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Qv(t){return cu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){Cn(new sn("platform-logger",e=>new xL(e),"PRIVATE")),Cn(new sn("heartbeat",e=>new lO(e),"PRIVATE")),zt(vf,Gv,t),zt(vf,Gv,"esm2017"),zt("fire-js","")}hO("");var dO="firebase",fO="9.16.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zt(dO,fO,"app");const pO=(t,e)=>e.some(n=>t instanceof n);let Yv,Xv;function mO(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gO(){return Xv||(Xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WE=new WeakMap,Ef=new WeakMap,GE=new WeakMap,rd=new WeakMap,Nm=new WeakMap;function yO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Tr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&WE.set(n,t)}).catch(()=>{}),Nm.set(e,t),e}function vO(t){if(Ef.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ef.set(t,e)}let Sf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ef.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function wO(t){Sf=t(Sf)}function TO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(id(this),e,...n);return GE.set(r,e.sort?e.sort():[e]),Tr(r)}:gO().includes(t)?function(...e){return t.apply(id(this),e),Tr(WE.get(this))}:function(...e){return Tr(t.apply(id(this),e))}}function EO(t){return typeof t=="function"?TO(t):(t instanceof IDBTransaction&&vO(t),pO(t,mO())?new Proxy(t,Sf):t)}function Tr(t){if(t instanceof IDBRequest)return yO(t);if(rd.has(t))return rd.get(t);const e=EO(t);return e!==t&&(rd.set(t,e),Nm.set(e,t)),e}const id=t=>Nm.get(t);function SO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Tr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Tr(o.result),l.oldVersion,l.newVersion,Tr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const _O=["get","getKey","getAll","getAllKeys","count"],CO=["put","add","delete","clear"],sd=new Map;function Zv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sd.get(e))return sd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=CO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_O.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return sd.set(e,s),s}wO(t=>({...t,get:(e,n,r)=>Zv(e,n)||t.get(e,n,r),has:(e,n)=>!!Zv(e,n)||t.has(e,n)}));const KE="@firebase/installations",Dm="0.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=1e4,QE=`w:${Dm}`,YE="FIS_v2",IO="https://firebaseinstallations.googleapis.com/v1",xO=60*60*1e3,kO="installations",AO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},mi=new bi(kO,AO,bO);function XE(t){return t instanceof an&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE({projectId:t}){return`${IO}/projects/${t}/installations`}function JE(t){return{token:t.token,requestStatus:2,expiresIn:PO(t.expiresIn),creationTime:Date.now()}}async function eS(t,e){const r=(await e.json()).error;return mi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function tS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function RO(t,{refreshToken:e}){const n=tS(t);return n.append("Authorization",NO(e)),n}async function nS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function PO(t){return Number(t.replace("s","000"))}function NO(t){return`${YE} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=ZE(t),i=tS(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:YE,appId:t.appId,sdkVersion:QE},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await nS(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:JE(u.authToken)}}else throw await eS("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=/^[cdef][\w-]{21}$/,_f="";function OO(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=$O(t);return LO.test(n)?n:_f}catch{return _f}}function $O(t){return MO(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new Map;function sS(t,e){const n=$c(t);oS(n,e),FO(n,e)}function oS(t,e){const n=iS.get(t);if(n)for(const r of n)r(e)}function FO(t,e){const n=jO();n&&n.postMessage({key:t,fid:e}),VO()}let Jr=null;function jO(){return!Jr&&"BroadcastChannel"in self&&(Jr=new BroadcastChannel("[Firebase] FID Change"),Jr.onmessage=t=>{oS(t.data.key,t.data.fid)}),Jr}function VO(){iS.size===0&&Jr&&(Jr.close(),Jr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="firebase-installations-database",BO=1,gi="firebase-installations-store";let od=null;function Mm(){return od||(od=SO(UO,BO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(gi)}}})),od}async function du(t,e){const n=$c(t),i=(await Mm()).transaction(gi,"readwrite"),s=i.objectStore(gi),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&sS(t,e.fid),e}async function aS(t){const e=$c(t),r=(await Mm()).transaction(gi,"readwrite");await r.objectStore(gi).delete(e),await r.done}async function Fc(t,e){const n=$c(t),i=(await Mm()).transaction(gi,"readwrite"),s=i.objectStore(gi),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&sS(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lm(t){let e;const n=await Fc(t.appConfig,r=>{const i=zO(r),s=HO(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===_f?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function zO(t){const e=t||{fid:OO(),registrationStatus:0};return lS(e)}function HO(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(mi.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=WO(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:GO(t)}:{installationEntry:e}}async function WO(t,e){try{const n=await DO(t,e);return du(t.appConfig,n)}catch(n){throw XE(n)&&n.customData.serverCode===409?await aS(t.appConfig):await du(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function GO(t){let e=await Jv(t.appConfig);for(;e.registrationStatus===1;)await rS(100),e=await Jv(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Lm(t);return r||n}return e}function Jv(t){return Fc(t,e=>{if(!e)throw mi.create("installation-not-found");return lS(e)})}function lS(t){return KO(t)?{fid:t.fid,registrationStatus:0}:t}function KO(t){return t.registrationStatus===1&&t.registrationTime+qE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qO({appConfig:t,heartbeatServiceProvider:e},n){const r=QO(t,n),i=RO(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:QE,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await nS(()=>fetch(r,a));if(l.ok){const u=await l.json();return JE(u)}else throw await eS("Generate Auth Token",l)}function QO(t,{fid:e}){return`${ZE(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Om(t,e=!1){let n;const r=await Fc(t.appConfig,s=>{if(!uS(s))throw mi.create("not-registered");const o=s.authToken;if(!e&&ZO(o))return s;if(o.requestStatus===1)return n=YO(t,e),s;{if(!navigator.onLine)throw mi.create("app-offline");const a=e2(s);return n=XO(t,a),a}});return n?await n:r.authToken}async function YO(t,e){let n=await e0(t.appConfig);for(;n.authToken.requestStatus===1;)await rS(100),n=await e0(t.appConfig);const r=n.authToken;return r.requestStatus===0?Om(t,e):r}function e0(t){return Fc(t,e=>{if(!uS(e))throw mi.create("not-registered");const n=e.authToken;return t2(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function XO(t,e){try{const n=await qO(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await du(t.appConfig,r),n}catch(n){if(XE(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await aS(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await du(t.appConfig,r)}throw n}}function uS(t){return t!==void 0&&t.registrationStatus===2}function ZO(t){return t.requestStatus===2&&!JO(t)}function JO(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+xO}function e2(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function t2(t){return t.requestStatus===1&&t.requestTime+qE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2(t){const e=t,{installationEntry:n,registrationPromise:r}=await Lm(e);return r?r.catch(console.error):Om(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(t,e=!1){const n=t;return await i2(n),(await Om(n,e)).token}async function i2(t){const{registrationPromise:e}=await Lm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(t){if(!t||!t.options)throw ad("App Configuration");if(!t.name)throw ad("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ad(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ad(t){return mi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="installations",o2="installations-internal",a2=t=>{const e=t.getProvider("app").getImmediate(),n=s2(e),r=Ri(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},l2=t=>{const e=t.getProvider("app").getImmediate(),n=Ri(e,cS).getImmediate();return{getId:()=>n2(n),getToken:i=>r2(n,i)}};function u2(){Cn(new sn(cS,a2,"PUBLIC")),Cn(new sn(o2,l2,"PRIVATE"))}u2();zt(KE,Dm);zt(KE,Dm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu="analytics",c2="firebase_id",h2="origin",d2=60*1e3,f2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",hS="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt=new Oc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function p2(t,e){const n=document.createElement("script");n.src=`${hS}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function m2(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function g2(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await dS(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){bt.error(a)}t("config",i,s)}async function y2(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await dS(n);for(const l of o){const u=a.find(h=>h.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){bt.error(s)}}function v2(t,e,n,r){async function i(s,o,a){try{s==="event"?await y2(t,e,n,o,a):s==="config"?await g2(t,e,n,r,o,a):s==="consent"?t("consent","update",a):t("set",o)}catch(l){bt.error(l)}}return i}function w2(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=v2(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function T2(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(hS)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},Ht=new bi("analytics","Analytics",E2);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=30,_2=1e3;class C2{constructor(e={},n=_2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const fS=new C2;function I2(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function x2(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:I2(r)},s=f2.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Ht.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function k2(t,e=fS,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ht.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ht.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new R2;return setTimeout(async()=>{a.abort()},n!==void 0?n:d2),pS({appId:r,apiKey:i,measurementId:s},o,a,e)}async function pS(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=fS){var s;const{appId:o,measurementId:a}=t;try{await A2(r,e)}catch(l){if(a)return bt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await x2(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!b2(u)){if(i.deleteThrottleMetadata(o),a)return bt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?Bv(n,i.intervalMillis,S2):Bv(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,h),bt.debug(`Calling attemptFetch again in ${c} millis`),pS(t,h,r,i)}}function A2(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ht.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function b2(t){if(!(t instanceof an)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class R2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function P2(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N2(){if(FE())try{await jE()}catch(t){return bt.warn(Ht.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return bt.warn(Ht.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function D2(t,e,n,r,i,s,o){var a;const l=k2(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&bt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>bt.error(f)),e.push(l);const u=N2().then(f=>{if(f)return r.getId()}),[c,h]=await Promise.all([l,u]);T2(s)||p2(s,c.measurementId),i("js",new Date);const d=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return d[h2]="firebase",d.update=!0,h!=null&&(d[c2]=h),i("config",c.measurementId,d),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.app=e}_delete(){return delete wo[this.app.options.appId],Promise.resolve()}}let wo={},t0=[];const n0={};let ld="dataLayer",L2="gtag",r0,mS,i0=!1;function O2(){const t=[];if($E()&&t.push("This is a browser extension environment."),QM()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ht.create("invalid-analytics-context",{errorInfo:e});bt.warn(n.message)}}function $2(t,e,n){O2();const r=t.options.appId;if(!r)throw Ht.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)bt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ht.create("no-api-key");if(wo[r]!=null)throw Ht.create("already-exists",{id:r});if(!i0){m2(ld);const{wrappedGtag:s,gtagCore:o}=w2(wo,t0,n0,ld,L2);mS=s,r0=o,i0=!0}return wo[r]=D2(t,t0,n0,e,r0,ld,n),new M2(t)}function F2(t=Pm()){t=ct(t);const e=Ri(t,fu);return e.isInitialized()?e.getImmediate():j2(t)}function j2(t,e={}){const n=Ri(t,fu);if(n.isInitialized()){const i=n.getImmediate();if(Go(e,n.getOptions()))return i;throw Ht.create("already-initialized")}return n.initialize({options:e})}function V2(t,e,n,r){t=ct(t),P2(mS,wo[t.app.options.appId],e,n,r).catch(i=>bt.error(i))}const s0="@firebase/analytics",o0="0.9.1";function U2(){Cn(new sn(fu,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return $2(r,i,n)},"PUBLIC")),Cn(new sn("analytics-internal",t,"PRIVATE")),zt(s0,o0),zt(s0,o0,"esm2017");function t(e){try{const n=e.getProvider(fu).getImmediate();return{logEvent:(r,i,s)=>V2(n,r,i,s)}}catch(n){throw Ht.create("interop-component-reg-failed",{reason:n})}}}U2();var B2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,$m=$m||{},G=B2||self;function pu(){}function jc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Oa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function z2(t){return Object.prototype.hasOwnProperty.call(t,ud)&&t[ud]||(t[ud]=++H2)}var ud="closure_uid_"+(1e9*Math.random()>>>0),H2=0;function W2(t,e,n){return t.call.apply(t.bind,arguments)}function G2(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ot(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ot=W2:ot=G2,ot.apply(null,arguments)}function dl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ze(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Fr(){this.s=this.s,this.o=this.o}var K2=0;Fr.prototype.s=!1;Fr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),K2!=0)&&z2(this)};Fr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Fm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function a0(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(jc(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function at(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var q2=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{G.addEventListener("test",pu,e),G.removeEventListener("test",pu,e)}catch{}return t}();function mu(t){return/^[\s\xa0]*$/.test(t)}var l0=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function cd(t,e){return t<e?-1:t>e?1:0}function Vc(){var t=G.navigator;return t&&(t=t.userAgent)?t:""}function pn(t){return Vc().indexOf(t)!=-1}function jm(t){return jm[" "](t),t}jm[" "]=pu;function Q2(t){var e=Z2;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var Y2=pn("Opera"),Ts=pn("Trident")||pn("MSIE"),yS=pn("Edge"),Cf=yS||Ts,vS=pn("Gecko")&&!(Vc().toLowerCase().indexOf("webkit")!=-1&&!pn("Edge"))&&!(pn("Trident")||pn("MSIE"))&&!pn("Edge"),X2=Vc().toLowerCase().indexOf("webkit")!=-1&&!pn("Edge");function wS(){var t=G.document;return t?t.documentMode:void 0}var gu;e:{var hd="",dd=function(){var t=Vc();if(vS)return/rv:([^\);]+)(\)|;)/.exec(t);if(yS)return/Edge\/([\d\.]+)/.exec(t);if(Ts)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(X2)return/WebKit\/(\S+)/.exec(t);if(Y2)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(dd&&(hd=dd?dd[1]:""),Ts){var fd=wS();if(fd!=null&&fd>parseFloat(hd)){gu=String(fd);break e}}gu=hd}var Z2={};function J2(){return Q2(function(){let t=0;const e=l0(String(gu)).split("."),n=l0("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=cd(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||cd(i[2].length==0,s[2].length==0)||cd(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var If;if(G.document&&Ts){var u0=wS();If=u0||parseInt(gu,10)||void 0}else If=void 0;var e$=If;function qo(t,e){if(at.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(vS){e:{try{jm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:t$[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&qo.X.h.call(this)}}Ze(qo,at);var t$={2:"touch",3:"pen",4:"mouse"};qo.prototype.h=function(){qo.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $a="closure_listenable_"+(1e6*Math.random()|0),n$=0;function r$(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++n$,this.ba=this.ea=!1}function Uc(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Vm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function TS(t){const e={};for(const n in t)e[n]=t[n];return e}const c0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ES(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<c0.length;s++)n=c0[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Bc(t){this.src=t,this.g={},this.h=0}Bc.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=kf(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new r$(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function xf(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=gS(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Uc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function kf(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var Um="closure_lm_"+(1e6*Math.random()|0),pd={};function SS(t,e,n,r,i){if(r&&r.once)return CS(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)SS(t,e[s],n,r,i);return null}return n=Hm(n),t&&t[$a]?t.N(e,n,Oa(r)?!!r.capture:!!r,i):_S(t,e,n,!1,r,i)}function _S(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Oa(i)?!!i.capture:!!i,a=zm(t);if(a||(t[Um]=a=new Bc(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=i$(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)q2||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(xS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function i$(){function t(n){return e.call(t.src,t.listener,n)}const e=s$;return t}function CS(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)CS(t,e[s],n,r,i);return null}return n=Hm(n),t&&t[$a]?t.O(e,n,Oa(r)?!!r.capture:!!r,i):_S(t,e,n,!0,r,i)}function IS(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)IS(t,e[s],n,r,i);else r=Oa(r)?!!r.capture:!!r,n=Hm(n),t&&t[$a]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=kf(s,n,r,i),-1<n&&(Uc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=zm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=kf(e,n,r,i)),(n=-1<t?e[t]:null)&&Bm(n))}function Bm(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[$a])xf(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=zm(e))?(xf(n,t),n.h==0&&(n.src=null,e[Um]=null)):Uc(t)}}}function xS(t){return t in pd?pd[t]:pd[t]="on"+t}function s$(t,e){if(t.ba)t=!0;else{e=new qo(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Bm(t),t=n.call(r,e)}return t}function zm(t){return t=t[Um],t instanceof Bc?t:null}var md="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hm(t){return typeof t=="function"?t:(t[md]||(t[md]=function(e){return t.handleEvent(e)}),t[md])}function He(){Fr.call(this),this.i=new Bc(this),this.P=this,this.I=null}Ze(He,Fr);He.prototype[$a]=!0;He.prototype.removeEventListener=function(t,e,n,r){IS(this,t,e,n,r)};function Qe(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new at(e,t);else if(e instanceof at)e.target=e.target||t;else{var i=e;e=new at(r,t),ES(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=fl(o,r,!0,e)&&i}if(o=e.g=t,i=fl(o,r,!0,e)&&i,i=fl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=fl(o,r,!1,e)&&i}He.prototype.M=function(){if(He.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Uc(n[r]);delete t.g[e],t.h--}}this.I=null};He.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};He.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function fl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&xf(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Wm=G.JSON.stringify;function o$(){var t=bS;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}let a$=class{constructor(){this.h=this.g=null}add(e,n){const r=kS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};var kS=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new l$,t=>t.reset());let l$=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function u$(t){G.setTimeout(()=>{throw t},0)}function AS(t,e){Af||c$(),bf||(Af(),bf=!0),bS.add(t,e)}var Af;function c$(){var t=G.Promise.resolve(void 0);Af=function(){t.then(h$)}}var bf=!1,bS=new a$;function h$(){for(var t;t=o$();){try{t.h.call(t.g)}catch(n){u$(n)}var e=kS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}bf=!1}function zc(t,e){He.call(this),this.h=t||1,this.g=e||G,this.j=ot(this.lb,this),this.l=Date.now()}Ze(zc,He);M=zc.prototype;M.ca=!1;M.R=null;M.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Qe(this,"tick"),this.ca&&(Gm(this),this.start()))}};M.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Gm(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}M.M=function(){zc.X.M.call(this),Gm(this),delete this.g};function Km(t,e,n){if(typeof t=="function")n&&(t=ot(t,n));else if(t&&typeof t.handleEvent=="function")t=ot(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:G.setTimeout(t,e||0)}function RS(t){t.g=Km(()=>{t.g=null,t.i&&(t.i=!1,RS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}let d$=class extends Fr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:RS(this)}M(){super.M(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Qo(t){Fr.call(this),this.h=t,this.g={}}Ze(Qo,Fr);var h0=[];function PS(t,e,n,r){Array.isArray(n)||(n&&(h0[0]=n.toString()),n=h0);for(var i=0;i<n.length;i++){var s=SS(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function NS(t){Vm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Bm(e)},t),t.g={}}Qo.prototype.M=function(){Qo.X.M.call(this),NS(this)};Qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Hc(){this.g=!0}Hc.prototype.Aa=function(){this.g=!1};function f$(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function p$(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function zi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+g$(t,n)+(r?" "+r:"")})}function m$(t,e){t.info(function(){return"TIMEOUT: "+e})}Hc.prototype.info=function(){};function g$(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Wm(n)}catch{return e}}var Pi={},d0=null;function Wc(){return d0=d0||new He}Pi.Pa="serverreachability";function DS(t){at.call(this,Pi.Pa,t)}Ze(DS,at);function Yo(t){const e=Wc();Qe(e,new DS(e))}Pi.STAT_EVENT="statevent";function MS(t,e){at.call(this,Pi.STAT_EVENT,t),this.stat=e}Ze(MS,at);function gt(t){const e=Wc();Qe(e,new MS(e,t))}Pi.Qa="timingevent";function LS(t,e){at.call(this,Pi.Qa,t),this.size=e}Ze(LS,at);function Fa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){t()},e)}var Gc={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},OS={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function qm(){}qm.prototype.h=null;function f0(t){return t.h||(t.h=t.i())}function $S(){}var ja={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Qm(){at.call(this,"d")}Ze(Qm,at);function Ym(){at.call(this,"c")}Ze(Ym,at);var Rf;function Kc(){}Ze(Kc,qm);Kc.prototype.g=function(){return new XMLHttpRequest};Kc.prototype.i=function(){return{}};Rf=new Kc;function Va(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Qo(this),this.O=y$,t=Cf?125:void 0,this.T=new zc(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new FS}function FS(){this.i=null,this.g="",this.h=!1}var y$=45e3,Pf={},yu={};M=Va.prototype;M.setTimeout=function(t){this.O=t};function Nf(t,e,n){t.K=1,t.v=Qc(Un(e)),t.s=n,t.P=!0,jS(t,null)}function jS(t,e){t.F=Date.now(),Ua(t),t.A=Un(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),KS(n.i,"t",r),t.C=0,n=t.l.H,t.h=new FS,t.g=p_(t.l,n?e:null,!t.s),0<t.N&&(t.L=new d$(ot(t.La,t,t.g),t.N)),PS(t.S,t.g,"readystatechange",t.ib),e=t.H?TS(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Yo(),f$(t.j,t.u,t.A,t.m,t.U,t.s)}M.ib=function(t){t=t.target;const e=this.L;e&&Dn(t)==3?e.l():this.La(t)};M.La=function(t){try{if(t==this.g)e:{const c=Dn(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>c)&&(c!=3||Cf||this.g&&(this.h.h||this.g.fa()||y0(this.g)))){this.I||c!=4||e==7||(e==8||0>=h?Yo(3):Yo(2)),qc(this);var n=this.g.aa();this.Y=n;t:if(VS(this)){var r=y0(this.g);t="";var i=r.length,s=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ei(this),To(this);var o="";break t}this.h.i=new G.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,p$(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mu(a)){var u=a;break t}}u=null}if(n=u)zi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Df(this,n);else{this.i=!1,this.o=3,gt(12),ei(this),To(this);break e}}this.P?(US(this,c,o),Cf&&this.i&&c==3&&(PS(this.S,this.T,"tick",this.hb),this.T.start())):(zi(this.j,this.m,o,null),Df(this,o)),c==4&&ei(this),this.i&&!this.I&&(c==4?c_(this.l,this):(this.i=!1,Ua(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,gt(12)):(this.o=0,gt(13)),ei(this),To(this)}}}catch{}finally{}};function VS(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function US(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=v$(t,n),i==yu){e==4&&(t.o=4,gt(14),r=!1),zi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Pf){t.o=4,gt(15),zi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else zi(t.j,t.m,i,null),Df(t,i);VS(t)&&i!=yu&&i!=Pf&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,gt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),rg(e),e.K=!0,gt(11))):(zi(t.j,t.m,n,"[Invalid Chunked Response]"),ei(t),To(t))}M.hb=function(){if(this.g){var t=Dn(this.g),e=this.g.fa();this.C<e.length&&(qc(this),US(this,t,e),this.i&&t!=4&&Ua(this))}};function v$(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?yu:(n=Number(e.substring(n,r)),isNaN(n)?Pf:(r+=1,r+n>e.length?yu:(e=e.substr(r,n),t.C=r+n,e)))}M.cancel=function(){this.I=!0,ei(this)};function Ua(t){t.V=Date.now()+t.O,BS(t,t.O)}function BS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Fa(ot(t.gb,t),e)}function qc(t){t.B&&(G.clearTimeout(t.B),t.B=null)}M.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(m$(this.j,this.A),this.K!=2&&(Yo(),gt(17)),ei(this),this.o=2,To(this)):BS(this,this.V-t)};function To(t){t.l.G==0||t.I||c_(t.l,t)}function ei(t){qc(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Gm(t.T),NS(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Df(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Mf(n.h,t))){if(!t.J&&Mf(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Tu(n),Zc(n);else break e;ng(n),gt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Fa(ot(n.cb,n),6e3));if(1>=YS(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else ti(n,11)}else if((t.J||n.g==t)&&Tu(n),!mu(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const h=u[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const m=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.h;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Xm(s,s.h),s.h=null))}if(r.D){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.za=v,ve(r.F,r.D,v))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=f_(r,r.H?r.ka:null,r.V),o.J){XS(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(qc(a),Ua(a)),r.g=o}else l_(r);0<n.i.length&&Jc(n)}else u[0]!="stop"&&u[0]!="close"||ti(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ti(n,7):tg(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}Yo(4)}catch{}}function w$(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(jc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function T$(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(jc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function zS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(jc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=T$(t),r=w$(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var HS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function E$(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ai(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ai){this.h=e!==void 0?e:t.h,vu(this,t.j),this.s=t.s,this.g=t.g,wu(this,t.m),this.l=t.l,e=t.i;var n=new Xo;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),p0(this,n),this.o=t.o}else t&&(n=String(t).match(HS))?(this.h=!!e,vu(this,n[1]||"",!0),this.s=ao(n[2]||""),this.g=ao(n[3]||"",!0),wu(this,n[4]),this.l=ao(n[5]||"",!0),p0(this,n[6]||"",!0),this.o=ao(n[7]||"")):(this.h=!!e,this.i=new Xo(null,this.h))}ai.prototype.toString=function(){var t=[],e=this.j;e&&t.push(lo(e,m0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(lo(e,m0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(lo(n,n.charAt(0)=="/"?C$:_$,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",lo(n,x$)),t.join("")};function Un(t){return new ai(t)}function vu(t,e,n){t.j=n?ao(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function wu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function p0(t,e,n){e instanceof Xo?(t.i=e,k$(t.i,t.h)):(n||(e=lo(e,I$)),t.i=new Xo(e,t.h))}function ve(t,e,n){t.i.set(e,n)}function Qc(t){return ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ao(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function lo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,S$),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function S$(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var m0=/[#\/\?@]/g,_$=/[#\?:]/g,C$=/[#\?]/g,I$=/[#\?@]/g,x$=/#/g;function Xo(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function jr(t){t.g||(t.g=new Map,t.h=0,t.i&&E$(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}M=Xo.prototype;M.add=function(t,e){jr(this),this.i=null,t=Vs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function WS(t,e){jr(t),e=Vs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function GS(t,e){return jr(t),e=Vs(t,e),t.g.has(e)}M.forEach=function(t,e){jr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};M.oa=function(){jr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};M.W=function(t){jr(this);let e=[];if(typeof t=="string")GS(this,t)&&(e=e.concat(this.g.get(Vs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};M.set=function(t,e){return jr(this),this.i=null,t=Vs(this,t),GS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};M.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function KS(t,e,n){WS(t,e),0<n.length&&(t.i=null,t.g.set(Vs(t,e),Fm(n)),t.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Vs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function k$(t,e){e&&!t.j&&(jr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(WS(this,r),KS(this,i,n))},t)),t.j=e}var A$=class{constructor(e,n){this.h=e,this.g=n}};function qS(t){this.l=t||b$,G.PerformanceNavigationTiming?(t=G.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(G.g&&G.g.Ga&&G.g.Ga()&&G.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var b$=10;function QS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function YS(t){return t.h?1:t.g?t.g.size:0}function Mf(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Xm(t,e){t.g?t.g.add(e):t.h=e}function XS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}qS.prototype.cancel=function(){if(this.i=ZS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function ZS(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Fm(t.i)}function Zm(){}Zm.prototype.stringify=function(t){return G.JSON.stringify(t,void 0)};Zm.prototype.parse=function(t){return G.JSON.parse(t,void 0)};function R$(){this.g=new Zm}function P$(t,e,n){const r=n||"";try{zS(t,function(i,s){let o=i;Oa(i)&&(o=Wm(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function N$(t,e){const n=new Hc;if(G.Image){const r=new Image;r.onload=dl(pl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=dl(pl,n,r,"TestLoadImage: error",!1,e),r.onabort=dl(pl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=dl(pl,n,r,"TestLoadImage: timeout",!1,e),G.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function pl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ba(t){this.l=t.ac||null,this.j=t.jb||!1}Ze(Ba,qm);Ba.prototype.g=function(){return new Yc(this.l,this.j)};Ba.prototype.i=function(t){return function(){return t}}({});function Yc(t,e){He.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Jm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ze(Yc,He);var Jm=0;M=Yc.prototype;M.open=function(t,e){if(this.readyState!=Jm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Zo(this)};M.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||G).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,za(this)),this.readyState=Jm};M.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Zo(this)),this.g&&(this.readyState=3,Zo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof G.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;JS(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function JS(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}M.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?za(this):Zo(this),this.readyState==3&&JS(this)}};M.Va=function(t){this.g&&(this.response=this.responseText=t,za(this))};M.Ua=function(t){this.g&&(this.response=t,za(this))};M.ga=function(){this.g&&za(this)};function za(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Zo(t)}M.setRequestHeader=function(t,e){this.v.append(t,e)};M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Zo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Yc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var D$=G.JSON.parse;function Ae(t){He.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=e_,this.K=this.L=!1}Ze(Ae,He);var e_="",M$=/^https?$/i,L$=["POST","PUT"];M=Ae.prototype;M.Ka=function(t){this.L=t};M.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rf.g(),this.C=this.u?f0(this.u):f0(Rf),this.g.onreadystatechange=ot(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){g0(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=G.FormData&&t instanceof G.FormData,!(0<=gS(L$,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{r_(this),0<this.B&&((this.K=O$(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ot(this.qa,this)):this.A=Km(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){g0(this,s)}};function O$(t){return Ts&&J2()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}M.qa=function(){typeof $m<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qe(this,"timeout"),this.abort(8))};function g0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,t_(t),Xc(t)}function t_(t){t.D||(t.D=!0,Qe(t,"complete"),Qe(t,"error"))}M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qe(this,"complete"),Qe(this,"abort"),Xc(this))};M.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xc(this,!0)),Ae.X.M.call(this)};M.Ha=function(){this.s||(this.F||this.v||this.l?n_(this):this.fb())};M.fb=function(){n_(this)};function n_(t){if(t.h&&typeof $m<"u"&&(!t.C[1]||Dn(t)!=4||t.aa()!=2)){if(t.v&&Dn(t)==4)Km(t.Ha,0,t);else if(Qe(t,"readystatechange"),Dn(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(HS)[1]||null;if(!i&&G.self&&G.self.location){var s=G.self.location.protocol;i=s.substr(0,s.length-1)}r=!M$.test(i?i.toLowerCase():"")}n=r}if(n)Qe(t,"complete"),Qe(t,"success");else{t.m=6;try{var o=2<Dn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",t_(t)}}finally{Xc(t)}}}}function Xc(t,e){if(t.g){r_(t);const n=t.g,r=t.C[0]?pu:null;t.g=null,t.C=null,e||Qe(t,"ready");try{n.onreadystatechange=r}catch{}}}function r_(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(G.clearTimeout(t.A),t.A=null)}function Dn(t){return t.g?t.g.readyState:0}M.aa=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}};M.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),D$(e)}};function y0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case e_:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}M.Ea=function(){return this.m};M.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function i_(t){let e="";return Vm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function eg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=i_(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ve(t,e,n))}function Qs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function s_(t){this.Ca=0,this.i=[],this.j=new Hc,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Qs("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Qs("baseRetryDelayMs",5e3,t),this.bb=Qs("retryDelaySeedMs",1e4,t),this.$a=Qs("forwardChannelMaxRetries",2,t),this.ta=Qs("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new qS(t&&t.concurrentRequestLimit),this.Fa=new R$,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}M=s_.prototype;M.ma=8;M.G=1;function tg(t){if(o_(t),t.G==3){var e=t.U++,n=Un(t.F);ve(n,"SID",t.I),ve(n,"RID",e),ve(n,"TYPE","terminate"),Ha(t,n),e=new Va(t,t.j,e,void 0),e.K=2,e.v=Qc(Un(n)),n=!1,G.navigator&&G.navigator.sendBeacon&&(n=G.navigator.sendBeacon(e.v.toString(),"")),!n&&G.Image&&(new Image().src=e.v,n=!0),n||(e.g=p_(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ua(e)}d_(t)}function Zc(t){t.g&&(rg(t),t.g.cancel(),t.g=null)}function o_(t){Zc(t),t.u&&(G.clearTimeout(t.u),t.u=null),Tu(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&G.clearTimeout(t.m),t.m=null)}function Jc(t){QS(t.h)||t.m||(t.m=!0,AS(t.Ja,t),t.C=0)}function $$(t,e){return YS(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Fa(ot(t.Ja,t,e),h_(t,t.C)),t.C++,!0)}M.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Va(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=TS(s),ES(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=a_(this,i,e),n=Un(this.F),ve(n,"RID",t),ve(n,"CVER",22),this.D&&ve(n,"X-HTTP-Session-Id",this.D),Ha(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(i_(s)))+"&"+e:this.o&&eg(n,this.o,s)),Xm(this.h,i),this.Ya&&ve(n,"TYPE","init"),this.O?(ve(n,"$req",e),ve(n,"SID","null"),i.Z=!0,Nf(i,n,null)):Nf(i,n,e),this.G=2}}else this.G==3&&(t?v0(this,t):this.i.length==0||QS(this.h)||v0(this))};function v0(t,e){var n;e?n=e.m:n=t.U++;const r=Un(t.F);ve(r,"SID",t.I),ve(r,"RID",n),ve(r,"AID",t.T),Ha(t,r),t.o&&t.s&&eg(r,t.o,t.s),n=new Va(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=a_(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Xm(t.h,n),Nf(n,r,e)}function Ha(t,e){t.ia&&Vm(t.ia,function(n,r){ve(e,r,n)}),t.l&&zS({},function(n,r){ve(e,r,n)})}function a_(t,e,n){n=Math.min(t.i.length,n);var r=t.l?ot(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{P$(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function l_(t){t.g||t.u||(t.Z=1,AS(t.Ia,t),t.A=0)}function ng(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Fa(ot(t.Ia,t),h_(t,t.A)),t.A++,!0)}M.Ia=function(){if(this.u=null,u_(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Fa(ot(this.eb,this),t)}};M.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,gt(10),Zc(this),u_(this))};function rg(t){t.B!=null&&(G.clearTimeout(t.B),t.B=null)}function u_(t){t.g=new Va(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Un(t.sa);ve(e,"RID","rpc"),ve(e,"SID",t.I),ve(e,"CI",t.L?"0":"1"),ve(e,"AID",t.T),ve(e,"TYPE","xmlhttp"),Ha(t,e),t.o&&t.s&&eg(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Qc(Un(e)),n.s=null,n.P=!0,jS(n,t)}M.cb=function(){this.v!=null&&(this.v=null,Zc(this),ng(this),gt(19))};function Tu(t){t.v!=null&&(G.clearTimeout(t.v),t.v=null)}function c_(t,e){var n=null;if(t.g==e){Tu(t),rg(t),t.g=null;var r=2}else if(Mf(t.h,e))n=e.D,XS(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Wc(),Qe(r,new LS(r,n)),Jc(t)}else l_(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&$$(t,e)||r==2&&ng(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:ti(t,5);break;case 4:ti(t,10);break;case 3:ti(t,6);break;default:ti(t,2)}}}function h_(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function ti(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=ot(t.kb,t);n||(n=new ai("//www.google.com/images/cleardot.gif"),G.location&&G.location.protocol=="http"||vu(n,"https"),Qc(n)),N$(n.toString(),r)}else gt(2);t.G=0,t.l&&t.l.va(e),d_(t),o_(t)}M.kb=function(t){t?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function d_(t){if(t.G=0,t.la=[],t.l){const e=ZS(t.h);(e.length!=0||t.i.length!=0)&&(a0(t.la,e),a0(t.la,t.i),t.h.i.length=0,Fm(t.i),t.i.length=0),t.l.ua()}}function f_(t,e,n){var r=n instanceof ai?Un(n):new ai(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),wu(r,r.m);else{var i=G.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ai(null,void 0);r&&vu(s,r),e&&(s.g=e),i&&wu(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&ve(r,n,e),ve(r,"VER",t.ma),Ha(t,r),r}function p_(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Ae(new Ba({jb:!0})):new Ae(t.ra),e.Ka(t.H),e}function m_(){}M=m_.prototype;M.xa=function(){};M.wa=function(){};M.va=function(){};M.ua=function(){};M.Ra=function(){};function Eu(){if(Ts&&!(10<=Number(e$)))throw Error("Environmental error: no available transport.")}Eu.prototype.g=function(t,e){return new Pt(t,e)};function Pt(t,e){He.call(this),this.g=new s_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!mu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mu(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Us(this)}Ze(Pt,He);Pt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;gt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=f_(t,null,t.V),Jc(t)};Pt.prototype.close=function(){tg(this.g)};Pt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Wm(t),t=n);e.i.push(new A$(e.ab++,t)),e.G==3&&Jc(e)};Pt.prototype.M=function(){this.g.l=null,delete this.j,tg(this.g),delete this.g,Pt.X.M.call(this)};function g_(t){Qm.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ze(g_,Qm);function y_(){Ym.call(this),this.status=1}Ze(y_,Ym);function Us(t){this.g=t}Ze(Us,m_);Us.prototype.xa=function(){Qe(this.g,"a")};Us.prototype.wa=function(t){Qe(this.g,new g_(t))};Us.prototype.va=function(t){Qe(this.g,new y_)};Us.prototype.ua=function(){Qe(this.g,"b")};Eu.prototype.createWebChannel=Eu.prototype.g;Pt.prototype.send=Pt.prototype.u;Pt.prototype.open=Pt.prototype.m;Pt.prototype.close=Pt.prototype.close;Gc.NO_ERROR=0;Gc.TIMEOUT=8;Gc.HTTP_ERROR=6;OS.COMPLETE="complete";$S.EventType=ja;ja.OPEN="a";ja.CLOSE="b";ja.ERROR="c";ja.MESSAGE="d";He.prototype.listen=He.prototype.N;Ae.prototype.listenOnce=Ae.prototype.O;Ae.prototype.getLastError=Ae.prototype.Oa;Ae.prototype.getLastErrorCode=Ae.prototype.Ea;Ae.prototype.getStatus=Ae.prototype.aa;Ae.prototype.getResponseJson=Ae.prototype.Sa;Ae.prototype.getResponseText=Ae.prototype.fa;Ae.prototype.send=Ae.prototype.da;Ae.prototype.setWithCredentials=Ae.prototype.Ka;var F$=function(){return new Eu},j$=function(){return Wc()},gd=Gc,V$=OS,U$=Pi,w0={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},B$=Ba,ml=$S,z$=Ae;const T0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nt.UNAUTHENTICATED=new nt(null),nt.GOOGLE_CREDENTIALS=new nt("google-credentials-uid"),nt.FIRST_PARTY=new nt("first-party-uid"),nt.MOCK_USER=new nt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bs="9.16.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new Oc("@firebase/firestore");function E0(){return yi.logLevel}function L(t,...e){if(yi.logLevel<=ne.DEBUG){const n=e.map(ig);yi.debug(`Firestore (${Bs}): ${t}`,...n)}}function Bn(t,...e){if(yi.logLevel<=ne.ERROR){const n=e.map(ig);yi.error(`Firestore (${Bs}): ${t}`,...n)}}function Lf(t,...e){if(yi.logLevel<=ne.WARN){const n=e.map(ig);yi.warn(`Firestore (${Bs}): ${t}`,...n)}}function ig(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(t="Unexpected state"){const e=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: `+t;throw Bn(e),new Error(e)}function he(t,e){t||H()}function q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let z=class extends an{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v_=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},H$=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nt.UNAUTHENTICATED))}shutdown(){}},W$=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},G$=class{constructor(e){this.t=e,this.currentUser=nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new li;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new li,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new li)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(he(typeof r.accessToken=="string"),new v_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string"),new nt(e)}};class K${constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=nt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(he(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}let q$=class{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new K$(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Q$=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Y$=class{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{s.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(he(typeof n.token=="string"),this.A=n.token,new Q$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w_=class{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=X$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function re(t,e){return t<e?-1:t>e?1:0}function Es(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $e(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.timestamp=e}static fromTimestamp(e){return new K(e)}static min(){return new K(new $e(0,0))}static max(){return new K(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,r){n===void 0?n=0:n>e.length&&H(),r===void 0?r=e.length-n:r>e.length-n&&H(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class xe extends Jo{construct(e,n,r){return new xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new z(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new xe(n)}static emptyPath(){return new xe([])}}const Z$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class st extends Jo{construct(e,n,r){return new st(e,n,r)}static isValidIdentifier(e){return Z$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),st.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new st(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new z(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new z(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new z(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new st(n)}static emptyPath(){return new st([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.path=e}static fromPath(e){return new j(xe.fromString(e))}static fromName(e){return new j(xe.fromString(e).popFirst(5))}static empty(){return new j(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new j(new xe(e.slice()))}}function J$(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=K.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new Rr(i,j.empty(),e)}function e3(t){return new Rr(t.readTime,t.key,-1)}class Rr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rr(K.min(),j.empty(),-1)}static max(){return new Rr(K.max(),j.empty(),-1)}}function t3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=j.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==n3)throw t;L("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&H(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new k((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):k.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):k.reject(n)}static resolve(e){return new k((n,r)=>{n(e)})}static reject(e){return new k((n,r)=>{r(e)})}static waitFor(e){return new k((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=k.resolve(!1);for(const r of e)n=n.next(i=>i?k.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new k((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new k((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ga(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}sg.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class ea{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ea("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ea&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ni(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function T_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){return t==null}function Su(t){return t===0&&1/t==-1/0}function s3(t){return typeof t=="number"&&Number.isInteger(t)&&!Su(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new ht(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const o3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(t){if(he(!!t),typeof t=="string"){let e=0;const n=o3.exec(t);if(he(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ss(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function S_(t){const e=t.mapValue.fields.__previous_value__;return E_(e)?S_(e):e}function ta(t){const e=Pr(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?E_(t)?4:a3(t)?9007199254740991:10:H()}function In(t,e){if(t===e)return!0;const n=vi(t);if(n!==vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ta(t).isEqual(ta(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Pr(r.timestampValue),o=Pr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Ss(r.bytesValue).isEqual(Ss(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Pe(r.geoPointValue.latitude)===Pe(i.geoPointValue.latitude)&&Pe(r.geoPointValue.longitude)===Pe(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pe(r.integerValue)===Pe(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Pe(r.doubleValue),o=Pe(i.doubleValue);return s===o?Su(s)===Su(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Es(t.arrayValue.values||[],e.arrayValue.values||[],In);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(S0(s)!==S0(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!In(s[a],o[a])))return!1;return!0}(t,e);default:return H()}}function na(t,e){return(t.values||[]).find(n=>In(n,e))!==void 0}function _s(t,e){if(t===e)return 0;const n=vi(t),r=vi(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Pe(i.integerValue||i.doubleValue),a=Pe(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return _0(t.timestampValue,e.timestampValue);case 4:return _0(ta(t),ta(e));case 5:return re(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Ss(i),a=Ss(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=re(o[l],a[l]);if(u!==0)return u}return re(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=re(Pe(i.latitude),Pe(s.latitude));return o!==0?o:re(Pe(i.longitude),Pe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=_s(o[l],a[l]);if(u)return u}return re(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===gl.mapValue&&s===gl.mapValue)return 0;if(i===gl.mapValue)return 1;if(s===gl.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=re(a[c],u[c]);if(h!==0)return h;const d=_s(o[a[c]],l[u[c]]);if(d!==0)return d}return re(a.length,u.length)}(t.mapValue,e.mapValue);default:throw H()}}function _0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=Pr(t),r=Pr(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function Cs(t){return Of(t)}function Of(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Pr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ss(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,j.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Of(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Of(r.fields[a])}`;return s+"}"}(t.mapValue):H();var e,n}function $f(t){return!!t&&"integerValue"in t}function og(t){return!!t&&"arrayValue"in t}function C0(t){return!!t&&"nullValue"in t}function I0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ul(t){return!!t&&"mapValue"in t}function Eo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ni(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Eo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function a3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u=class{constructor(e,n){this.position=e,this.inclusive=n}};function x0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=j.comparator(j.fromName(o.referenceValue),n.key):r=_s(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function k0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!In(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __=class{},Ue=class extends __{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new u3(e,n,r):n==="array-contains"?new d3(e,r):n==="in"?new f3(e,r):n==="not-in"?new p3(e,r):n==="array-contains-any"?new m3(e,r):new Ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new c3(e,r):new h3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_s(n,this.value)):n!==null&&vi(this.value)===vi(n)&&this.matchesComparison(_s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return H()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},zn=class extends __{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new zn(e,n)}matches(e){return C_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}};function C_(t){return t.op==="and"}function I_(t){return l3(t)&&C_(t)}function l3(t){for(const e of t.filters)if(e instanceof zn)return!1;return!0}function Ff(t){if(t instanceof Ue)return t.field.canonicalString()+t.op.toString()+Cs(t.value);if(I_(t))return t.filters.map(e=>Ff(e)).join(",");{const e=t.filters.map(n=>Ff(n)).join(",");return`${t.op}(${e})`}}function x_(t,e){return t instanceof Ue?function(n,r){return r instanceof Ue&&n.op===r.op&&n.field.isEqual(r.field)&&In(n.value,r.value)}(t,e):t instanceof zn?function(n,r){return r instanceof zn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&x_(s,r.filters[o]),!0):!1}(t,e):void H()}function k_(t){return t instanceof Ue?function(e){return`${e.field.canonicalString()} ${e.op} ${Cs(e.value)}`}(t):t instanceof zn?function(e){return e.op.toString()+" {"+e.getFilters().map(k_).join(" ,")+"}"}(t):"Filter"}let u3=class extends Ue{constructor(e,n,r){super(e,n,r),this.key=j.fromName(r.referenceValue)}matches(e){const n=j.comparator(e.key,this.key);return this.matchesComparison(n)}},c3=class extends Ue{constructor(e,n){super(e,"in",n),this.keys=A_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},h3=class extends Ue{constructor(e,n){super(e,"not-in",n),this.keys=A_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function A_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}let d3=class extends Ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return og(n)&&na(n.arrayValue,this.value)}},f3=class extends Ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&na(this.value.arrayValue,n)}},p3=class extends Ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!na(this.value.arrayValue,n)}},m3=class extends Ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!og(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>na(this.value.arrayValue,r))}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function g3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let We=class{constructor(e,n){this.comparator=e,this.root=n||rt.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yl(this.root,e,this.comparator,!1)}getReverseIterator(){return new yl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yl(this.root,e,this.comparator,!0)}},yl=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},rt=class{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??rt.RED,this.left=i??rt.EMPTY,this.right=s??rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new rt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw H();const e=this.left.check();if(e!==this.right.check())throw H();return e+(this.isRed()?0:1)}};rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1;rt.EMPTY=new class{constructor(){this.size=0}get key(){throw H()}get value(){throw H()}get color(){throw H()}get left(){throw H()}get right(){throw H()}copy(t,e,n,r,i){return this}insert(t,e,n){return new rt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Be=class{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new A0(this.data.getIterator())}getIteratorFrom(e){return new A0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Be)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Be(this.comparator);return n.data=e,n}},A0=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gn=class{constructor(e){this.fields=e,e.sort(st.comparator)}static empty(){return new gn([])}unionWith(e){let n=new Be(st.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Es(this.fields,e.fields,(n,r)=>n.isEqual(r))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ut=class{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ul(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eo(n)}setAll(e){let n=st.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Eo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ul(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return In(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ul(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ni(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Ut(Eo(this.value))}};function b_(t){const e=[];return Ni(t.fields,(n,r)=>{const i=new st([n]);if(Ul(r)){const s=b_(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mt=class{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new mt(e,0,K.min(),K.min(),K.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,i){return new mt(e,1,n,K.min(),r,i,0)}static newNoDocument(e,n){return new mt(e,2,n,K.min(),K.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new mt(e,3,n,K.min(),K.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(K.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=K.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function b0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new y3(t,e,n,r,i,s,o)}function ag(t){const e=q(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ff(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),eh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cs(r)).join(",")),e.ft=n}return e.ft}function lg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!g3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!x_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!k0(t.startAt,e.startAt)&&k0(t.endAt,e.endAt)}function jf(t){return j.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this._t=null,this.startAt,this.endAt}}function v3(t,e,n,r,i,s,o,a){return new th(t,e,n,r,i,s,o,a)}function ug(t){return new th(t)}function R0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function w3(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function T3(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function E3(t){return t.collectionGroup!==null}function os(t){const e=q(t);if(e.dt===null){e.dt=[];const n=T3(e),r=w3(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new So(n)),e.dt.push(new So(st.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new So(st.keyField(),s))}}}return e.dt}function Hn(t){const e=q(t);if(!e._t)if(e.limitType==="F")e._t=b0(e.path,e.collectionGroup,os(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of os(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new So(s.field,o))}const r=e.endAt?new _u(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new _u(e.startAt.position,e.startAt.inclusive):null;e._t=b0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Vf(t,e,n){return new th(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function nh(t,e){return lg(Hn(t),Hn(e))&&t.limitType===e.limitType}function R_(t){return`${ag(Hn(t))}|lt:${t.limitType}`}function Uf(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>k_(r)).join(", ")}]`),eh(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cs(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cs(r)).join(",")),`Target(${n})`}(Hn(t))}; limitType=${t.limitType})`}function cg(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):j.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of os(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=x0(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,os(n),r)||n.endAt&&!function(i,s,o){const a=x0(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,os(n),r))}(t,e)}function S3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function P_(t){return(e,n)=>{let r=!1;for(const i of os(t)){const s=_3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _3(t,e,n){const r=t.field.isKeyField()?j.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?_s(a,l):H()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return H()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Su(e)?"-0":e}}function D_(t){return{integerValue:""+t}}function C3(t,e){return s3(e)?D_(e):N_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(){this._=void 0}}function I3(t,e,n){return t instanceof Cu?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ra?L_(t,e):t instanceof ia?O_(t,e):function(r,i){const s=M_(r,i),o=P0(s)+P0(r.gt);return $f(s)&&$f(r.gt)?D_(o):N_(r.yt,o)}(t,e)}function x3(t,e,n){return t instanceof ra?L_(t,e):t instanceof ia?O_(t,e):n}function M_(t,e){return t instanceof Iu?$f(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Cu extends rh{}class ra extends rh{constructor(e){super(),this.elements=e}}function L_(t,e){const n=$_(e);for(const r of t.elements)n.some(i=>In(i,r))||n.push(r);return{arrayValue:{values:n}}}class ia extends rh{constructor(e){super(),this.elements=e}}function O_(t,e){let n=$_(e);for(const r of t.elements)n=n.filter(i=>!In(i,r));return{arrayValue:{values:n}}}class Iu extends rh{constructor(e,n){super(),this.yt=e,this.gt=n}}function P0(t){return Pe(t.integerValue||t.doubleValue)}function $_(t){return og(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function k3(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ra&&r instanceof ra||n instanceof ia&&r instanceof ia?Es(n.elements,r.elements,In):n instanceof Iu&&r instanceof Iu?In(n.gt,r.gt):n instanceof Cu&&r instanceof Cu}(t.transform,e.transform)}class A3{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ih{}function F_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new V_(t.key,Fn.none()):new sh(t.key,t.data,Fn.none());{const n=t.data,r=Ut.empty();let i=new Be(st.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Di(t.key,r,new gn(i.toArray()),Fn.none())}}function b3(t,e,n){t instanceof sh?function(r,i,s){const o=r.value.clone(),a=D0(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Di?function(r,i,s){if(!Bl(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=D0(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(j_(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function _o(t,e,n,r){return t instanceof sh?function(i,s,o,a){if(!Bl(i.precondition,s))return o;const l=i.value.clone(),u=M0(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Di?function(i,s,o,a){if(!Bl(i.precondition,s))return o;const l=M0(i.fieldTransforms,a,s),u=s.data;return u.setAll(j_(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return Bl(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function R3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=M_(r.transform,i||null);s!=null&&(n===null&&(n=Ut.empty()),n.set(r.field,s))}return n||null}function N0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Es(n,r,(i,s)=>k3(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sh extends ih{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Di extends ih{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function j_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function D0(t,e,n){const r=new Map;he(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,x3(o,a,n[i]))}return r}function M0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,I3(s,o,e))}return r}class V_ extends ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P3 extends ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,ee;function D3(t){switch(t){default:return H();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function U_(t){if(t===void 0)return Bn("GRPC error has no .code"),A.UNKNOWN;switch(t){case Re.OK:return A.OK;case Re.CANCELLED:return A.CANCELLED;case Re.UNKNOWN:return A.UNKNOWN;case Re.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case Re.INTERNAL:return A.INTERNAL;case Re.UNAVAILABLE:return A.UNAVAILABLE;case Re.UNAUTHENTICATED:return A.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case Re.NOT_FOUND:return A.NOT_FOUND;case Re.ALREADY_EXISTS:return A.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return A.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case Re.ABORTED:return A.ABORTED;case Re.OUT_OF_RANGE:return A.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return A.UNIMPLEMENTED;case Re.DATA_LOSS:return A.DATA_LOSS;default:return H()}}(ee=Re||(Re={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return T_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=new We(j.comparator);function Wn(){return M3}const B_=new We(j.comparator);function uo(...t){let e=B_;for(const n of t)e=e.insert(n.key,n);return e}function z_(t){let e=B_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ni(){return Co()}function H_(){return Co()}function Co(){return new zs(t=>t.toString(),(t,e)=>t.isEqual(e))}const L3=new We(j.comparator),O3=new Be(j.comparator);function Z(...t){let e=O3;for(const n of t)e=e.add(n);return e}const $3=new Be(re);function W_(){return $3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ka.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new oh(K.min(),i,W_(),Wn(),Z())}}class Ka{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ka(r,n,Z(),Z(),Z())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class G_{constructor(e,n){this.targetId=e,this.Et=n}}class K_{constructor(e,n,r=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class L0{constructor(){this.At=0,this.Rt=$0(),this.bt=ht.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Z(),n=Z(),r=Z();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:H()}}),new Ka(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=$0()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class F3{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Wn(),this.qt=O0(),this.Ut=new Be(re)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:H()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(jf(s))if(r===0){const o=new j(s.path);this.Qt(n,o,mt.newNoDocument(o,K.min()))}else he(r===1);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&jf(a.target)){const l=new j(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,mt.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=Z();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new oh(e,n,this.Ut,this.Lt,r);return this.Lt=Wn(),this.qt=O0(),this.Ut=new Be(re),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new L0,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Be(re),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||L("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new L0),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function O0(){return new We(j.comparator)}function $0(){return new We(j.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),V3=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),U3=(()=>({and:"AND",or:"OR"}))();class B3{constructor(e,n){this.databaseId=e,this.wt=n}}function xu(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function q_(t,e){return t.wt?e.toBase64():e.toUint8Array()}function z3(t,e){return xu(t,e.toTimestamp())}function vn(t){return he(!!t),K.fromTimestamp(function(e){const n=Pr(e);return new $e(n.seconds,n.nanos)}(t))}function hg(t,e){return function(n){return new xe(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Q_(t){const e=xe.fromString(t);return he(J_(e)),e}function Bf(t,e){return hg(t.databaseId,e.path)}function yd(t,e){const n=Q_(e);if(n.get(1)!==t.databaseId.projectId)throw new z(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new j(Y_(n))}function zf(t,e){return hg(t.databaseId,e)}function H3(t){const e=Q_(t);return e.length===4?xe.emptyPath():Y_(e)}function Hf(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Y_(t){return he(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function F0(t,e,n){return{name:Bf(t,e),fields:n.value.mapValue.fields}}function W3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:H()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.wt?(he(u===void 0||typeof u=="string"),ht.fromBase64String(u||"")):(he(u===void 0||u instanceof Uint8Array),ht.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?A.UNKNOWN:U_(l.code);return new z(u,l.message||"")}(o);n=new K_(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yd(t,r.document.name),s=vn(r.document.updateTime),o=r.document.createTime?vn(r.document.createTime):K.min(),a=new Ut({mapValue:{fields:r.document.fields}}),l=mt.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new zl(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yd(t,r.document),s=r.readTime?vn(r.readTime):K.min(),o=mt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new zl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yd(t,r.document),s=r.removedTargetIds||[];n=new zl([],s,i,null)}else{if(!("filter"in e))return H();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new N3(i),o=r.targetId;n=new G_(o,s)}}return n}function G3(t,e){let n;if(e instanceof sh)n={update:F0(t,e.key,e.value)};else if(e instanceof V_)n={delete:Bf(t,e.key)};else if(e instanceof Di)n={update:F0(t,e.key,e.data),updateMask:tF(e.fieldMask)};else{if(!(e instanceof P3))return H();n={verify:Bf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Cu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ra)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof ia)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Iu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw H()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:z3(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:H()}(t,e.precondition)),n}function K3(t,e){return t&&t.length>0?(he(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?vn(r.updateTime):vn(i);return s.isEqual(K.min())&&(s=vn(i)),new A3(s,r.transformResults||[])}(n,e))):[]}function q3(t,e){return{documents:[zf(t,e.path)]}}function Q3(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=zf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=zf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return Z_(zn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Vi(c.field),direction:Z3(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.wt||eh(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Y3(t){let e=H3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){he(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=X_(c);return h instanceof zn&&I_(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new So(Ui(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,eh(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,d=c.values||[];return new _u(d,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,d=c.values||[];return new _u(d,h)}(n.endAt)),v3(e,i,o,s,a,"F",l,u)}function X3(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return H()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function X_(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ui(e.unaryFilter.field);return Ue.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ui(e.unaryFilter.field);return Ue.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ui(e.unaryFilter.field);return Ue.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ui(e.unaryFilter.field);return Ue.create(s,"!=",{nullValue:"NULL_VALUE"});default:return H()}}(t):t.fieldFilter!==void 0?function(e){return Ue.create(Ui(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return H()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return zn.create(e.compositeFilter.filters.map(n=>X_(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return H()}}(e.compositeFilter.op))}(t):H()}function Z3(t){return j3[t]}function J3(t){return V3[t]}function eF(t){return U3[t]}function Vi(t){return{fieldPath:t.canonicalString()}}function Ui(t){return st.fromServerFormat(t.fieldPath)}function Z_(t){return t instanceof Ue?function(e){if(e.op==="=="){if(I0(e.value))return{unaryFilter:{field:Vi(e.field),op:"IS_NAN"}};if(C0(e.value))return{unaryFilter:{field:Vi(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(I0(e.value))return{unaryFilter:{field:Vi(e.field),op:"IS_NOT_NAN"}};if(C0(e.value))return{unaryFilter:{field:Vi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vi(e.field),op:J3(e.op),value:e.value}}}(t):t instanceof zn?function(e){const n=e.getFilters().map(r=>Z_(r));return n.length===1?n[0]:{compositeFilter:{op:eF(e.op),filters:n}}}(t):H()}function tF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function J_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nF=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&b3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_o(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_o(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=H_();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=F_(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(K.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Z())}isEqual(e){return this.batchId===e.batchId&&Es(this.mutations,e.mutations,(n,r)=>N0(n,r))&&Es(this.baseMutations,e.baseMutations,(n,r)=>N0(n,r))}},eC=class{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){he(e.mutations.length===r.length);let i=L3;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new eC(e,n,r,i)}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rF=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let as=class{constructor(e,n,r,i,s=K.min(),o=K.min(),a=ht.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iF=class{constructor(e){this.ie=e}};function sF(t){const e=Y3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(){this.Je=new aF}addToCollectionParentIndex(e,n){return this.Je.add(n),k.resolve()}getCollectionParents(e,n){return k.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return k.resolve()}deleteFieldIndex(e,n){return k.resolve()}getDocumentsMatchingTarget(e,n){return k.resolve(null)}getIndexType(e,n){return k.resolve(0)}getFieldIndexes(e,n){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,n){return k.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,n){return k.resolve(Rr.min())}updateCollectionGroup(e,n,r){return k.resolve()}updateIndexEntries(e,n){return k.resolve()}}class aF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Be(xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Be(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Is(0)}static vn(){return new Is(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lF{constructor(){this.changes=new zs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?k.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_o(r.mutation,i,gn.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Z()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Z()){const i=ni();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=uo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ni();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Z()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Wn();const o=Co(),a=Co();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Di)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),_o(c.mutation,u,c.mutation.getFieldMask(),$e.now())):o.set(u.key,gn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new uF(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Co();let i=new We((o,a)=>o-a),s=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||gn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||Z()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=H_();c.forEach(d=>{if(!s.has(d)){const f=F_(n.get(d),r.get(d));f!==null&&h.set(d,f),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return k.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return j.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):E3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):k.resolve(ni());let a=-1,l=s;return o.next(u=>k.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?k.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Z())).next(c=>({batchId:a,changes:z_(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new j(n)).next(r=>{let i=uo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=uo();return this.indexManager.getCollectionParents(e,i).next(o=>k.forEach(o,a=>{const l=function(u,c){return new th(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,mt.newInvalidDocument(u)))});let o=uo();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&_o(u.mutation,l,gn.empty(),$e.now()),cg(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return k.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:vn(r.createTime)}),k.resolve()}getNamedQuery(e,n){return k.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:sF(r.bundledQuery),readTime:vn(r.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(){this.overlays=new We(j.comparator),this.es=new Map}getOverlay(e,n){return k.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ni();return k.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),k.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),k.resolve()}getOverlaysForCollection(e,n,r){const i=ni(),s=n.length+1,o=new j(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return k.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new We((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=ni(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=ni(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return k.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new rF(n,r));let s=this.es.get(n);s===void 0&&(s=Z(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this.ns=new Be(je.ss),this.rs=new Be(je.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new je(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new je(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new j(new xe([])),r=new je(n,e),i=new je(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new j(new xe([])),r=new je(n,e),i=new je(n,e+1);let s=Z();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new je(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class je{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return j.comparator(e.key,n.key)||re(e._s,n._s)}static os(e,n){return re(e._s,n._s)||j.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Be(je.ss)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nF(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(o)}lookupMutationBatch(e,n){return k.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),s=i<0?0:i;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Be(re);return n.forEach(i=>{const s=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),k.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;j.isDocumentKey(s)||(s=s.child(""));const o=new je(new j(s),0);let a=new Be(re);return this.gs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l._s)),!0)},o),k.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){he(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return k.forEach(n.mutations,i=>{const s=new je(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new je(n,0),i=this.gs.firstAfterOrEqual(r);return k.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.Es=e,this.docs=new We(j.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return k.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(n))}getEntries(e,n){let r=Wn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():mt.newInvalidDocument(i))}),k.resolve(r)}getAllFromCollection(e,n,r){let i=Wn();const s=new j(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:l}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||t3(e3(l),r)<=0||(i=i.insert(l.key,l.mutableCopy()))}return k.resolve(i)}getAllFromCollectionGroup(e,n,r,i){H()}As(e,n){return k.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mF(this)}getSize(e){return k.resolve(this.size)}}class mF extends lF{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),k.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.persistence=e,this.Rs=new zs(n=>ag(n),lg),this.lastRemoteSnapshotVersion=K.min(),this.highestTargetId=0,this.bs=0,this.Ps=new dg,this.targetCount=0,this.vs=Is.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),k.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Is(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,k.resolve()}updateTargetData(e,n){return this.Dn(n),k.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(s).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return k.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),k.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),k.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),k.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return k.resolve(r)}containsKey(e,n){return k.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new sg(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new gF(this),this.indexManager=new oF,this.remoteDocumentCache=function(r){return new pF(r)}(r=>this.referenceDelegate.xs(r)),this.yt=new iF(n),this.Ns=new hF(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new fF(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){L("MemoryPersistence","Starting transaction:",e);const i=new vF(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return k.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class vF extends r3{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.Fs=new dg,this.$s=null}static Bs(e){return new fg(e)}get Ls(){if(this.$s)return this.$s;throw H()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),k.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),k.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Ls,r=>{const i=j.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,K.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return k.or([()=>k.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=Z(),i=Z();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new pg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(R0(n))return k.resolve(null);let r=Hn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Vf(n,null,"F"),r=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Z(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Fi(n,a);return this.$i(n,u,o,l.readTime)?this.ki(e,Vf(n,null,"F")):this.Bi(e,u,n,l)}))})))}Oi(e,n,r,i){return R0(n)||i.isEqual(K.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(E0()<=ne.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uf(n)),this.Bi(e,o,n,J$(i,-1)))})}Fi(e,n){let r=new Be(P_(e));return n.forEach((i,s)=>{cg(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return E0()<=ne.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Uf(n)),this.Ni.getDocumentsMatchingQuery(e,n,Rr.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new We(re),this.Ui=new zs(s=>ag(s),lg),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cF(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function EF(t,e,n,r){return new TF(t,e,n,r)}async function tC(t,e){const n=q(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Z();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ji:u,removedBatchIds:o,addedBatchIds:a}))})})}function SF(t,e){const n=q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let d=k.resolve();return h.forEach(f=>{d=d.next(()=>u.getEntry(a,f)).next(m=>{const v=l.docVersions.get(f);he(v!==null),m.version.compareTo(v)<0&&(c.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),u.addEntry(m)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Z();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function nC(t){const e=q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function _F(t,e){const n=q(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Cs.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(s,c.addedDocuments,h)));let f=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?f=f.withResumeToken(ht.EMPTY_BYTE_STRING,K.min()).withLastLimboFreeSnapshotVersion(K.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(h,f),function(m,v,S){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(d,f,c)&&a.push(n.Cs.updateTargetData(s,f))});let l=Wn(),u=Z();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(CF(s,o,e.documentUpdates).next(c=>{l=c.Wi,u=c.zi})),!r.isEqual(K.min())){const c=n.Cs.getLastRemoteSnapshotVersion(s).next(h=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return k.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.qi=i,s))}function CF(t,e,n){let r=Z(),i=Z();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Wn();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(K.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):L("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Wi:o,zi:i}})}function IF(t,e){const n=q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xF(t,e){const n=q(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,k.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new as(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}async function Wf(t,e,n){const r=q(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ga(o))throw o;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}function j0(t,e,n){const r=q(t);let i=K.min(),s=Z();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=q(a),h=c.Ui.get(u);return h!==void 0?k.resolve(c.qi.get(h)):c.Cs.getTargetData(l,u)}(r,o,Hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:K.min(),n?s:Z())).next(a=>(kF(r,S3(e),a),{documents:a,Hi:s})))}function kF(t,e,n){let r=t.Ki.get(e)||K.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}class V0{constructor(){this.activeTargetIds=W_()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AF{constructor(){this.Lr=new V0,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new V0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);L("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(l=>(L("RestConnection","Received: ",l),l),l=>{throw Lf("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",r),l})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){const r=RF[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new z$;a.setWithCredentials(!0),a.listenOnce(V$.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case gd.NO_ERROR:const u=a.getResponseJson();L("Connection","XHR received:",JSON.stringify(u)),s(u);break;case gd.TIMEOUT:L("Connection",'RPC "'+e+'" timed out'),o(new z(A.DEADLINE_EXCEEDED,"Request time out"));break;case gd.HTTP_ERROR:const c=a.getStatus();if(L("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const d=h==null?void 0:h.error;if(d&&d.status&&d.message){const f=function(m){const v=m.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(v)>=0?v:A.UNKNOWN}(d.status);o(new z(f,d.message))}else o(new z(A.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new z(A.UNAVAILABLE,"Connection failed."));break;default:H()}}finally{L("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(i);a.send(n,"POST",l,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=F$(),o=j$(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new B$({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=i.join("");L("Connection","Creating WebChannel: "+l,a);const u=s.createWebChannel(l,a);let c=!1,h=!1;const d=new PF({Hr:m=>{h?L("Connection","Not sending because WebChannel is closed:",m):(c||(L("Connection","Opening WebChannel transport."),u.open(),c=!0),L("Connection","WebChannel sending:",m),u.send(m))},Jr:()=>u.close()}),f=(m,v,S)=>{m.listen(v,g=>{try{S(g)}catch(p){setTimeout(()=>{throw p},0)}})};return f(u,ml.EventType.OPEN,()=>{h||L("Connection","WebChannel transport opened.")}),f(u,ml.EventType.CLOSE,()=>{h||(h=!0,L("Connection","WebChannel transport closed"),d.io())}),f(u,ml.EventType.ERROR,m=>{h||(h=!0,Lf("Connection","WebChannel transport errored:",m),d.io(new z(A.UNAVAILABLE,"The operation could not be completed")))}),f(u,ml.EventType.MESSAGE,m=>{var v;if(!h){const S=m.data[0];he(!!S);const g=S,p=g.error||((v=g[0])===null||v===void 0?void 0:v.error);if(p){L("Connection","WebChannel received error:",p);const y=p.status;let E=function(I){const b=Re[I];if(b!==void 0)return U_(b)}(y),C=p.message;E===void 0&&(E=A.INTERNAL,C="Unknown error status: "+y+" with message "+p.message),h=!0,d.io(new z(E,C)),u.close()}else L("Connection","WebChannel received:",S),d.ro(S)}}),f(o,U$.STAT_EVENT,m=>{m.stat===w0.PROXY?L("Connection","Detected buffering proxy"):m.stat===w0.NOPROXY&&L("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.so()},0),d}}function vd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t){return new B3(t,!0)}class rC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,r,i,s,o,a,l){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new rC(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(Bn(n.toString()),Bn("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new z(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DF extends iC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=W3(this.yt,e),r=function(i){if(!("targetChange"in i))return K.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?K.min():s.readTime?vn(s.readTime):K.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Hf(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=jf(a)?{documents:q3(i,a)}:{query:Q3(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=q_(i,s.resumeToken):s.snapshotVersion.compareTo(K.min())>0&&(o.readTime=xu(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=X3(this.yt,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Hf(this.yt),n.removeTarget=e,this.Bo(n)}}class MF extends iC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(he(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=K3(e.writeResults,e.commitTime),r=vn(e.commitTime);return this.listener.Zo(r,n)}return he(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Hf(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>G3(this.yt,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new z(A.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new z(A.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(A.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class OF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Bn(n),this.ou=!1):L("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(o=>{r.enqueueAndForget(async()=>{Mi(this)&&(L("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=q(a);l._u.add(4),await qa(l),l.gu.set("Unknown"),l._u.delete(4),await lh(l)}(this))})}),this.gu=new OF(r,i)}}async function lh(t){if(Mi(t))for(const e of t.wu)await e(!0)}async function qa(t){for(const e of t.wu)await e(!1)}function sC(t,e){const n=q(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),yg(n)?gg(n):Hs(n).ko()&&mg(n,e))}function oC(t,e){const n=q(t),r=Hs(n);n.du.delete(e),r.ko()&&aC(n,e),n.du.size===0&&(r.ko()?r.Fo():Mi(n)&&n.gu.set("Unknown"))}function mg(t,e){t.yu.Ot(e.targetId),Hs(t).zo(e)}function aC(t,e){t.yu.Ot(e),Hs(t).Ho(e)}function gg(t){t.yu=new F3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),Hs(t).start(),t.gu.uu()}function yg(t){return Mi(t)&&!Hs(t).No()&&t.du.size>0}function Mi(t){return q(t)._u.size===0}function lC(t){t.yu=void 0}async function FF(t){t.du.forEach((e,n)=>{mg(t,e)})}async function jF(t,e){lC(t),yg(t)?(t.gu.hu(e),gg(t)):t.gu.set("Unknown")}async function VF(t,e,n){if(t.gu.set("Online"),e instanceof K_&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.du.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.du.delete(o),r.yu.removeTarget(o))}(t,e)}catch(r){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ku(t,r)}else if(e instanceof zl?t.yu.Kt(e):e instanceof G_?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(K.min()))try{const r=await nC(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.du.get(l);u&&i.du.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.du.get(a);if(!l)return;i.du.set(a,l.withResumeToken(ht.EMPTY_BYTE_STRING,l.snapshotVersion)),aC(i,a);const u=new as(l.target,a,1,l.sequenceNumber);mg(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){L("RemoteStore","Failed to raise snapshot:",r),await ku(t,r)}}async function ku(t,e,n){if(!Ga(e))throw e;t._u.add(1),await qa(t),t.gu.set("Offline"),n||(n=()=>nC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{L("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await lh(t)})}function uC(t,e){return e().catch(n=>ku(t,n,e))}async function uh(t){const e=q(t),n=Nr(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;UF(e);)try{const i=await IF(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,BF(e,i)}catch(i){await ku(e,i)}cC(e)&&hC(e)}function UF(t){return Mi(t)&&t.fu.length<10}function BF(t,e){t.fu.push(e);const n=Nr(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function cC(t){return Mi(t)&&!Nr(t).No()&&t.fu.length>0}function hC(t){Nr(t).start()}async function zF(t){Nr(t).eu()}async function HF(t){const e=Nr(t);for(const n of t.fu)e.Xo(n.mutations)}async function WF(t,e,n){const r=t.fu.shift(),i=eC.from(r,e,n);await uC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await uh(t)}async function GF(t,e){e&&Nr(t).Yo&&await async function(n,r){if(i=r.code,D3(i)&&i!==A.ABORTED){const s=n.fu.shift();Nr(n).Mo(),await uC(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await uh(n)}var i}(t,e),cC(t)&&hC(t)}async function B0(t,e){const n=q(t);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");const r=Mi(n);n._u.add(3),await qa(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await lh(n)}async function KF(t,e){const n=q(t);e?(n._u.delete(2),await lh(n)):e||(n._u.add(2),await qa(n),n.gu.set("Unknown"))}function Hs(t){return t.pu||(t.pu=function(e,n,r){const i=q(e);return i.su(),new DF(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:FF.bind(null,t),Zr:jF.bind(null,t),Wo:VF.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),yg(t)?gg(t):t.gu.set("Unknown")):(await t.pu.stop(),lC(t))})),t.pu}function Nr(t){return t.Iu||(t.Iu=function(e,n,r){const i=q(e);return i.su(),new MF(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:zF.bind(null,t),Zr:GF.bind(null,t),tu:HF.bind(null,t),Zo:WF.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await uh(t)):(await t.Iu.stop(),t.fu.length>0&&(L("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dC=class{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new dC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function vg(t,e){if(Bn("AsyncQueue",`${e}: ${t}`),Ga(t))return new z(A.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io=class{constructor(e){this.comparator=e?(n,r)=>e(n,r)||j.comparator(n.key,r.key):(n,r)=>j.comparator(n.key,r.key),this.keyedMap=uo(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new Io(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Io;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z0=class{constructor(){this.Tu=new We(j.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):H():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}},sa=class{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new sa(e,n,Io.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qF=class{constructor(){this.Au=void 0,this.listeners=[]}},QF=class{constructor(){this.queries=new zs(e=>R_(e),nh),this.onlineState="Unknown",this.Ru=new Set}};async function YF(t,e){const n=q(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new qF),i)try{s.Au=await n.onListen(r)}catch(o){const a=vg(o,`Initialization of query '${Uf(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&wg(n)}async function XF(t,e){const n=q(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ZF(t,e){const n=q(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&wg(n)}function JF(t,e,n){const r=q(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function wg(t){t.Ru.forEach(e=>{e.next()})}class ej{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fC=class{constructor(e){this.key=e}},pC=class{constructor(e){this.key=e}},tj=class{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Z(),this.mutatedKeys=Z(),this.Gu=P_(e),this.Qu=new Io(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new z0,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),f=cg(this.query,h)?h:null,m=!!d&&this.mutatedKeys.has(d.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let S=!1;d&&f?d.data.isEqual(f.data)?m!==v&&(r.track({type:3,doc:f}),S=!0):this.Hu(d,f)||(r.track({type:2,doc:f}),S=!0,(l&&this.Gu(f,l)>0||u&&this.Gu(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),S=!0):d&&!f&&(r.track({type:1,doc:d}),S=!0,(l||u)&&(a=!0)),S&&(f?(o=o.add(f),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((u,c)=>function(h,d){const f=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return H()}};return f(h)-f(d)}(u.type,c.type)||this.Gu(u.doc,c.doc)),this.Ju(r);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,l=a!==this.Uu;return this.Uu=a,s.length!==0||l?{snapshot:new sa(this.query,e.Qu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new z0,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Z(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new pC(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new fC(r))}),n}tc(e){this.qu=e.Hi,this.Ku=Z();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return sa.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}},nj=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},rj=class{constructor(e){this.key=e,this.nc=!1}},ij=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new zs(a=>R_(a),nh),this.rc=new Map,this.oc=new Set,this.uc=new We(j.comparator),this.cc=new Map,this.ac=new dg,this.hc={},this.lc=new Map,this.fc=Is.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}};async function sj(t,e){const n=mj(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=await xF(n.localStore,Hn(e));n.isPrimaryClient&&sC(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await oj(n,e,r,a==="current",o.resumeToken)}return i}async function oj(t,e,n,r,i){t._c=(h,d,f)=>async function(m,v,S,g){let p=v.view.Wu(S);p.$i&&(p=await j0(m.localStore,v.query,!1).then(({documents:C})=>v.view.Wu(C,p)));const y=g&&g.targetChanges.get(v.targetId),E=v.view.applyChanges(p,m.isPrimaryClient,y);return W0(m,v.targetId,E.Xu),E.snapshot}(t,h,d,f);const s=await j0(t.localStore,e,!0),o=new tj(e,s.Hi),a=o.Wu(s.documents),l=Ka.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);W0(t,n,u.Xu);const c=new nj(e,n,o);return t.ic.set(e,c),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}async function aj(t,e){const n=q(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!nh(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Wf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),oC(n.remoteStore,r.targetId),Gf(n,r.targetId)}).catch(Wa)):(Gf(n,r.targetId),await Wf(n.localStore,r.targetId,!0))}async function lj(t,e,n){const r=gj(t);try{const i=await function(s,o){const a=q(s),l=$e.now(),u=o.reduce((d,f)=>d.add(f.key),Z());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let f=Wn(),m=Z();return a.Gi.getEntries(d,u).next(v=>{f=v,f.forEach((S,g)=>{g.isValidDocument()||(m=m.add(S))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,f)).next(v=>{c=v;const S=[];for(const g of o){const p=R3(g,c.get(g.key).overlayedDocument);p!=null&&S.push(new Di(g.key,p,b_(p.value.mapValue),Fn.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,S,o)}).next(v=>{h=v;const S=v.applyToLocalDocumentSet(c,m);return a.documentOverlayCache.saveOverlays(d,v.batchId,S)})}).then(()=>({batchId:h.batchId,changes:z_(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.hc[s.currentUser.toKey()];l||(l=new We(re)),l=l.insert(o,a),s.hc[s.currentUser.toKey()]=l}(r,i.batchId,n),await Qa(r,i.changes),await uh(r.remoteStore)}catch(i){const s=vg(i,"Failed to persist write");n.reject(s)}}async function mC(t,e){const n=q(t);try{const r=await _F(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(he(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?he(o.nc):i.removedDocuments.size>0&&(he(o.nc),o.nc=!1))}),await Qa(n,r,e)}catch(r){await Wa(r)}}function H0(t,e,n){const r=q(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=q(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.bu(o)&&(l=!0)}),l&&wg(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uj(t,e,n){const r=q(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new We(j.comparator);o=o.insert(s,mt.newNoDocument(s,K.min()));const a=Z().add(s),l=new oh(K.min(),new Map,new Be(re),o,a);await mC(r,l),r.uc=r.uc.remove(s),r.cc.delete(e),Tg(r)}else await Wf(r.localStore,e,!1).then(()=>Gf(r,e,n)).catch(Wa)}async function cj(t,e){const n=q(t),r=e.batch.batchId;try{const i=await SF(n.localStore,e);yC(n,r,null),gC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qa(n,i)}catch(i){await Wa(i)}}async function hj(t,e,n){const r=q(t);try{const i=await function(s,o){const a=q(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(he(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);yC(r,e,n),gC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qa(r,i)}catch(i){await Wa(i)}}function gC(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function yC(t,e,n){const r=q(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Gf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||vC(t,r)})}function vC(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(oC(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),Tg(t))}function W0(t,e,n){for(const r of n)r instanceof fC?(t.ac.addReference(r.key,e),dj(t,r)):r instanceof pC?(L("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||vC(t,r.key)):H()}function dj(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(L("SyncEngine","New document in limbo: "+n),t.oc.add(r),Tg(t))}function Tg(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new j(xe.fromString(e)),r=t.fc.next();t.cc.set(r,new rj(n)),t.uc=t.uc.insert(n,r),sC(t.remoteStore,new as(Hn(ug(n.path)),r,2,sg.at))}}async function Qa(t,e,n){const r=q(t),i=[],s=[],o=[];r.ic.isEmpty()||(r.ic.forEach((a,l)=>{o.push(r._c(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=pg.Ci(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.sc.Wo(i),await async function(a,l){const u=q(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>k.forEach(l,h=>k.forEach(h.Si,d=>u.persistence.referenceDelegate.addReference(c,h.targetId,d)).next(()=>k.forEach(h.Di,d=>u.persistence.referenceDelegate.removeReference(c,h.targetId,d)))))}catch(c){if(!Ga(c))throw c;L("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const d=u.qi.get(h),f=d.snapshotVersion,m=d.withLastLimboFreeSnapshotVersion(f);u.qi=u.qi.insert(h,m)}}}(r.localStore,s))}async function fj(t,e){const n=q(t);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());const r=await tC(n.localStore,e);n.currentUser=e,function(i,s){i.lc.forEach(o=>{o.forEach(a=>{a.reject(new z(A.CANCELLED,s))})}),i.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qa(n,r.ji)}}function pj(t,e){const n=q(t),r=n.cc.get(e);if(r&&r.nc)return Z().add(r.key);{let i=Z();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function mj(t){const e=q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uj.bind(null,e),e.sc.Wo=ZF.bind(null,e.eventManager),e.sc.wc=JF.bind(null,e.eventManager),e}function gj(t){const e=q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hj.bind(null,e),e}let yj=class{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=ah(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return EF(this.persistence,new wF,e.initialUser,this.yt)}yc(e){return new yF(fg.Bs,this.yt)}gc(e){return new AF}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},vj=class{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>H0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fj.bind(null,this.syncEngine),await KF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new QF}createDatastore(e){const n=ah(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new NF(i));var i;return function(s,o,a,l){return new LF(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>H0(this.syncEngine,a,0),o=U0.C()?new U0:new bF,new $F(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new ij(r,i,s,o,a,l);return u&&(c.dc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=q(e);L("RemoteStore","RemoteStore shutting down."),n._u.add(5),await qa(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t,e,n){if(!n)throw new z(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Tj(t,e,n,r){if(e===!0&&r===!0)throw new z(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function G0(t){if(!j.isDocumentKey(t))throw new z(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Eg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":H()}function ls(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Eg(t);throw new z(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new Map;let q0=class{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new z(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Tj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new q0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new q0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new H$;switch(n.type){case"gapi":const r=n.client;return new q$(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new z(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=K0.get(e);n&&(L("ComponentProvider","Removing Datastore"),K0.delete(e),n.terminate())}(this),Promise.resolve()}};function Ej(t,e,n,r={}){var i;const s=(t=ls(t,Sg))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Lf("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=nt.MOCK_USER;else{o=WM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new z(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new nt(l)}t._authCredentials=new W$(new v_(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tn=class{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Au(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tn(this.firestore,e,this._key)}},_g=class{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _g(this.firestore,e,this._query)}},Au=class extends _g{constructor(e,n,r){super(e,n,ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tn(this.firestore,null,new j(e))}withConverter(e){return new Au(this.firestore,e,this._path)}};function Ya(t,e,...n){if(t=ct(t),arguments.length===1&&(e=w_.R()),wj("doc","path",e),t instanceof Sg){const r=xe.fromString(e,...n);return G0(r),new tn(t,null,new j(r))}{if(!(t instanceof tn||t instanceof Au))throw new z(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return G0(r),new tn(t.firestore,t instanceof Au?t.converter:null,new j(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sj=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Bn("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _j=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nt.UNAUTHENTICATED,this.clientId=w_.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{L("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(L("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function Cj(t,e){t.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await tC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function Ij(t,e){t.asyncQueue.verifyOperationInProgress();const n=await xj(t);L("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>B0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>B0(e.remoteStore,s)),t.onlineComponents=e}async function xj(t){return t.offlineComponents||(L("FirestoreClient","Using default OfflineComponentProvider"),await Cj(t,new yj)),t.offlineComponents}async function wC(t){return t.onlineComponents||(L("FirestoreClient","Using default OnlineComponentProvider"),await Ij(t,new vj)),t.onlineComponents}function kj(t){return wC(t).then(e=>e.syncEngine)}async function Q0(t){const e=await wC(t),n=e.eventManager;return n.onListen=sj.bind(null,e.syncEngine),n.onUnlisten=aj.bind(null,e.syncEngine),n}let Aj=class{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new rC(this,"async_queue_retry"),this.Wc=()=>{const n=vd();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=vd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=vd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new li;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!Ga(e))throw e;L("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{this.Kc=r,this.Gc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Bn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=dC.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&H()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}};function Y0(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}let bu=class extends Sg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Aj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||EC(this),this._firestoreClient.terminate()}};function bj(t,e){const n=typeof t=="object"?t:Pm(),r=typeof t=="string"?t:e||"(default)",i=Ri(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=BM("firestore");s&&Ej(i,...s)}return i}function TC(t){return t._firestoreClient||EC(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function EC(t){var e;const n=t._freezeSettings(),r=function(i,s,o,a){return new i3(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new _j(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa=class{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(ht.fromBase64String(e))}catch(n){throw new z(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oa(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cg=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ig=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=/^__.*__$/;let SC=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Di(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function _C(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw H()}}let CC=class{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new CC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Ru(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(_C(this.sa)&&Rj.test(e))throw this.ha('Document fields cannot begin and end with "__"')}},Pj=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||ah(e)}da(e,n,r,i=!1){return new CC({sa:e,methodName:n,fa:r,path:st.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}};function Nj(t){const e=t._freezeSettings(),n=ah(t._databaseId);return new Pj(t._databaseId,!!e.ignoreUndefinedProperties,n)}let hh=class extends Cg{_toFieldTransform(e){if(e.sa!==2)throw e.sa===1?e.ha(`${this._methodName}() can only appear at the top level of your update data`):e.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hh}};function Dj(t,e,n,r){const i=t.da(1,e,n);xC("Data must be an object, but it was:",i,r);const s=[],o=Ut.empty();Ni(r,(l,u)=>{const c=xg(e,l,n);u=ct(u);const h=i.ca(c);if(u instanceof hh)s.push(c);else{const d=dh(u,h);d!=null&&(s.push(c),o.set(c,d))}});const a=new gn(s);return new SC(o,a,i.fieldTransforms)}function Mj(t,e,n,r,i,s){const o=t.da(1,e,n),a=[X0(e,r,n)],l=[i];if(s.length%2!=0)throw new z(A.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(X0(e,s[d])),l.push(s[d+1]);const u=[],c=Ut.empty();for(let d=a.length-1;d>=0;--d)if(!$j(u,a[d])){const f=a[d];let m=l[d];m=ct(m);const v=o.ca(f);if(m instanceof hh)u.push(f);else{const S=dh(m,v);S!=null&&(u.push(f),c.set(f,S))}}const h=new gn(u);return new SC(c,h,o.fieldTransforms)}function dh(t,e){if(IC(t=ct(t)))return xC("Unsupported field value:",e,t),Lj(t,e);if(t instanceof Cg)return function(n,r){if(!_C(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=dh(o,r.aa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=ct(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return C3(r.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=$e.fromDate(n);return{timestampValue:xu(r.yt,i)}}if(n instanceof $e){const i=new $e(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:xu(r.yt,i)}}if(n instanceof Ig)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof oa)return{bytesValue:q_(r.yt,n._byteString)};if(n instanceof tn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${Eg(n)}`)}(t,e)}function Lj(t,e){const n={};return T_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(t,(r,i)=>{const s=dh(i,e.ra(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function IC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof Ig||t instanceof oa||t instanceof tn||t instanceof Cg)}function xC(t,e,n){if(!IC(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Eg(n);throw r==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function X0(t,e,n){if((e=ct(e))instanceof ch)return e._internalPath;if(typeof e=="string")return xg(t,e);throw Ru("Field path arguments must be of type string or ",t,!1,void 0,n)}const Oj=new RegExp("[~\\*/\\[\\]]");function xg(t,e,n){if(e.search(Oj)>=0)throw Ru(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ch(...e.split("."))._internalPath}catch{throw Ru(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ru(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new z(A.INVALID_ARGUMENT,a+t+l)}function $j(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kC=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(AC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Fj=class extends kC{data(){return super.data()}};function AC(t,e){return typeof e=="string"?xg(t,e):e instanceof ch?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vj{convertValue(e,n="none"){switch(vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw H()}}convertObject(e,n){const r={};return Ni(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ig(Pe(e.latitude),Pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=S_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ta(e));default:return null}}convertTimestamp(e){const n=Pr(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xe.fromString(e);he(J_(r));const i=new ea(r.get(1),r.get(3)),s=new j(r.popFirst(5));return i.isEqual(n)||Bn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bC extends kC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(AC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Hl extends bC{data(e={}){return super.data(e)}}class Uj{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new co(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hl(this._firestore,this._userDataWriter,r.key,r,new co(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new Hl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new co(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new Hl(r._firestore,r._userDataWriter,o.doc.key,o.doc,new co(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Bj(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Bj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return H()}}class RC extends Vj{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function kg(t,e,n,...r){t=ls(t,tn);const i=ls(t.firestore,bu),s=Nj(i);let o;return o=typeof(e=ct(e))=="string"||e instanceof ch?Mj(s,"updateDoc",t._key,e,n,r):Dj(s,"updateDoc",t._key,e),zj(i,[o.toMutation(t._key,Fn.exists(!0))])}function PC(t,...e){var n,r,i;t=ct(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Y0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Y0(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof tn)u=ls(t.firestore,bu),c=ug(t._key.path),l={next:h=>{e[o]&&e[o](Hj(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=ls(t,_g);u=ls(h.firestore,bu),c=h._query;const d=new RC(u);l={next:f=>{e[o]&&e[o](new Uj(u,d,h,f))},error:e[o+1],complete:e[o+2]},jj(t._query)}return function(h,d,f,m){const v=new Sj(m),S=new ej(d,v,f);return h.asyncQueue.enqueueAndForget(async()=>YF(await Q0(h),S)),()=>{v.bc(),h.asyncQueue.enqueueAndForget(async()=>XF(await Q0(h),S))}}(TC(u),c,a,l)}function zj(t,e){return function(n,r){const i=new li;return n.asyncQueue.enqueueAndForget(async()=>lj(await kj(n),r,i)),i.promise}(TC(t),e)}function Hj(t,e,n){const r=n.docs.get(e._key),i=new RC(t);return new bC(t,i,e._key,r,new co(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(){return new hh("deleteField")}(function(t,e=!0){(function(n){Bs=n})(La),Cn(new sn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new bu(new G$(n.getProvider("auth-internal")),new Y$(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new z(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ea(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),zt(T0,"3.8.1",t),zt(T0,"3.8.1","esm2017")})();function Ag(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function NC(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Gj=NC,DC=new bi("auth","Firebase",NC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Oc("@firebase/auth");function Wl(t,...e){Z0.logLevel<=ne.ERROR&&Z0.error(`Auth (${La}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw bg(t,...e)}function wn(t,...e){return bg(t,...e)}function Kj(t,e,n){const r=Object.assign(Object.assign({},Gj()),{[e]:n});return new bi("auth","Firebase",r).create(e,{appName:t.name})}function bg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DC.create(t,...e)}function W(t,e,...n){if(!t)throw bg(e,...n)}function Mn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wl(e),new Error(e)}function Kn(t,e){t||Mn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Map;function Ln(t){Kn(t instanceof Function,"Expected a class definition");let e=J0.get(t);return e?(Kn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,J0.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t,e){const n=Ri(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Go(s,e??{}))return i;Gn(i,"already-initialized")}return n.initialize({options:e})}function Qj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ln);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Yj(){return e1()==="http:"||e1()==="https:"}function e1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Yj()||$E()||"connection"in navigator)?navigator.onLine:!0}function Zj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kn(n>e,"Short delay should be less than long delay!"),this.isMobile=GM()||KM()}get(){return Xj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t,e){Kn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=new Xa(3e4,6e4);function tV(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fh(t,e,n,r,i={}){return LC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ma(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),MC.fetch()(OC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function LC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jj),e);try{const i=new rV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw vl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw vl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw vl(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Kj(t,c,u);Gn(t,c)}}catch(i){if(i instanceof an)throw i;Gn(t,"network-request-failed")}}async function nV(t,e,n,r,i={}){const s=await fh(t,e,n,r,i);return"mfaPendingCredential"in s&&Gn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function OC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Rg(t.config,i):`${t.config.apiScheme}://${i}`}class rV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wn(this.auth,"network-request-failed")),eV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(t,e){return fh(t,"POST","/v1/accounts:delete",e)}async function sV(t,e){return fh(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oV(t,e=!1){const n=ct(t),r=await n.getIdToken(e),i=Pg(r);W(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:xo(wd(i.auth_time)),issuedAtTime:xo(wd(i.iat)),expirationTime:xo(wd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function wd(t){return Number(t)*1e3}function Pg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wl("JWT malformed, contained fewer than 3 sections"),null;try{const i=ME(n);return i?JSON.parse(i):(Wl("Failed to decode base64 JWT payload"),null)}catch(i){return Wl("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function aV(t){const e=Pg(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof an&&lV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xo(this.lastLoginAt),this.creationTime=xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await aa(t,sV(n,{idToken:r}));W(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?dV(s.providerUserInfo):[],a=hV(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new $C(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function cV(t){const e=ct(t);await Pu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function dV(t){return t.map(e=>{var{providerId:n}=e,r=Ag(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV(t,e){const n=await LC(t,{},async()=>{const r=Ma({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=OC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",MC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return W(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await fV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new la;return r&&(W(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(W(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(W(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new la,this.toJSON())}_performRefresh(){return Mn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ag(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $C(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await aa(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oV(this,e)}reload(){return cV(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await aa(this,iV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:E,isAnonymous:C,providerData:I,stsTokenManager:b}=n;W(y&&b,e,"internal-error");const R=la.fromJSON(this.name,b);W(typeof y=="string",e,"internal-error"),er(h,e.name),er(d,e.name),W(typeof E=="boolean",e,"internal-error"),W(typeof C=="boolean",e,"internal-error"),er(f,e.name),er(m,e.name),er(v,e.name),er(S,e.name),er(g,e.name),er(p,e.name);const Q=new ui({uid:y,auth:e,email:d,emailVerified:E,displayName:h,isAnonymous:C,photoURL:m,phoneNumber:f,tenantId:v,stsTokenManager:R,createdAt:g,lastLoginAt:p});return I&&Array.isArray(I)&&(Q.providerData=I.map(O=>Object.assign({},O))),S&&(Q._redirectEventId=S),Q}static async _fromIdTokenResponse(e,n,r=!1){const i=new la;i.updateFromServerResponse(n);const s=new ui({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pu(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FC.type="NONE";const t1=FC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t,e,n){return`firebase:${t}:${e}:${n}`}class us{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gl(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gl("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new us(Ln(t1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Ln(t1);const o=Gl(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=ui._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new us(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new us(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zC(e))return"Blackberry";if(HC(e))return"Webos";if(Ng(e))return"Safari";if((e.includes("chrome/")||VC(e))&&!e.includes("edge/"))return"Chrome";if(BC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jC(t=ut()){return/firefox\//i.test(t)}function Ng(t=ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VC(t=ut()){return/crios\//i.test(t)}function UC(t=ut()){return/iemobile/i.test(t)}function BC(t=ut()){return/android/i.test(t)}function zC(t=ut()){return/blackberry/i.test(t)}function HC(t=ut()){return/webos/i.test(t)}function ph(t=ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pV(t=ut()){var e;return ph(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mV(){return qM()&&document.documentMode===10}function WC(t=ut()){return ph(t)||BC(t)||HC(t)||zC(t)||/windows phone/i.test(t)||UC(t)}function gV(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(t,e=[]){let n;switch(t){case"Browser":n=n1(ut());break;case"Worker":n=`${n1(ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${La}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r1(this),this.idTokenSubscription=new r1(this),this.beforeStateQueue=new yV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DC,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ln(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await us.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Zj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ct(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Ln(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ln(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await us.create(this,[Ln(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return W(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Dg(t){return ct(t)}class r1{constructor(e){this.auth=e,this.observer=null,this.addObserver=eL(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wV(t,e,n){const r=Dg(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=KC(e),{host:o,port:a}=TV(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||EV()}function KC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function TV(t){const e=KC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:i1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:i1(o)}}}function i1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function EV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mn("not implemented")}_getIdTokenResponse(e){return Mn("not implemented")}_linkToIdToken(e,n){return Mn("not implemented")}_getReauthenticationResolver(e){return Mn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cs(t,e){return nV(t,"POST","/v1/accounts:signInWithIdp",tV(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV="http://localhost";class wi extends qC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ag(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new wi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return cs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,cs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cs(e,n)}buildRequest(){const e={requestUri:SV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ma(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends QC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Za{constructor(){super("facebook.com")}static credential(e){return wi._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn extends Za{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wi._fromParams({providerId:Nn.PROVIDER_ID,signInMethod:Nn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nn.credentialFromTaggedObject(e)}static credentialFromError(e){return Nn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Nn.credential(n,r)}catch{return null}}}Nn.GOOGLE_SIGN_IN_METHOD="google.com";Nn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Za{constructor(){super("github.com")}static credential(e){return wi._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends Za{constructor(){super("twitter.com")}static credential(e,n){return wi._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ui._fromIdTokenResponse(e,r,i),o=s1(r);return new xs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=s1(r);return new xs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function s1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends an{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Nu(e,n,r,i)}}function YC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Nu._fromErrorAndOperation(t,s,e,r):s})}async function _V(t,e,n=!1){const r=await aa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CV(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await aa(t,YC(r,i,e,t),n);W(s.idToken,r,"internal-error");const o=Pg(s.idToken);W(o,r,"internal-error");const{sub:a}=o;return W(t.uid===a,r,"user-mismatch"),xs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t,e,n=!1){const r="signIn",i=await YC(t,r,e),s=await xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function xV(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function kV(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}const Du="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Du,"1"),this.storage.removeItem(Du),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(){const t=ut();return Ng(t)||ph(t)}const bV=1e3,RV=10;class ZC extends XC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=AV()&&gV(),this.fallbackToPolling=WC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);mV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,RV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZC.type="LOCAL";const PV=ZC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC extends XC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JC.type="SESSION";const eI=JC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new mh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await NV(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Mg("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return window}function MV(t){Tn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function LV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $V(){return tI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="firebaseLocalStorageDb",FV=1,Mu="firebaseLocalStorage",rI="fbase_key";class Ja{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gh(t,e){return t.transaction([Mu],e?"readwrite":"readonly").objectStore(Mu)}function jV(){const t=indexedDB.deleteDatabase(nI);return new Ja(t).toPromise()}function qf(){const t=indexedDB.open(nI,FV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Mu,{keyPath:rI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Mu)?e(r):(r.close(),await jV(),e(await qf()))})})}async function o1(t,e,n){const r=gh(t,!0).put({[rI]:e,value:n});return new Ja(r).toPromise()}async function VV(t,e){const n=gh(t,!1).get(e),r=await new Ja(n).toPromise();return r===void 0?null:r.value}function a1(t,e){const n=gh(t,!0).delete(e);return new Ja(n).toPromise()}const UV=800,BV=3;class iI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>BV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mh._getInstance($V()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await LV(),!this.activeServiceWorker)return;this.sender=new DV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qf();return await o1(e,Du,"1"),await a1(e,Du),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>o1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>VV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>a1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=gh(i,!1).getAll();return new Ja(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iI.type="LOCAL";const zV=iI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function WV(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=wn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",HV().appendChild(r)})}function GV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new Xa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t,e){return e?Ln(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg extends qC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function qV(t){return IV(t.auth,new Lg(t),t.bypassAuthState)}function QV(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),CV(n,new Lg(t),t.bypassAuthState)}async function YV(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),_V(n,new Lg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qV;case"linkViaPopup":case"linkViaRedirect":return YV;case"reauthViaPopup":case"reauthViaRedirect":return QV;default:Gn(this.auth,"internal-error")}}resolve(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=new Xa(2e3,1e4);class Hi extends sI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Hi.currentPopupAction&&Hi.currentPopupAction.cancel(),Hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){Kn(this.filter.length===1,"Popup operations only handle one event");const e=Mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,XV.get())};e()}}Hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV="pendingRedirect",Kl=new Map;class JV extends sI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kl.get(this.auth._key());if(!e){try{const r=await e6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kl.set(this.auth._key(),e)}return this.bypassAuthState||Kl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e6(t,e){const n=r6(e),r=n6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function t6(t,e){Kl.set(t._key(),e)}function n6(t){return Ln(t._redirectPersistence)}function r6(t){return Gl(ZV,t.config.apiKey,t.name)}async function i6(t,e,n=!1){const r=Dg(t),i=KV(r,e),o=await new JV(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=10*60*1e3;class o6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s6&&this.cachedEventUids.clear(),this.cachedEventUids.has(l1(e))}saveEventToCache(e){this.cachedEventUids.add(l1(e)),this.lastProcessedEventTime=Date.now()}}function l1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t,e={}){return fh(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c6=/^https?/;async function h6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await l6(t);for(const n of e)try{if(d6(n))return}catch{}Gn(t,"unauthorized-domain")}function d6(t){const e=Kf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!c6.test(n))return!1;if(u6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=new Xa(3e4,6e4);function u1(){const t=Tn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function p6(t){return new Promise((e,n)=>{var r,i,s;function o(){u1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u1(),n(wn(t,"network-request-failed"))},timeout:f6.get()})}if(!((i=(r=Tn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Tn().gapi)===null||s===void 0)&&s.load)o();else{const a=GV("iframefcb");return Tn()[a]=()=>{gapi.load?o():n(wn(t,"network-request-failed"))},WV(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ql=null,e})}let ql=null;function m6(t){return ql=ql||p6(t),ql}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=new Xa(5e3,15e3),y6="__/auth/iframe",v6="emulator/auth/iframe",w6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E6(t){const e=t.config;W(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rg(e,v6):`https://${t.config.authDomain}/${y6}`,r={apiKey:e.apiKey,appName:t.name,v:La},i=T6.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ma(r).slice(1)}`}async function S6(t){const e=await m6(t),n=Tn().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:E6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=wn(t,"network-request-failed"),a=Tn().setTimeout(()=>{s(o)},g6.get());function l(){Tn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C6=500,I6=600,x6="_blank",k6="http://localhost";class c1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function A6(t,e,n,r=C6,i=I6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},_6),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ut().toLowerCase();n&&(a=VC(u)?x6:n),jC(u)&&(e=e||k6,l.scrollbars="yes");const c=Object.entries(l).reduce((d,[f,m])=>`${d}${f}=${m},`,"");if(pV(u)&&a!=="_self")return b6(e||"",a),new c1(null);const h=window.open(e||"",a,c);W(h,t,"popup-blocked");try{h.focus()}catch{}return new c1(h)}function b6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="__/auth/handler",P6="emulator/auth/handler";function h1(t,e,n,r,i,s){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:La,eventId:i};if(e instanceof QC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",JM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,u]of Object.entries(s||{}))o[l]=u}if(e instanceof Za){const l=e.getScopes().filter(u=>u!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];return`${N6(t)}?${Ma(a).slice(1)}`}function N6({config:t}){return t.emulator?Rg(t,P6):`https://${t.authDomain}/${R6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="webStorageSupport";class D6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eI,this._completeRedirectFn=i6,this._overrideRedirectResult=t6}async _openPopup(e,n,r,i){var s;Kn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=h1(e,n,r,Kf(),i);return A6(e,o,Mg())}async _openRedirect(e,n,r,i){return await this._originValidation(e),MV(h1(e,n,r,Kf(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Kn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await S6(e),r=new o6(e);return n.register("authEvent",i=>(W(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Td,{type:Td},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Td];o!==void 0&&n(!!o),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WC()||Ng()||ph()}}const M6=D6;var d1="@firebase/auth",f1="0.21.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function $6(t){Cn(new sn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{W(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),W(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GC(t)},c=new vV(a,l,u);return Qj(c,n),c})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cn(new sn("auth-internal",e=>{const n=Dg(e.getProvider("auth").getImmediate());return(r=>new L6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zt(d1,f1,O6(t)),zt(d1,f1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6=5*60,j6=OE("authIdTokenMaxAge")||F6;let p1=null;const V6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>j6)return;const i=n==null?void 0:n.token;p1!==i&&(p1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function U6(t=Pm()){const e=Ri(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qj(t,{popupRedirectResolver:M6,persistence:[zV,PV,eI]}),r=OE("authTokenSyncURL");if(r){const s=V6(r);kV(n,s,()=>s(n.currentUser)),xV(n,o=>s(o))}const i=LE("auth");return i&&wV(n,`http://${i}`),n}$6("Browser");const B6={apiKey:"AIzaSyCwGMjrdMDxItBfYJkwuzIUuekqY1QAc_k",authDomain:"theocratic-software.firebaseapp.com",projectId:"theocratic-software",storageBucket:"theocratic-software.appspot.com",messagingSenderId:"441138730087",appId:"1:441138730087:web:9877f590cadb16467af0c2",measurementId:"G-KHGDKVZKNR"},aI=BE(B6);F2(aI);const el=bj();U6(aI);new Nn;const z6=async t=>{`${t.houseNumber}${t.houseNumber}${t.suburb}`;const e=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${t.houseNumber}%20${t.street}%20${t.suburb}.json?access_token=pk.eyJ1IjoiZGFtaWFuYW1vZGVvIiwiYSI6ImNqeWxnb3lsejA4OXozYmxpajhzMXdvZjQifQ.OJBOK5ZvGEX2VaScbW_zUQ`).then(s=>s.json()).then(s=>s.features[0].center),n=Ya(el,"notAtHomes","MaitlandCongregation"),r={},i="id"+Date.now();r[i]={id:Date.now(),user:localStorage.getItem("userID")||"",mapNumber:t.mapNumber||"N/A",suburb:t.suburb,street:t.street,houseNumber:t.houseNumber,unitNumber:t.unitNumber||"",letter:t.letter||!1,lng:e[0],lat:e[1]},await kg(n,r)},H6=({setCurrentSubpage:t,address:e,setInitialValues:n,actions:r})=>{const i=s=>{z6({...e,letter:s}),n({...e,houseNumber:e.unitNumber.length>0?e.houseNumber:"",unitNumber:""}),r.resetForm(),t(1,null,!1)};return T.jsx("div",{className:"h-full p-2 grid place-items-center text-center",children:T.jsxs("div",{className:"grid gap-12 text-xl",children:[`Map: ${e.mapNumber}`,T.jsx("br",{}),T.jsx("br",{}),`${e.unitNumber?`${e.unitNumber}/`:""}${e.houseNumber} `,`${e.street}, `,`${e.suburb}`,T.jsx(yr,{color:"grey",clickAction:()=>{i(!0)},children:"Letter List"}),T.jsx(yr,{color:"grey",clickAction:()=>{i(!1)},children:"Return List"}),T.jsx("div",{className:"text-primary-500",onClick:()=>t(1,null,!1),children:"cancel"})]})})},W6=({setCurrentSubpage:t})=>{const[e,n]=w.useState({mapNumber:localStorage.getItem("lastEditedmapNumber")||"",suburb:localStorage.getItem("lastEditedsuburb")||"",street:localStorage.getItem("lastEditedstreet")||"",houseNumber:localStorage.getItem("lastEditedhouseNumber")||"",unitNumber:localStorage.getItem("lastEditedunitNumber")||""}),r=(s,o)=>{t(1,null,!0,T.jsx(H6,{setCurrentSubpage:t,address:s,actions:o,setInitialValues:n}))},i=s=>{localStorage.setItem(`lastEdited${s.target.name}`,s.target.value)};return T.jsxs(PE,{initialValues:e,onSubmit:(s,o)=>{r(s,o)},onChange:i,children:[T.jsxs("div",{className:"m-10 grid gap-4 ",children:[T.jsx(Jt,{inputType:"text",name:"mapNumber",label:"Map ID"}),T.jsx(Jt,{inputType:"text",name:"suburb",label:"Suburb"}),T.jsx(Jt,{inputType:"text",name:"street",label:"Street"}),T.jsx(Jt,{inputType:"text",name:"houseNumber",label:"House"}),T.jsx(Jt,{inputType:"text",name:"unitNumber",label:"Unit"}),T.jsx(yr,{color:"grey",submit:!0,children:"Submit"})]}),T.jsx("div",{className:"flex justify-center w-full"})]})},G6=({addresses:t,setCurrentSubpage:e})=>T.jsx(T.Fragment,{children:T.jsxs("div",{className:"mx-2",children:[T.jsx(W6,{setCurrentSubpage:e}),T.jsx(vb,{addresses:t})]})}),K6=({action:t,children:e})=>{const s=qT(()=>{t()},()=>{console.log("click is triggered")},{shouldPreventDefault:!0,delay:500});return T.jsx("div",{...s,children:e})},q6=async t=>{const e=Ya(el,"notAtHomes","MaitlandCongregation");await kg(e,{[t[0]]:Wj()})},Q6=({setCurrentSubpage:t,address:e})=>T.jsx("div",{className:"h-full grid place-items-center",children:T.jsxs("div",{className:"grid place-items-center gap-6",children:[T.jsxs("div",{className:"text-xl text-center grid gap-4 pb-8",children:[T.jsx("div",{children:` Map: ${e[1].mapNumber}`}),`${e[1].unitNumber}${e[1].unitNumber&&"/"}${e[1].houseNumber} ${e[1].street}, ${e[1].suburb}`]}),"Are you sure you want to delete this address?",T.jsx(yr,{color:"error",clickAction:()=>{q6(e),t(1,null,!1)},children:"Confirm Delete"}),T.jsx("div",{className:"text-primary-500",onClick:()=>t(1,null,!1),children:"cancel"})]})}),Y6=async(t,e)=>{const n=Ya(el,"notAtHomes","MaitlandCongregation"),r={};r[e]={...t},await kg(n,r)},lI=({address:t,cancel:e})=>{const[n,r]=w.useState(t[1]);return T.jsx(T.Fragment,{children:T.jsx(PE,{initialValues:n,onSubmit:(i,s)=>{Y6(i,t[0]),e()},onChange:()=>{},children:T.jsxs("div",{className:"m-10 grid gap-4 ",children:[T.jsx(Jt,{inputType:"text",name:"mapNumber",label:"Map ID"}),T.jsx(Jt,{inputType:"text",name:"suburb",label:"Suburb"}),T.jsx(Jt,{inputType:"text",name:"street",label:"Street"}),T.jsx(Jt,{inputType:"text",name:"houseNumber",label:"House"}),T.jsx(Jt,{inputType:"text",name:"unitNumber",label:"Unit"}),T.jsx(Jt,{inputType:"switch",name:"letter",label:"Letter List"}),T.jsx(yr,{color:"grey",submit:!0,children:"Update"})]})})})},X6=({setCurrentSubpage:t,address:e})=>T.jsxs(T.Fragment,{children:[T.jsx(lI,{address:e,cancel:()=>t(1,null,!1)}),T.jsx("div",{className:"grid place-items-center",children:T.jsx("div",{className:"text-primary-500 pb-16",onClick:()=>t(1,null,!1),children:"cancel"})})]}),Z6=({addresses:t,setCurrentSubpage:e})=>{const n=i=>{e(1,null,!0,T.jsx(X6,{setCurrentSubpage:e,address:i}))},r=i=>{e(1,null,!0,T.jsx(Q6,{setCurrentSubpage:e,address:i}))};return T.jsx("div",{className:"pb-16",children:t&&Object.entries(t).filter(i=>i[1].user===localStorage.getItem("userID")).reverse().map((i,s)=>T.jsxs("div",{onClick:()=>n(i),className:"grid grid-cols-12 h-12 border-b dark:border-darkGrey-700 text-sm text-center",children:[T.jsx("div",{className:"col-span-2 px-2 my-auto font-bold",children:i[1].mapNumber}),T.jsx("div",{className:"col-span-1 px-2 my-auto",children:`${i[1].unitNumber&&`${i[1].unitNumber}/`}${i[1].houseNumber}`}),T.jsx("div",{className:"col-span-4 my-auto",children:`${i[1].street}`}),T.jsx("div",{className:"col-span-4 my-auto",children:i[1].suburb}),T.jsx("div",{className:"col-span-1 px-2 text-right my-auto",children:T.jsx(K6,{action:()=>r(i),children:`${i[1].letter?"L X":"X"}`})})]},s))})},J6=({children:t})=>T.jsx("div",{className:"overflow-y-auto h-full overscroll-x-contain",children:t}),uI=({carouselItems:t})=>{const e=(a,l)=>{var u;(u=r[l].current)==null||u.scrollIntoView()},n=w.useRef(document.createElement("div")),r=t.map(()=>w.useRef(document.createElement("div"))),i=t.map(()=>w.useRef(document.createElement("div"))),[s,o]=w.useState(t.map(()=>!1));return w.useEffect(()=>{i.forEach((a,l)=>{new IntersectionObserver(c=>{var h;c[0].isIntersecting&&(o(s.map((d,f)=>f===l)),(h=i[l].current)==null||h.scrollIntoView(),i[l].current!=null&&(n.current.style.left=i[l].current.offsetLeft-5+"px",n.current.style.width=i[l].current.offsetWidth+10+"px"))},{threshold:.8}).observe(r[l].current)})},[]),w.useEffect(()=>{const a=u=>{u.preventDefault(),l.scrollLeft+=u.deltaY/5},l=document.querySelector(".tabbar");return l.addEventListener("wheel",a),()=>{l==null||l.removeEventListener("wheel",a)}}),T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:`hideScollbar tabbar relative flex bg-white dark:bg-darkGrey-1000 w-full touch-auto h-min
				overflow-x-auto overflow-y-hidden border border-x-0 border-t-0 border-b-[1.25px] border-y-lightGrey-500 dark:border-y-darkGrey-500`,children:[t.map((a,l)=>T.jsxs("div",{ref:i[l],onClick:u=>e(u,l),className:`uppercase mx-3 ${s[l]?"font-extrabold text-secondary-500 dark:text-secondary-200":""}`,children:[T.jsx("div",{className:"my-2 w-max",children:a.title}),T.jsx("div",{className:"-z-1 h-0 font-extrabold invisible w-max",children:a.title})]},l)),T.jsx("div",{className:"absolute left-0 bottom-0 h-[2px] bg-secondary-500 dark:bg-secondary-200 transition-all duration-300",ref:n})]}),T.jsx(J6,{children:T.jsx("div",{className:"hideScollbar h-full pb-2-xx grid grid-flow-col auto-cols-[100%] overflow-x-auto-xxx snap-x snap-mandatory snap-always overflow-y-auto ",children:t.map((a,l)=>T.jsx("div",{ref:r[l],className:"snap-start overflow-y-auto h-full overflow-x-hidden",children:a.content},l))})})]})},cI=t=>w.createElement("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",...t},w.createElement("defs",null,w.createElement("style",null,`.cls-1{fill:none;}\r
`)),w.createElement("title",null),w.createElement("g",{"data-name":"Layer 2",id:"Layer_2"},w.createElement("path",{fill:"currentColor",d:"M20,25a1,1,0,0,1-.71-.29l-8-8a1,1,0,0,1,0-1.42l8-8a1,1,0,1,1,1.42,1.42L13.41,16l7.3,7.29a1,1,0,0,1,0,1.42A1,1,0,0,1,20,25Z"})),w.createElement("g",{id:"frame"},w.createElement("rect",{className:"cls-1",height:32,width:32}))),eU=({setCurrentSubpage:t})=>T.jsx(Tc,{headerLeft:T.jsxs("div",{className:"flex content-center",onClick:()=>{t(0,-1,null,null)},children:[T.jsx(cI,{className:"text-[1.7rem]"})," Home"]}),title:"Record",headerRight:""}),tU=({setCurrentSubpage:t})=>{const[e,n]=w.useState(()=>{});return w.useEffect(()=>PC(Ya(el,"notAtHomes","MaitlandCongregation"),i=>{n(()=>i.data())}),[]),T.jsx(wc,{children:T.jsx(uI,{carouselItems:[{title:"Add Address",content:T.jsx(G6,{addresses:e,setCurrentSubpage:t})},{title:"Personal List",content:T.jsx(Z6,{addresses:e,setCurrentSubpage:t})}]})})},nU={headerComponent:eU,contentComponent:tU};function Qf(t,e,n,r,i,s){if(i-r<=n)return;const o=r+i>>1;hI(t,e,o,r,i,s%2),Qf(t,e,n,r,o-1,s+1),Qf(t,e,n,o+1,i,s+1)}function hI(t,e,n,r,i,s){for(;i>r;){if(i-r>600){const u=i-r+1,c=n-r+1,h=Math.log(u),d=.5*Math.exp(2*h/3),f=.5*Math.sqrt(h*d*(u-d)/u)*(c-u/2<0?-1:1),m=Math.max(r,Math.floor(n-c*d/u+f)),v=Math.min(i,Math.floor(n+(u-c)*d/u+f));hI(t,e,n,m,v,s)}const o=e[2*n+s];let a=r,l=i;for(Ys(t,e,r,n),e[2*i+s]>o&&Ys(t,e,r,i);a<l;){for(Ys(t,e,a,l),a++,l--;e[2*a+s]<o;)a++;for(;e[2*l+s]>o;)l--}e[2*r+s]===o?Ys(t,e,r,l):(l++,Ys(t,e,l,i)),l<=n&&(r=l+1),n<=l&&(i=l-1)}}function Ys(t,e,n,r){Ed(t,n,r),Ed(e,2*n,2*r),Ed(e,2*n+1,2*r+1)}function Ed(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function rU(t,e,n,r,i,s,o){const a=[0,t.length-1,0],l=[];let u,c;for(;a.length;){const h=a.pop(),d=a.pop(),f=a.pop();if(d-f<=o){for(let S=f;S<=d;S++)u=e[2*S],c=e[2*S+1],u>=n&&u<=i&&c>=r&&c<=s&&l.push(t[S]);continue}const m=Math.floor((f+d)/2);u=e[2*m],c=e[2*m+1],u>=n&&u<=i&&c>=r&&c<=s&&l.push(t[m]);const v=(h+1)%2;(h===0?n<=u:r<=c)&&(a.push(f),a.push(m-1),a.push(v)),(h===0?i>=u:s>=c)&&(a.push(m+1),a.push(d),a.push(v))}return l}function iU(t,e,n,r,i,s){const o=[0,t.length-1,0],a=[],l=i*i;for(;o.length;){const u=o.pop(),c=o.pop(),h=o.pop();if(c-h<=s){for(let S=h;S<=c;S++)m1(e[2*S],e[2*S+1],n,r)<=l&&a.push(t[S]);continue}const d=Math.floor((h+c)/2),f=e[2*d],m=e[2*d+1];m1(f,m,n,r)<=l&&a.push(t[d]);const v=(u+1)%2;(u===0?n-i<=f:r-i<=m)&&(o.push(h),o.push(d-1),o.push(v)),(u===0?n+i>=f:r+i>=m)&&(o.push(d+1),o.push(c),o.push(v))}return a}function m1(t,e,n,r){const i=t-n,s=e-r;return i*i+s*s}const sU=t=>t[0],oU=t=>t[1];class g1{constructor(e,n=sU,r=oU,i=64,s=Float64Array){this.nodeSize=i,this.points=e;const o=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(e.length),l=this.coords=new s(e.length*2);for(let u=0;u<e.length;u++)a[u]=u,l[2*u]=n(e[u]),l[2*u+1]=r(e[u]);Qf(a,l,i,0,a.length-1,0)}range(e,n,r,i){return rU(this.ids,this.coords,e,n,r,i,this.nodeSize)}within(e,n,r){return iU(this.ids,this.coords,e,n,r,this.nodeSize)}}const aU={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},Lu=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1));class lU{constructor(e){this.options=ko(Object.create(aU),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:n,minZoom:r,maxZoom:i,nodeSize:s}=this.options;n&&console.time("total time");const o=`prepare ${e.length} points`;n&&console.time(o),this.points=e;let a=[];for(let l=0;l<e.length;l++)e[l].geometry&&a.push(cU(e[l],l));this.trees[i+1]=new g1(a,v1,w1,s,Float32Array),n&&console.timeEnd(o);for(let l=i;l>=r;l--){const u=+Date.now();a=this._cluster(a,l),this.trees[l]=new g1(a,v1,w1,s,Float32Array),n&&console.log("z%d: %d clusters in %dms",l,a.length,+Date.now()-u)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let s=e[2]===180?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){const c=this.getClusters([r,i,180,o],n),h=this.getClusters([-180,i,s,o],n);return c.concat(h)}const a=this.trees[this._limitZoom(n)],l=a.range(Ql(r),Yl(o),Ql(s),Yl(i)),u=[];for(const c of l){const h=a.points[c];u.push(h.numPoints?y1(h):this.points[h.index])}return u}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);const o=s.points[n];if(!o)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=s.within(o.x,o.y,a),u=[];for(const c of l){const h=s.points[c];h.parentId===e&&u.push(h.numPoints?y1(h):this.points[h.index])}if(u.length===0)throw new Error(i);return u}getLeaves(e,n,r){n=n||10,r=r||0;const i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){const i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:a}=this.options,l=a/o,u=(r-l)/s,c=(r+1+l)/s,h={features:[]};return this._addTileFeatures(i.range((n-l)/s,u,(n+1+l)/s,c),i.points,n,r,s,h),n===0&&this._addTileFeatures(i.range(1-l/s,u,1,c),i.points,s,r,s,h),n===s-1&&this._addTileFeatures(i.range(0,u,l/s,c),i.points,-1,r,s,h),h.features.length?h:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){const o=this.getChildren(n);for(const a of o){const l=a.properties;if(l&&l.cluster?s+l.point_count<=i?s+=l.point_count:s=this._appendLeaves(e,l.cluster_id,r,i,s):s<i?s++:e.push(a),e.length===r)break}return s}_addTileFeatures(e,n,r,i,s,o){for(const a of e){const l=n[a],u=l.numPoints;let c,h,d;if(u)c=dI(l),h=l.x,d=l.y;else{const v=this.points[l.index];c=v.properties,h=Ql(v.geometry.coordinates[0]),d=Yl(v.geometry.coordinates[1])}const f={type:1,geometry:[[Math.round(this.options.extent*(h*s-r)),Math.round(this.options.extent*(d*s-i))]],tags:c};let m;u?m=l.id:this.options.generateId?m=l.index:this.points[l.index].id&&(m=this.points[l.index].id),m!==void 0&&(f.id=m),o.features.push(f)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const r=[],{radius:i,extent:s,reduce:o,minPoints:a}=this.options,l=i/(s*Math.pow(2,n));for(let u=0;u<e.length;u++){const c=e[u];if(c.zoom<=n)continue;c.zoom=n;const h=this.trees[n+1],d=h.within(c.x,c.y,l),f=c.numPoints||1;let m=f;for(const v of d){const S=h.points[v];S.zoom>n&&(m+=S.numPoints||1)}if(m>f&&m>=a){let v=c.x*f,S=c.y*f,g=o&&f>1?this._map(c,!0):null;const p=(u<<5)+(n+1)+this.points.length;for(const y of d){const E=h.points[y];if(E.zoom<=n)continue;E.zoom=n;const C=E.numPoints||1;v+=E.x*C,S+=E.y*C,E.parentId=p,o&&(g||(g=this._map(c,!0)),o(g,this._map(E)))}c.parentId=p,r.push(uU(v/m,S/m,p,m,g))}else if(r.push(c),m>1)for(const v of d){const S=h.points[v];S.zoom<=n||(S.zoom=n,r.push(S))}}return r}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n){if(e.numPoints)return n?ko({},e.properties):e.properties;const r=this.points[e.index].properties,i=this.options.map(r);return n&&i===r?ko({},i):i}}function uU(t,e,n,r,i){return{x:Lu(t),y:Lu(e),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function cU(t,e){const[n,r]=t.geometry.coordinates;return{x:Lu(Ql(n)),y:Lu(Yl(r)),zoom:1/0,index:e,parentId:-1}}function y1(t){return{type:"Feature",id:t.id,properties:dI(t),geometry:{type:"Point",coordinates:[hU(t.x),dU(t.y)]}}}function dI(t){const e=t.numPoints,n=e>=1e4?`${Math.round(e/1e3)}k`:e>=1e3?`${Math.round(e/100)/10}k`:e;return ko(ko({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function Ql(t){return t/360+.5}function Yl(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function hU(t){return(t-.5)*360}function dU(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function ko(t,e){for(const n in e)t[n]=e[n];return t}function v1(t){return t.x}function w1(t){return t.y}var T1=Object.prototype.hasOwnProperty;function E1(t,e,n){for(n of t.keys())if(ci(n,e))return n}function ci(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&ci(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=E1(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=E1(e,i),!i)||!ci(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(T1.call(t,n)&&++r&&!T1.call(e,n)||!(n in e)||!ci(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function fU(t){var e=w.useRef(t),n=w.useRef(0);return ci(t,e.current)||(e.current=t,n.current+=1),w.useMemo(function(){return e.current},[n.current])}function pU(t,e){return w.useEffect(t,fU(e))}var mU=function(e){var n=e.points,r=e.bounds,i=e.zoom,s=e.options,o=w.useRef(),a=w.useRef(),l=w.useState([]),u=l[0],c=l[1],h=Math.round(i);return pU(function(){(!o.current||!ci(a.current,n)||!ci(o.current.options,s))&&(o.current=new lU(s),o.current.load(n)),r&&c(o.current.getClusters(r,h)),a.current=n},[n,r,h,s]),{clusters:u,supercluster:o.current}};const gU="modulepreload",yU=function(t){return"/Proclaimer/"+t},S1={},fI=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=yU(s),s in S1)return;S1[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const h=i[c];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":gU,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())},vU=w.createContext(null);function wU(t){const e=t.clone();return e.pixelsToGLUnits=t.pixelsToGLUnits,e}function _1(t){return{longitude:t.center.lng,latitude:t.center.lat,zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,padding:t.padding}}function C1(t,e){const n=e.viewState||e;let r=!1;if("longitude"in n&&"latitude"in n){const i=t.center;t.center=new i.constructor(n.longitude,n.latitude),r=r||i!==t.center}if("zoom"in n){const i=t.zoom;t.zoom=n.zoom,r=r||i!==t.zoom}if("bearing"in n){const i=t.bearing;t.bearing=n.bearing,r=r||i!==t.bearing}if("pitch"in n){const i=t.pitch;t.pitch=n.pitch,r=r||i!==t.pitch}return n.padding&&!t.isPaddingEqual(n.padding)&&(r=!0,t.padding=n.padding),r}const TU=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function I1(t){if(!t)return null;if(typeof t=="string"||("toJS"in t&&(t=t.toJS()),!t.layers))return t;const e={};for(const r of t.layers)e[r.id]=r;const n=t.layers.map(r=>{const i=e[r.ref];let s=null;if("interactive"in r&&(s={...r},delete s.interactive),i){s=s||{...r},delete s.ref;for(const o of TU)o in i&&(s[o]=i[o])}return s||r});return{...t,layers:n}}function EU(t,e){const n=Array.isArray(t)?t[0]:t?t.x:0,r=Array.isArray(t)?t[1]:t?t.y:0,i=Array.isArray(e)?e[0]:e?e.x:0,s=Array.isArray(e)?e[1]:e?e.y:0;return n===i&&r===s}function cr(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!cr(t[n],e[n]))return!1;return!0}else if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n)if(!e.hasOwnProperty(i)||!cr(t[i],e[i]))return!1;return!0}return!1}const x1={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},Sd={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},k1={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},SU=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],_U=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class ks{constructor(e,n,r){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=i=>{const s=this.props[k1[i.type]];s&&s(i)},this._onPointerEvent=i=>{(i.type==="mousemove"||i.type==="mouseout")&&this._updateHover(i);const s=this.props[x1[i.type]];if(s){if(this.props.interactiveLayerIds&&i.type!=="mouseover"&&i.type!=="mouseout"){const o=this._hoveredFeatures||this._map.queryRenderedFeatures(i.point,{layers:this.props.interactiveLayerIds});i.features=o}s(i),delete i.features}},this._onCameraEvent=i=>{if(!this._internalUpdate){const s=this.props[Sd[i.type]];s&&s(i)}i.type in this._deferredEvents&&(this._deferredEvents[i.type]=!1)},this._MapClass=e,this.props=n,this._initialize(r)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){const n=this.props;this.props=e;const r=this._updateSettings(e,n);r&&this._createShadowTransform(this._map);const i=this._updateSize(e),s=this._updateViewState(e,!0);this._updateStyle(e,n),this._updateStyleComponents(e,n),this._updateHandlers(e,n),(r||i||s&&!this._map.isMoving())&&this.redraw()}static reuse(e,n){const r=ks.savedMaps.pop();if(!r)return null;const i=r.map,s=i.getContainer();for(n.className=s.className;s.childNodes.length>0;)n.appendChild(s.childNodes[0]);i._container=n,r.setProps({...e,styleDiffing:!1}),i.resize();const{initialViewState:o}=e;return o&&(o.bounds?i.fitBounds(o.bounds,{...o.fitBoundsOptions,duration:0}):r._updateViewState(o,!1)),i.isStyleLoaded()?i.fire("load"):i.once("styledata",()=>i.fire("load")),r}_initialize(e){const{props:n}=this,r={...n,...n.initialViewState,accessToken:n.mapboxAccessToken||CU()||null,container:e,style:I1(n.mapStyle)},i=r.initialViewState||r.viewState||r;if(Object.assign(r,{center:[i.longitude||0,i.latitude||0],zoom:i.zoom||0,pitch:i.pitch||0,bearing:i.bearing||0}),n.gl){const u=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=u,n.gl)}const s=new this._MapClass(r);i.padding&&s.setPadding(i.padding),n.cursor&&(s.getCanvas().style.cursor=n.cursor),this._createShadowTransform(s);const o=s._render;s._render=u=>{this._inRender=!0,o.call(s,u),this._inRender=!1};const a=s._renderTaskQueue.run;s._renderTaskQueue.run=u=>{a.call(s._renderTaskQueue,u),this._onBeforeRepaint()},s.on("render",()=>this._onAfterRepaint());const l=s.fire;s.fire=this._fireEvent.bind(this,l),s.on("resize",()=>{this._renderTransform.resize(s.transform.width,s.transform.height)}),s.on("styledata",()=>this._updateStyleComponents(this.props,{})),s.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const u in x1)s.on(u,this._onPointerEvent);for(const u in Sd)s.on(u,this._onCameraEvent);for(const u in k1)s.on(u,this._onEvent);this._map=s}recycle(){const n=this.map.getContainer().querySelector("[mapboxgl-children]");n==null||n.remove(),ks.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){const n=wU(e.transform);e.painter.transform=n,this._renderTransform=n}_updateSize(e){const{viewState:n}=e;if(n){const r=this._map;if(n.width!==r.transform.width||n.height!==r.transform.height)return r.resize(),!0}return!1}_updateViewState(e,n){if(this._internalUpdate)return!1;const r=this._map,i=this._renderTransform,{zoom:s,pitch:o,bearing:a}=i,l=r.isMoving();l&&(i.cameraElevationReference="sea");const u=C1(i,{..._1(r.transform),...e});if(l&&(i.cameraElevationReference="ground"),u&&n){const c=this._deferredEvents;c.move=!0,c.zoom||(c.zoom=s!==i.zoom),c.rotate||(c.rotate=a!==i.bearing),c.pitch||(c.pitch=o!==i.pitch)}return l||C1(r.transform,e),u}_updateSettings(e,n){const r=this._map;let i=!1;for(const s of SU)s in e&&!cr(e[s],n[s])&&(i=!0,r[`set${s[0].toUpperCase()}${s.slice(1)}`](e[s]));return i}_updateStyle(e,n){if(e.cursor!==n.cursor&&(this._map.getCanvas().style.cursor=e.cursor),e.mapStyle!==n.mapStyle){const r={diff:e.styleDiffing};return"localIdeographFontFamily"in e&&(r.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(I1(e.mapStyle),r),!0}return!1}_updateStyleComponents(e,n){const r=this._map;let i=!1;return r.style.loaded()&&("light"in e&&!cr(e.light,n.light)&&(i=!0,r.setLight(e.light)),"fog"in e&&!cr(e.fog,n.fog)&&(i=!0,r.setFog(e.fog)),"terrain"in e&&!cr(e.terrain,n.terrain)&&(!e.terrain||r.getSource(e.terrain.source))&&(i=!0,r.setTerrain(e.terrain))),i}_updateHandlers(e,n){const r=this._map;let i=!1;for(const s of _U){const o=e[s];cr(o,n[s])||(i=!0,o?r[s].enable(o):r[s].disable())}return i}_updateHover(e){var n;const{props:r}=this;if(r.interactiveLayerIds&&(r.onMouseMove||r.onMouseEnter||r.onMouseLeave)){const s=e.type,o=((n=this._hoveredFeatures)===null||n===void 0?void 0:n.length)>0;let a;if(s==="mousemove")try{a=this._map.queryRenderedFeatures(e.point,{layers:r.interactiveLayerIds})}catch{a=[]}else a=[];const l=a.length>0;!l&&o&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=a,l&&!o&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=s}else this._hoveredFeatures=null}_fireEvent(e,n,r){const i=this._map,s=i.transform,o=typeof n=="string"?n:n.type;return o==="move"&&this._updateViewState(this.props,!1),o in Sd&&(typeof n=="object"&&(n.viewState=_1(s)),this._map.isMoving())?(i.transform=this._renderTransform,e.call(i,n,r),i.transform=s,i):(e.call(i,n,r),i)}_onBeforeRepaint(){const e=this._map;this._internalUpdate=!0;for(const r in this._deferredEvents)this._deferredEvents[r]&&e.fire(r);this._internalUpdate=!1;const n=this._map.transform;this._map.transform=this._renderTransform,this._onAfterRepaint=()=>{this._map.transform=n}}}ks.savedMaps=[];function CU(){let t=null;if(typeof location<"u"){const e=/access_token=([^&\/]*)/.exec(location.search);t=e&&e[1]}try{t=t||{}.MapboxAccessToken}catch{}try{t=t||{}.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return t}const IU=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function xU(t,e){if(!t)return null;const n=t.map,r={getMap:()=>n,getCenter:()=>t.transform.center,getZoom:()=>t.transform.zoom,getBearing:()=>t.transform.bearing,getPitch:()=>t.transform.pitch,getPadding:()=>t.transform.padding,getBounds:()=>t.transform.getBounds(),project:i=>t.transform.locationPoint(e.LngLat.convert(i)),unproject:i=>t.transform.pointLocation(e.Point.convert(i)),queryTerrainElevation:(i,s)=>{const o=n.transform;n.transform=t.transform;const a=n.queryTerrainElevation(i,s);return n.transform=o,a}};for(const i of kU(n))!(i in r)&&!IU.includes(i)&&(r[i]=n[i].bind(n));return r}function kU(t){const e=new Set;let n=t;for(;n;){for(const r of Object.getOwnPropertyNames(n))r[0]!=="_"&&typeof t[r]=="function"&&r!=="fire"&&r!=="setEventedParent"&&e.add(r);n=Object.getPrototypeOf(n)}return Array.from(e)}const AU=typeof document<"u"?w.useLayoutEffect:w.useEffect,bU=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function RU(t,e){for(const n of bU)n in e&&(t[n]=e[n]);e.RTLTextPlugin&&t.getRTLTextPluginStatus&&t.getRTLTextPluginStatus()==="unavailable"&&t.setRTLTextPlugin(e.RTLTextPlugin,n=>{n&&console.error(n)},!1)}const yh=w.createContext(null),PU={minZoom:0,maxZoom:22,minPitch:0,maxPitch:60,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,mapStyle:{version:8,sources:{},layers:[]},styleDiffing:!0,projection:"mercator",renderWorldCopies:!0,onError:t=>console.error(t.error),RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"},Og=w.forwardRef((t,e)=>{const n=w.useContext(vU),[r,i]=w.useState(null),s=w.useRef(),{current:o}=w.useRef({mapLib:null,map:null});w.useEffect(()=>{const l=t.mapLib;let u=!0,c;return Promise.resolve(l||fI(()=>import("./mapbox-gl-db66ade7.js").then(h=>h.m),[])).then(h=>{if(u){if(h.Map||(h=h.default),!h||!h.Map)throw new Error("Invalid mapLib");if(h.supported(t))RU(h,t),t.reuseMaps&&(c=ks.reuse(t,s.current)),c||(c=new ks(h.Map,t,s.current)),o.map=xU(c,h),o.mapLib=h,i(c),n==null||n.onMapMount(o.map,t.id);else throw new Error("Map is not supported by this browser")}}).catch(h=>{t.onError({type:"error",target:null,originalEvent:null,error:h})}),()=>{u=!1,c&&(n==null||n.onMapUnmount(t.id),t.reuseMaps?c.recycle():c.destroy())}},[]),AU(()=>{r&&r.setProps(t)}),w.useImperativeHandle(e,()=>o.map,[r]);const a=w.useMemo(()=>({position:"relative",width:"100%",height:"100%",...t.style}),[t.style]);return w.createElement("div",{id:t.id,ref:s,style:a},r&&w.createElement(yh.Provider,{value:o},w.createElement("div",{"mapboxgl-children":""},t.children)))});Og.displayName="Map";Og.defaultProps=PU;var ua={},NU={get exports(){return ua},set exports(t){ua=t}},Lt={},Yf={},DU={get exports(){return Yf},set exports(t){Yf=t}},pI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,V){var B=P.length;P.push(V);e:for(;0<B;){var ye=B-1>>>1,Ce=P[ye];if(0<i(Ce,V))P[ye]=V,P[B]=Ce,B=ye;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var V=P[0],B=P.pop();if(B!==V){P[0]=B;e:for(var ye=0,Ce=P.length,qt=Ce>>>1;ye<qt;){var un=2*(ye+1)-1,zr=P[un],cn=un+1,Hr=P[cn];if(0>i(zr,B))cn<Ce&&0>i(Hr,zr)?(P[ye]=Hr,P[cn]=B,ye=cn):(P[ye]=zr,P[un]=B,ye=un);else if(cn<Ce&&0>i(Hr,B))P[ye]=Hr,P[cn]=B,ye=cn;else break e}}return V}function i(P,V){var B=P.sortIndex-V.sortIndex;return B!==0?B:P.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,m=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=P)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function E(P){if(v=!1,y(P),!m)if(n(l)!==null)m=!0,Tt(C);else{var V=n(u);V!==null&&De(E,V.startTime-P)}}function C(P,V){m=!1,v&&(v=!1,g(R),R=-1),f=!0;var B=d;try{for(y(V),h=n(l);h!==null&&(!(h.expirationTime>V)||P&&!X());){var ye=h.callback;if(typeof ye=="function"){h.callback=null,d=h.priorityLevel;var Ce=ye(h.expirationTime<=V);V=t.unstable_now(),typeof Ce=="function"?h.callback=Ce:h===n(l)&&r(l),y(V)}else r(l);h=n(l)}if(h!==null)var qt=!0;else{var un=n(u);un!==null&&De(E,un.startTime-V),qt=!1}return qt}finally{h=null,d=B,f=!1}}var I=!1,b=null,R=-1,Q=5,O=-1;function X(){return!(t.unstable_now()-O<Q)}function Ke(){if(b!==null){var P=t.unstable_now();O=P;var V=!0;try{V=b(!0,P)}finally{V?$t():(I=!1,b=null)}}else I=!1}var $t;if(typeof p=="function")$t=function(){p(Ke)};else if(typeof MessageChannel<"u"){var ln=new MessageChannel,ge=ln.port2;ln.port1.onmessage=Ke,$t=function(){ge.postMessage(null)}}else $t=function(){S(Ke,0)};function Tt(P){b=P,I||(I=!0,$t())}function De(P,V){R=S(function(){P(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,Tt(C))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(d){case 1:case 2:case 3:var V=3;break;default:V=d}var B=d;d=V;try{return P()}finally{d=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,V){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var B=d;d=P;try{return V()}finally{d=B}},t.unstable_scheduleCallback=function(P,V,B){var ye=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ye+B:ye):B=ye,P){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=B+Ce,P={id:c++,callback:V,priorityLevel:P,startTime:B,expirationTime:Ce,sortIndex:-1},B>ye?(P.sortIndex=B,e(u,P),n(l)===null&&P===n(u)&&(v?(g(R),R=-1):v=!0,De(E,B-ye))):(P.sortIndex=Ce,e(l,P),m||f||(m=!0,Tt(C))),P},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(P){var V=d;return function(){var B=d;d=V;try{return P.apply(this,arguments)}finally{d=B}}}})(pI);(function(t){t.exports=pI})(DU);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mI=w,Nt=Yf;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gI=new Set,ca={};function Li(t,e){As(t,e),As(t+"Capture",e)}function As(t,e){for(ca[t]=e,t=0;t<e.length;t++)gI.add(e[t])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xf=Object.prototype.hasOwnProperty,MU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A1={},b1={};function LU(t){return Xf.call(b1,t)?!0:Xf.call(A1,t)?!1:MU.test(t)?b1[t]=!0:(A1[t]=!0,!1)}function OU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $U(t,e,n,r){if(e===null||typeof e>"u"||OU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xe[t]=new wt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xe[e]=new wt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xe[t]=new wt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xe[t]=new wt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xe[t]=new wt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xe[t]=new wt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xe[t]=new wt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xe[t]=new wt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xe[t]=new wt(t,5,!1,t.toLowerCase(),null,!1,!1)});var $g=/[\-:]([a-z])/g;function Fg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($g,Fg);Xe[e]=new wt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($g,Fg);Xe[e]=new wt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($g,Fg);Xe[e]=new wt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xe[t]=new wt(t,1,!1,t.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new wt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xe[t]=new wt(t,1,!1,t.toLowerCase(),null,!0,!0)});function jg(t,e,n,r){var i=Xe.hasOwnProperty(e)?Xe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($U(e,n,i,r)&&(n=null),r||i===null?LU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jn=mI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wl=Symbol.for("react.element"),Wi=Symbol.for("react.portal"),Gi=Symbol.for("react.fragment"),Vg=Symbol.for("react.strict_mode"),Zf=Symbol.for("react.profiler"),yI=Symbol.for("react.provider"),vI=Symbol.for("react.context"),Ug=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),ep=Symbol.for("react.suspense_list"),Bg=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),wI=Symbol.for("react.offscreen"),R1=Symbol.iterator;function Xs(t){return t===null||typeof t!="object"?null:(t=R1&&t[R1]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Object.assign,_d;function ho(t){if(_d===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_d=e&&e[1]||""}return`
`+_d+t}var Cd=!1;function Id(t,e){if(!t||Cd)return"";Cd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Cd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ho(t):""}function FU(t){switch(t.tag){case 5:return ho(t.type);case 16:return ho("Lazy");case 13:return ho("Suspense");case 19:return ho("SuspenseList");case 0:case 2:case 15:return t=Id(t.type,!1),t;case 11:return t=Id(t.type.render,!1),t;case 1:return t=Id(t.type,!0),t;default:return""}}function tp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gi:return"Fragment";case Wi:return"Portal";case Zf:return"Profiler";case Vg:return"StrictMode";case Jf:return"Suspense";case ep:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vI:return(t.displayName||"Context")+".Consumer";case yI:return(t._context.displayName||"Context")+".Provider";case Ug:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bg:return e=t.displayName||null,e!==null?e:tp(t.type)||"Memo";case ir:e=t._payload,t=t._init;try{return tp(t(e))}catch{}}return null}function jU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tp(e);case 8:return e===Vg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function TI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VU(t){var e=TI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tl(t){t._valueTracker||(t._valueTracker=VU(t))}function EI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=TI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ou(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function np(t,e){var n=e.checked;return _e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function P1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Dr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function SI(t,e){e=e.checked,e!=null&&jg(t,"checked",e,!1)}function rp(t,e){SI(t,e);var n=Dr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ip(t,e.type,n):e.hasOwnProperty("defaultValue")&&ip(t,e.type,Dr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function N1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ip(t,e,n){(e!=="number"||Ou(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fo=Array.isArray;function hs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Dr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return _e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function D1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(fo(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Dr(n)}}function _I(t,e){var n=Dr(e.value),r=Dr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function M1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function CI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function op(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?CI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var El,II=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(El=El||document.createElement("div"),El.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=El.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ha(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ao={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UU=["Webkit","ms","Moz","O"];Object.keys(Ao).forEach(function(t){UU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ao[e]=Ao[t]})});function xI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ao.hasOwnProperty(t)&&Ao[t]?(""+e).trim():e+"px"}function kI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var BU=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ap(t,e){if(e){if(BU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function lp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=null;function zg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cp=null,ds=null,fs=null;function L1(t){if(t=rl(t)){if(typeof cp!="function")throw Error(x(280));var e=t.stateNode;e&&(e=Sh(e),cp(t.stateNode,t.type,e))}}function AI(t){ds?fs?fs.push(t):fs=[t]:ds=t}function bI(){if(ds){var t=ds,e=fs;if(fs=ds=null,L1(t),e)for(t=0;t<e.length;t++)L1(e[t])}}function RI(t,e){return t(e)}function PI(){}var xd=!1;function NI(t,e,n){if(xd)return t(e,n);xd=!0;try{return RI(t,e,n)}finally{xd=!1,(ds!==null||fs!==null)&&(PI(),bI())}}function da(t,e){var n=t.stateNode;if(n===null)return null;var r=Sh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var hp=!1;if(qn)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){hp=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{hp=!1}function zU(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var bo=!1,$u=null,Fu=!1,dp=null,HU={onError:function(t){bo=!0,$u=t}};function WU(t,e,n,r,i,s,o,a,l){bo=!1,$u=null,zU.apply(HU,arguments)}function GU(t,e,n,r,i,s,o,a,l){if(WU.apply(this,arguments),bo){if(bo){var u=$u;bo=!1,$u=null}else throw Error(x(198));Fu||(Fu=!0,dp=u)}}function Oi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function DI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function O1(t){if(Oi(t)!==t)throw Error(x(188))}function KU(t){var e=t.alternate;if(!e){if(e=Oi(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return O1(i),t;if(s===r)return O1(i),e;s=s.sibling}throw Error(x(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function MI(t){return t=KU(t),t!==null?LI(t):null}function LI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=LI(t);if(e!==null)return e;t=t.sibling}return null}var OI=Nt.unstable_scheduleCallback,$1=Nt.unstable_cancelCallback,qU=Nt.unstable_shouldYield,QU=Nt.unstable_requestPaint,be=Nt.unstable_now,YU=Nt.unstable_getCurrentPriorityLevel,Hg=Nt.unstable_ImmediatePriority,$I=Nt.unstable_UserBlockingPriority,ju=Nt.unstable_NormalPriority,XU=Nt.unstable_LowPriority,FI=Nt.unstable_IdlePriority,vh=null,En=null;function ZU(t){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(vh,t,void 0,(t.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:t4,JU=Math.log,e4=Math.LN2;function t4(t){return t>>>=0,t===0?32:31-(JU(t)/e4|0)|0}var Sl=64,_l=4194304;function po(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=po(a):(s&=o,s!==0&&(r=po(s)))}else o=n&~i,o!==0?r=po(o):s!==0&&(r=po(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nn(e),i=1<<n,r|=t[n],e&=~i;return r}function n4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-nn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=n4(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function fp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jI(){var t=Sl;return Sl<<=1,!(Sl&4194240)&&(Sl=64),t}function kd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nn(e),t[e]=n}function i4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-nn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Wg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var se=0;function VI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var UI,Gg,BI,zI,HI,pp=!1,Cl=[],Er=null,Sr=null,_r=null,fa=new Map,pa=new Map,hr=[],s4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function F1(t,e){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":fa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pa.delete(e.pointerId)}}function Js(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=rl(e),e!==null&&Gg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function o4(t,e,n,r,i){switch(e){case"focusin":return Er=Js(Er,t,e,n,r,i),!0;case"dragenter":return Sr=Js(Sr,t,e,n,r,i),!0;case"mouseover":return _r=Js(_r,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return fa.set(s,Js(fa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,pa.set(s,Js(pa.get(s)||null,t,e,n,r,i)),!0}return!1}function WI(t){var e=ri(t.target);if(e!==null){var n=Oi(e);if(n!==null){if(e=n.tag,e===13){if(e=DI(n),e!==null){t.blockedOn=e,HI(t.priority,function(){BI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);up=r,n.target.dispatchEvent(r),up=null}else return e=rl(n),e!==null&&Gg(e),t.blockedOn=n,!1;e.shift()}return!0}function j1(t,e,n){Xl(t)&&n.delete(e)}function a4(){pp=!1,Er!==null&&Xl(Er)&&(Er=null),Sr!==null&&Xl(Sr)&&(Sr=null),_r!==null&&Xl(_r)&&(_r=null),fa.forEach(j1),pa.forEach(j1)}function eo(t,e){t.blockedOn===e&&(t.blockedOn=null,pp||(pp=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,a4)))}function ma(t){function e(i){return eo(i,t)}if(0<Cl.length){eo(Cl[0],t);for(var n=1;n<Cl.length;n++){var r=Cl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Er!==null&&eo(Er,t),Sr!==null&&eo(Sr,t),_r!==null&&eo(_r,t),fa.forEach(e),pa.forEach(e),n=0;n<hr.length;n++)r=hr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hr.length&&(n=hr[0],n.blockedOn===null);)WI(n),n.blockedOn===null&&hr.shift()}var ps=Jn.ReactCurrentBatchConfig,Uu=!0;function l4(t,e,n,r){var i=se,s=ps.transition;ps.transition=null;try{se=1,Kg(t,e,n,r)}finally{se=i,ps.transition=s}}function u4(t,e,n,r){var i=se,s=ps.transition;ps.transition=null;try{se=4,Kg(t,e,n,r)}finally{se=i,ps.transition=s}}function Kg(t,e,n,r){if(Uu){var i=mp(t,e,n,r);if(i===null)$d(t,e,r,Bu,n),F1(t,r);else if(o4(i,t,e,n,r))r.stopPropagation();else if(F1(t,r),e&4&&-1<s4.indexOf(t)){for(;i!==null;){var s=rl(i);if(s!==null&&UI(s),s=mp(t,e,n,r),s===null&&$d(t,e,r,Bu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else $d(t,e,r,null,n)}}var Bu=null;function mp(t,e,n,r){if(Bu=null,t=zg(r),t=ri(t),t!==null)if(e=Oi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=DI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bu=t,null}function GI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YU()){case Hg:return 1;case $I:return 4;case ju:case XU:return 16;case FI:return 536870912;default:return 16}default:return 16}}var pr=null,qg=null,Zl=null;function KI(){if(Zl)return Zl;var t,e=qg,n=e.length,r,i="value"in pr?pr.value:pr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zl=i.slice(t,1<r?1-r:void 0)}function Jl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Il(){return!0}function V1(){return!1}function Ot(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Il:V1,this.isPropagationStopped=V1,this}return _e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),e}var Ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qg=Ot(Ws),nl=_e({},Ws,{view:0,detail:0}),c4=Ot(nl),Ad,bd,to,wh=_e({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==to&&(to&&t.type==="mousemove"?(Ad=t.screenX-to.screenX,bd=t.screenY-to.screenY):bd=Ad=0,to=t),Ad)},movementY:function(t){return"movementY"in t?t.movementY:bd}}),U1=Ot(wh),h4=_e({},wh,{dataTransfer:0}),d4=Ot(h4),f4=_e({},nl,{relatedTarget:0}),Rd=Ot(f4),p4=_e({},Ws,{animationName:0,elapsedTime:0,pseudoElement:0}),m4=Ot(p4),g4=_e({},Ws,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),y4=Ot(g4),v4=_e({},Ws,{data:0}),B1=Ot(v4),w4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=E4[t])?!!e[t]:!1}function Yg(){return S4}var _4=_e({},nl,{key:function(t){if(t.key){var e=w4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?T4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yg,charCode:function(t){return t.type==="keypress"?Jl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),C4=Ot(_4),I4=_e({},wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z1=Ot(I4),x4=_e({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yg}),k4=Ot(x4),A4=_e({},Ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),b4=Ot(A4),R4=_e({},wh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P4=Ot(R4),N4=[9,13,27,32],Xg=qn&&"CompositionEvent"in window,Ro=null;qn&&"documentMode"in document&&(Ro=document.documentMode);var D4=qn&&"TextEvent"in window&&!Ro,qI=qn&&(!Xg||Ro&&8<Ro&&11>=Ro),H1=String.fromCharCode(32),W1=!1;function QI(t,e){switch(t){case"keyup":return N4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ki=!1;function M4(t,e){switch(t){case"compositionend":return YI(e);case"keypress":return e.which!==32?null:(W1=!0,H1);case"textInput":return t=e.data,t===H1&&W1?null:t;default:return null}}function L4(t,e){if(Ki)return t==="compositionend"||!Xg&&QI(t,e)?(t=KI(),Zl=qg=pr=null,Ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qI&&e.locale!=="ko"?null:e.data;default:return null}}var O4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function G1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!O4[t.type]:e==="textarea"}function XI(t,e,n,r){AI(r),e=zu(e,"onChange"),0<e.length&&(n=new Qg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Po=null,ga=null;function $4(t){lx(t,0)}function Th(t){var e=Yi(t);if(EI(e))return t}function F4(t,e){if(t==="change")return e}var ZI=!1;if(qn){var Pd;if(qn){var Nd="oninput"in document;if(!Nd){var K1=document.createElement("div");K1.setAttribute("oninput","return;"),Nd=typeof K1.oninput=="function"}Pd=Nd}else Pd=!1;ZI=Pd&&(!document.documentMode||9<document.documentMode)}function q1(){Po&&(Po.detachEvent("onpropertychange",JI),ga=Po=null)}function JI(t){if(t.propertyName==="value"&&Th(ga)){var e=[];XI(e,ga,t,zg(t)),NI($4,e)}}function j4(t,e,n){t==="focusin"?(q1(),Po=e,ga=n,Po.attachEvent("onpropertychange",JI)):t==="focusout"&&q1()}function V4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Th(ga)}function U4(t,e){if(t==="click")return Th(e)}function B4(t,e){if(t==="input"||t==="change")return Th(e)}function z4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var on=typeof Object.is=="function"?Object.is:z4;function ya(t,e){if(on(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xf.call(e,i)||!on(t[i],e[i]))return!1}return!0}function Q1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Y1(t,e){var n=Q1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Q1(n)}}function ex(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ex(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tx(){for(var t=window,e=Ou();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ou(t.document)}return e}function Zg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function H4(t){var e=tx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ex(n.ownerDocument.documentElement,n)){if(r!==null&&Zg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Y1(n,s);var o=Y1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var W4=qn&&"documentMode"in document&&11>=document.documentMode,qi=null,gp=null,No=null,yp=!1;function X1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yp||qi==null||qi!==Ou(r)||(r=qi,"selectionStart"in r&&Zg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),No&&ya(No,r)||(No=r,r=zu(gp,"onSelect"),0<r.length&&(e=new Qg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qi)))}function xl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qi={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionend:xl("Transition","TransitionEnd")},Dd={},nx={};qn&&(nx=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function Eh(t){if(Dd[t])return Dd[t];if(!Qi[t])return t;var e=Qi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nx)return Dd[t]=e[n];return t}var rx=Eh("animationend"),ix=Eh("animationiteration"),sx=Eh("animationstart"),ox=Eh("transitionend"),ax=new Map,Z1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(t,e){ax.set(t,e),Li(e,[t])}for(var Md=0;Md<Z1.length;Md++){var Ld=Z1[Md],G4=Ld.toLowerCase(),K4=Ld[0].toUpperCase()+Ld.slice(1);Vr(G4,"on"+K4)}Vr(rx,"onAnimationEnd");Vr(ix,"onAnimationIteration");Vr(sx,"onAnimationStart");Vr("dblclick","onDoubleClick");Vr("focusin","onFocus");Vr("focusout","onBlur");Vr(ox,"onTransitionEnd");As("onMouseEnter",["mouseout","mouseover"]);As("onMouseLeave",["mouseout","mouseover"]);As("onPointerEnter",["pointerout","pointerover"]);As("onPointerLeave",["pointerout","pointerover"]);Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Li("onBeforeInput",["compositionend","keypress","textInput","paste"]);Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q4=new Set("cancel close invalid load scroll toggle".split(" ").concat(mo));function J1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,GU(r,e,void 0,t),t.currentTarget=null}function lx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;J1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;J1(i,a,u),s=l}}}if(Fu)throw t=dp,Fu=!1,dp=null,t}function de(t,e){var n=e[Sp];n===void 0&&(n=e[Sp]=new Set);var r=t+"__bubble";n.has(r)||(ux(e,t,2,!1),n.add(r))}function Od(t,e,n){var r=0;e&&(r|=4),ux(n,t,r,e)}var kl="_reactListening"+Math.random().toString(36).slice(2);function va(t){if(!t[kl]){t[kl]=!0,gI.forEach(function(n){n!=="selectionchange"&&(q4.has(n)||Od(n,!1,t),Od(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kl]||(e[kl]=!0,Od("selectionchange",!1,e))}}function ux(t,e,n,r){switch(GI(e)){case 1:var i=l4;break;case 4:i=u4;break;default:i=Kg}n=i.bind(null,e,n,t),i=void 0,!hp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function $d(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ri(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}NI(function(){var u=s,c=zg(n),h=[];e:{var d=ax.get(t);if(d!==void 0){var f=Qg,m=t;switch(t){case"keypress":if(Jl(n)===0)break e;case"keydown":case"keyup":f=C4;break;case"focusin":m="focus",f=Rd;break;case"focusout":m="blur",f=Rd;break;case"beforeblur":case"afterblur":f=Rd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=U1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=d4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=k4;break;case rx:case ix:case sx:f=m4;break;case ox:f=b4;break;case"scroll":f=c4;break;case"wheel":f=P4;break;case"copy":case"cut":case"paste":f=y4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=z1}var v=(e&4)!==0,S=!v&&t==="scroll",g=v?d!==null?d+"Capture":null:d;v=[];for(var p=u,y;p!==null;){y=p;var E=y.stateNode;if(y.tag===5&&E!==null&&(y=E,g!==null&&(E=da(p,g),E!=null&&v.push(wa(p,E,y)))),S)break;p=p.return}0<v.length&&(d=new f(d,m,null,n,c),h.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==up&&(m=n.relatedTarget||n.fromElement)&&(ri(m)||m[Qn]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?ri(m):null,m!==null&&(S=Oi(m),m!==S||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(v=U1,E="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(v=z1,E="onPointerLeave",g="onPointerEnter",p="pointer"),S=f==null?d:Yi(f),y=m==null?d:Yi(m),d=new v(E,p+"leave",f,n,c),d.target=S,d.relatedTarget=y,E=null,ri(c)===u&&(v=new v(g,p+"enter",m,n,c),v.target=y,v.relatedTarget=S,E=v),S=E,f&&m)t:{for(v=f,g=m,p=0,y=v;y;y=ji(y))p++;for(y=0,E=g;E;E=ji(E))y++;for(;0<p-y;)v=ji(v),p--;for(;0<y-p;)g=ji(g),y--;for(;p--;){if(v===g||g!==null&&v===g.alternate)break t;v=ji(v),g=ji(g)}v=null}else v=null;f!==null&&ew(h,d,f,v,!1),m!==null&&S!==null&&ew(h,S,m,v,!0)}}e:{if(d=u?Yi(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var C=F4;else if(G1(d))if(ZI)C=B4;else{C=V4;var I=j4}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=U4);if(C&&(C=C(t,u))){XI(h,C,n,c);break e}I&&I(t,d,u),t==="focusout"&&(I=d._wrapperState)&&I.controlled&&d.type==="number"&&ip(d,"number",d.value)}switch(I=u?Yi(u):window,t){case"focusin":(G1(I)||I.contentEditable==="true")&&(qi=I,gp=u,No=null);break;case"focusout":No=gp=qi=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,X1(h,n,c);break;case"selectionchange":if(W4)break;case"keydown":case"keyup":X1(h,n,c)}var b;if(Xg)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ki?QI(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(qI&&n.locale!=="ko"&&(Ki||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ki&&(b=KI()):(pr=c,qg="value"in pr?pr.value:pr.textContent,Ki=!0)),I=zu(u,R),0<I.length&&(R=new B1(R,t,null,n,c),h.push({event:R,listeners:I}),b?R.data=b:(b=YI(n),b!==null&&(R.data=b)))),(b=D4?M4(t,n):L4(t,n))&&(u=zu(u,"onBeforeInput"),0<u.length&&(c=new B1("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=b))}lx(h,e)})}function wa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=da(t,n),s!=null&&r.unshift(wa(t,s,i)),s=da(t,e),s!=null&&r.push(wa(t,s,i))),t=t.return}return r}function ji(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ew(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=da(n,s),l!=null&&o.unshift(wa(n,l,a))):i||(l=da(n,s),l!=null&&o.push(wa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Q4=/\r\n?/g,Y4=/\u0000|\uFFFD/g;function tw(t){return(typeof t=="string"?t:""+t).replace(Q4,`
`).replace(Y4,"")}function Al(t,e,n){if(e=tw(e),tw(t)!==e&&n)throw Error(x(425))}function Hu(){}var vp=null,wp=null;function Tp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ep=typeof setTimeout=="function"?setTimeout:void 0,X4=typeof clearTimeout=="function"?clearTimeout:void 0,nw=typeof Promise=="function"?Promise:void 0,Z4=typeof queueMicrotask=="function"?queueMicrotask:typeof nw<"u"?function(t){return nw.resolve(null).then(t).catch(J4)}:Ep;function J4(t){setTimeout(function(){throw t})}function Fd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ma(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ma(e)}function Cr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gs=Math.random().toString(36).slice(2),mn="__reactFiber$"+Gs,Ta="__reactProps$"+Gs,Qn="__reactContainer$"+Gs,Sp="__reactEvents$"+Gs,eB="__reactListeners$"+Gs,tB="__reactHandles$"+Gs;function ri(t){var e=t[mn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qn]||n[mn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rw(t);t!==null;){if(n=t[mn])return n;t=rw(t)}return e}t=n,n=t.parentNode}return null}function rl(t){return t=t[mn]||t[Qn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function Sh(t){return t[Ta]||null}var _p=[],Xi=-1;function Ur(t){return{current:t}}function pe(t){0>Xi||(t.current=_p[Xi],_p[Xi]=null,Xi--)}function ce(t,e){Xi++,_p[Xi]=t.current,t.current=e}var Mr={},dt=Ur(Mr),_t=Ur(!1),Ti=Mr;function bs(t,e){var n=t.type.contextTypes;if(!n)return Mr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ct(t){return t=t.childContextTypes,t!=null}function Wu(){pe(_t),pe(dt)}function iw(t,e,n){if(dt.current!==Mr)throw Error(x(168));ce(dt,e),ce(_t,n)}function cx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(x(108,jU(t)||"Unknown",i));return _e({},n,r)}function Gu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Mr,Ti=dt.current,ce(dt,t),ce(_t,_t.current),!0}function sw(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=cx(t,e,Ti),r.__reactInternalMemoizedMergedChildContext=t,pe(_t),pe(dt),ce(dt,t)):pe(_t),ce(_t,n)}var Pn=null,_h=!1,jd=!1;function hx(t){Pn===null?Pn=[t]:Pn.push(t)}function nB(t){_h=!0,hx(t)}function Br(){if(!jd&&Pn!==null){jd=!0;var t=0,e=se;try{var n=Pn;for(se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pn=null,_h=!1}catch(i){throw Pn!==null&&(Pn=Pn.slice(t+1)),OI(Hg,Br),i}finally{se=e,jd=!1}}return null}var Zi=[],Ji=0,Ku=null,qu=0,jt=[],Vt=0,Ei=null,On=1,$n="";function Yr(t,e){Zi[Ji++]=qu,Zi[Ji++]=Ku,Ku=t,qu=e}function dx(t,e,n){jt[Vt++]=On,jt[Vt++]=$n,jt[Vt++]=Ei,Ei=t;var r=On;t=$n;var i=32-nn(r)-1;r&=~(1<<i),n+=1;var s=32-nn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,On=1<<32-nn(e)+i|n<<i|r,$n=s+t}else On=1<<s|n<<i|r,$n=t}function Jg(t){t.return!==null&&(Yr(t,1),dx(t,1,0))}function ey(t){for(;t===Ku;)Ku=Zi[--Ji],Zi[Ji]=null,qu=Zi[--Ji],Zi[Ji]=null;for(;t===Ei;)Ei=jt[--Vt],jt[Vt]=null,$n=jt[--Vt],jt[Vt]=null,On=jt[--Vt],jt[Vt]=null}var Rt=null,At=null,we=!1,en=null;function fx(t,e){var n=Bt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ow(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rt=t,At=Cr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rt=t,At=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ei!==null?{id:On,overflow:$n}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rt=t,At=null,!0):!1;default:return!1}}function Cp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ip(t){if(we){var e=At;if(e){var n=e;if(!ow(t,e)){if(Cp(t))throw Error(x(418));e=Cr(n.nextSibling);var r=Rt;e&&ow(t,e)?fx(r,n):(t.flags=t.flags&-4097|2,we=!1,Rt=t)}}else{if(Cp(t))throw Error(x(418));t.flags=t.flags&-4097|2,we=!1,Rt=t}}}function aw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rt=t}function bl(t){if(t!==Rt)return!1;if(!we)return aw(t),we=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tp(t.type,t.memoizedProps)),e&&(e=At)){if(Cp(t))throw px(),Error(x(418));for(;e;)fx(t,e),e=Cr(e.nextSibling)}if(aw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){At=Cr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}At=null}}else At=Rt?Cr(t.stateNode.nextSibling):null;return!0}function px(){for(var t=At;t;)t=Cr(t.nextSibling)}function Rs(){At=Rt=null,we=!1}function ty(t){en===null?en=[t]:en.push(t)}var rB=Jn.ReactCurrentBatchConfig;function Xt(t,e){if(t&&t.defaultProps){e=_e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Qu=Ur(null),Yu=null,es=null,ny=null;function ry(){ny=es=Yu=null}function iy(t){var e=Qu.current;pe(Qu),t._currentValue=e}function xp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ms(t,e){Yu=t,ny=es=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(St=!0),t.firstContext=null)}function Gt(t){var e=t._currentValue;if(ny!==t)if(t={context:t,memoizedValue:e,next:null},es===null){if(Yu===null)throw Error(x(308));es=t,Yu.dependencies={lanes:0,firstContext:t}}else es=es.next=t;return e}var ii=null;function sy(t){ii===null?ii=[t]:ii.push(t)}function mx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,sy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yn(t,r)}function Yn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var sr=!1;function oy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yn(t,n)}return i=r.interleaved,i===null?(e.next=e,sy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yn(t,n)}function eu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wg(t,n)}}function lw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xu(t,e,n,r){var i=t.updateQueue;sr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(d=e,f=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){h=m.call(f,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,d=typeof m=="function"?m.call(f,h,d):m,d==null)break e;h=_e({},h,d);break e;case 2:sr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);_i|=o,t.lanes=o,t.memoizedState=h}}function uw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(x(191,i));i.call(r)}}}var yx=new mI.Component().refs;function kp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ch={isMounted:function(t){return(t=t._reactInternals)?Oi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yt(),i=kr(t),s=jn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ir(t,s,i),e!==null&&(rn(e,t,i,r),eu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yt(),i=kr(t),s=jn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ir(t,s,i),e!==null&&(rn(e,t,i,r),eu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yt(),r=kr(t),i=jn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ir(t,i,r),e!==null&&(rn(e,t,r,n),eu(e,t,r))}};function cw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ya(n,r)||!ya(i,s):!0}function vx(t,e,n){var r=!1,i=Mr,s=e.contextType;return typeof s=="object"&&s!==null?s=Gt(s):(i=Ct(e)?Ti:dt.current,r=e.contextTypes,s=(r=r!=null)?bs(t,i):Mr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ch,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function hw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ch.enqueueReplaceState(e,e.state,null)}function Ap(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=yx,oy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Gt(s):(s=Ct(e)?Ti:dt.current,i.context=bs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(kp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ch.enqueueReplaceState(i,i.state,null),Xu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function no(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===yx&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function Rl(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dw(t){var e=t._init;return e(t._payload)}function wx(t){function e(g,p){if(t){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=Ar(g,p),g.index=0,g.sibling=null,g}function s(g,p,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,y,E){return p===null||p.tag!==6?(p=Gd(y,g.mode,E),p.return=g,p):(p=i(p,y),p.return=g,p)}function l(g,p,y,E){var C=y.type;return C===Gi?c(g,p,y.props.children,E,y.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ir&&dw(C)===p.type)?(E=i(p,y.props),E.ref=no(g,p,y),E.return=g,E):(E=ou(y.type,y.key,y.props,null,g.mode,E),E.ref=no(g,p,y),E.return=g,E)}function u(g,p,y,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Kd(y,g.mode,E),p.return=g,p):(p=i(p,y.children||[]),p.return=g,p)}function c(g,p,y,E,C){return p===null||p.tag!==7?(p=di(y,g.mode,E,C),p.return=g,p):(p=i(p,y),p.return=g,p)}function h(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Gd(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case wl:return y=ou(p.type,p.key,p.props,null,g.mode,y),y.ref=no(g,null,p),y.return=g,y;case Wi:return p=Kd(p,g.mode,y),p.return=g,p;case ir:var E=p._init;return h(g,E(p._payload),y)}if(fo(p)||Xs(p))return p=di(p,g.mode,y,null),p.return=g,p;Rl(g,p)}return null}function d(g,p,y,E){var C=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:a(g,p,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wl:return y.key===C?l(g,p,y,E):null;case Wi:return y.key===C?u(g,p,y,E):null;case ir:return C=y._init,d(g,p,C(y._payload),E)}if(fo(y)||Xs(y))return C!==null?null:c(g,p,y,E,null);Rl(g,y)}return null}function f(g,p,y,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return g=g.get(y)||null,a(p,g,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case wl:return g=g.get(E.key===null?y:E.key)||null,l(p,g,E,C);case Wi:return g=g.get(E.key===null?y:E.key)||null,u(p,g,E,C);case ir:var I=E._init;return f(g,p,y,I(E._payload),C)}if(fo(E)||Xs(E))return g=g.get(y)||null,c(p,g,E,C,null);Rl(p,E)}return null}function m(g,p,y,E){for(var C=null,I=null,b=p,R=p=0,Q=null;b!==null&&R<y.length;R++){b.index>R?(Q=b,b=null):Q=b.sibling;var O=d(g,b,y[R],E);if(O===null){b===null&&(b=Q);break}t&&b&&O.alternate===null&&e(g,b),p=s(O,p,R),I===null?C=O:I.sibling=O,I=O,b=Q}if(R===y.length)return n(g,b),we&&Yr(g,R),C;if(b===null){for(;R<y.length;R++)b=h(g,y[R],E),b!==null&&(p=s(b,p,R),I===null?C=b:I.sibling=b,I=b);return we&&Yr(g,R),C}for(b=r(g,b);R<y.length;R++)Q=f(b,g,R,y[R],E),Q!==null&&(t&&Q.alternate!==null&&b.delete(Q.key===null?R:Q.key),p=s(Q,p,R),I===null?C=Q:I.sibling=Q,I=Q);return t&&b.forEach(function(X){return e(g,X)}),we&&Yr(g,R),C}function v(g,p,y,E){var C=Xs(y);if(typeof C!="function")throw Error(x(150));if(y=C.call(y),y==null)throw Error(x(151));for(var I=C=null,b=p,R=p=0,Q=null,O=y.next();b!==null&&!O.done;R++,O=y.next()){b.index>R?(Q=b,b=null):Q=b.sibling;var X=d(g,b,O.value,E);if(X===null){b===null&&(b=Q);break}t&&b&&X.alternate===null&&e(g,b),p=s(X,p,R),I===null?C=X:I.sibling=X,I=X,b=Q}if(O.done)return n(g,b),we&&Yr(g,R),C;if(b===null){for(;!O.done;R++,O=y.next())O=h(g,O.value,E),O!==null&&(p=s(O,p,R),I===null?C=O:I.sibling=O,I=O);return we&&Yr(g,R),C}for(b=r(g,b);!O.done;R++,O=y.next())O=f(b,g,R,O.value,E),O!==null&&(t&&O.alternate!==null&&b.delete(O.key===null?R:O.key),p=s(O,p,R),I===null?C=O:I.sibling=O,I=O);return t&&b.forEach(function(Ke){return e(g,Ke)}),we&&Yr(g,R),C}function S(g,p,y,E){if(typeof y=="object"&&y!==null&&y.type===Gi&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case wl:e:{for(var C=y.key,I=p;I!==null;){if(I.key===C){if(C=y.type,C===Gi){if(I.tag===7){n(g,I.sibling),p=i(I,y.props.children),p.return=g,g=p;break e}}else if(I.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ir&&dw(C)===I.type){n(g,I.sibling),p=i(I,y.props),p.ref=no(g,I,y),p.return=g,g=p;break e}n(g,I);break}else e(g,I);I=I.sibling}y.type===Gi?(p=di(y.props.children,g.mode,E,y.key),p.return=g,g=p):(E=ou(y.type,y.key,y.props,null,g.mode,E),E.ref=no(g,p,y),E.return=g,g=E)}return o(g);case Wi:e:{for(I=y.key;p!==null;){if(p.key===I)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),p=i(p,y.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=Kd(y,g.mode,E),p.return=g,g=p}return o(g);case ir:return I=y._init,S(g,p,I(y._payload),E)}if(fo(y))return m(g,p,y,E);if(Xs(y))return v(g,p,y,E);Rl(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,y),p.return=g,g=p):(n(g,p),p=Gd(y,g.mode,E),p.return=g,g=p),o(g)):n(g,p)}return S}var Ps=wx(!0),Tx=wx(!1),il={},Sn=Ur(il),Ea=Ur(il),Sa=Ur(il);function si(t){if(t===il)throw Error(x(174));return t}function ay(t,e){switch(ce(Sa,e),ce(Ea,t),ce(Sn,il),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:op(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=op(e,t)}pe(Sn),ce(Sn,e)}function Ns(){pe(Sn),pe(Ea),pe(Sa)}function Ex(t){si(Sa.current);var e=si(Sn.current),n=op(e,t.type);e!==n&&(ce(Ea,t),ce(Sn,n))}function ly(t){Ea.current===t&&(pe(Sn),pe(Ea))}var Ee=Ur(0);function Zu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vd=[];function uy(){for(var t=0;t<Vd.length;t++)Vd[t]._workInProgressVersionPrimary=null;Vd.length=0}var tu=Jn.ReactCurrentDispatcher,Ud=Jn.ReactCurrentBatchConfig,Si=0,Se=null,Le=null,Ve=null,Ju=!1,Do=!1,_a=0,iB=0;function Je(){throw Error(x(321))}function cy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!on(t[n],e[n]))return!1;return!0}function hy(t,e,n,r,i,s){if(Si=s,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tu.current=t===null||t.memoizedState===null?lB:uB,t=n(r,i),Do){s=0;do{if(Do=!1,_a=0,25<=s)throw Error(x(301));s+=1,Ve=Le=null,e.updateQueue=null,tu.current=cB,t=n(r,i)}while(Do)}if(tu.current=ec,e=Le!==null&&Le.next!==null,Si=0,Ve=Le=Se=null,Ju=!1,e)throw Error(x(300));return t}function dy(){var t=_a!==0;return _a=0,t}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Se.memoizedState=Ve=t:Ve=Ve.next=t,Ve}function Kt(){if(Le===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=Ve===null?Se.memoizedState:Ve.next;if(e!==null)Ve=e,Le=t;else{if(t===null)throw Error(x(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ve===null?Se.memoizedState=Ve=t:Ve=Ve.next=t}return Ve}function Ca(t,e){return typeof e=="function"?e(t):e}function Bd(t){var e=Kt(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=Le,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Si&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Se.lanes|=c,_i|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,on(r,e.memoizedState)||(St=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Se.lanes|=s,_i|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zd(t){var e=Kt(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);on(s,e.memoizedState)||(St=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Sx(){}function _x(t,e){var n=Se,r=Kt(),i=e(),s=!on(r.memoizedState,i);if(s&&(r.memoizedState=i,St=!0),r=r.queue,fy(xx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,Ia(9,Ix.bind(null,n,r,i,e),void 0,null),ze===null)throw Error(x(349));Si&30||Cx(n,e,i)}return i}function Cx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ix(t,e,n,r){e.value=n,e.getSnapshot=r,kx(e)&&Ax(t)}function xx(t,e,n){return n(function(){kx(e)&&Ax(t)})}function kx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!on(t,n)}catch{return!0}}function Ax(t){var e=Yn(t,1);e!==null&&rn(e,t,1,-1)}function fw(t){var e=dn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:t},e.queue=t,t=t.dispatch=aB.bind(null,Se,t),[e.memoizedState,t]}function Ia(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Se.updateQueue,e===null?(e={lastEffect:null,stores:null},Se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bx(){return Kt().memoizedState}function nu(t,e,n,r){var i=dn();Se.flags|=t,i.memoizedState=Ia(1|e,n,void 0,r===void 0?null:r)}function Ih(t,e,n,r){var i=Kt();r=r===void 0?null:r;var s=void 0;if(Le!==null){var o=Le.memoizedState;if(s=o.destroy,r!==null&&cy(r,o.deps)){i.memoizedState=Ia(e,n,s,r);return}}Se.flags|=t,i.memoizedState=Ia(1|e,n,s,r)}function pw(t,e){return nu(8390656,8,t,e)}function fy(t,e){return Ih(2048,8,t,e)}function Rx(t,e){return Ih(4,2,t,e)}function Px(t,e){return Ih(4,4,t,e)}function Nx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Dx(t,e,n){return n=n!=null?n.concat([t]):null,Ih(4,4,Nx.bind(null,e,t),n)}function py(){}function Mx(t,e){var n=Kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Lx(t,e){var n=Kt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ox(t,e,n){return Si&21?(on(n,e)||(n=jI(),Se.lanes|=n,_i|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,St=!0),t.memoizedState=n)}function sB(t,e){var n=se;se=n!==0&&4>n?n:4,t(!0);var r=Ud.transition;Ud.transition={};try{t(!1),e()}finally{se=n,Ud.transition=r}}function $x(){return Kt().memoizedState}function oB(t,e,n){var r=kr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Fx(t))jx(e,n);else if(n=mx(t,e,n,r),n!==null){var i=yt();rn(n,t,r,i),Vx(n,e,r)}}function aB(t,e,n){var r=kr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fx(t))jx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,on(a,o)){var l=e.interleaved;l===null?(i.next=i,sy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=mx(t,e,i,r),n!==null&&(i=yt(),rn(n,t,r,i),Vx(n,e,r))}}function Fx(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function jx(t,e){Do=Ju=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wg(t,n)}}var ec={readContext:Gt,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useInsertionEffect:Je,useLayoutEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useMutableSource:Je,useSyncExternalStore:Je,useId:Je,unstable_isNewReconciler:!1},lB={readContext:Gt,useCallback:function(t,e){return dn().memoizedState=[t,e===void 0?null:e],t},useContext:Gt,useEffect:pw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nu(4194308,4,Nx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nu(4194308,4,t,e)},useInsertionEffect:function(t,e){return nu(4,2,t,e)},useMemo:function(t,e){var n=dn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=oB.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=dn();return t={current:t},e.memoizedState=t},useState:fw,useDebugValue:py,useDeferredValue:function(t){return dn().memoizedState=t},useTransition:function(){var t=fw(!1),e=t[0];return t=sB.bind(null,t[1]),dn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Se,i=dn();if(we){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),ze===null)throw Error(x(349));Si&30||Cx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,pw(xx.bind(null,r,s,t),[t]),r.flags|=2048,Ia(9,Ix.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=dn(),e=ze.identifierPrefix;if(we){var n=$n,r=On;n=(r&~(1<<32-nn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_a++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=iB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uB={readContext:Gt,useCallback:Mx,useContext:Gt,useEffect:fy,useImperativeHandle:Dx,useInsertionEffect:Rx,useLayoutEffect:Px,useMemo:Lx,useReducer:Bd,useRef:bx,useState:function(){return Bd(Ca)},useDebugValue:py,useDeferredValue:function(t){var e=Kt();return Ox(e,Le.memoizedState,t)},useTransition:function(){var t=Bd(Ca)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:Sx,useSyncExternalStore:_x,useId:$x,unstable_isNewReconciler:!1},cB={readContext:Gt,useCallback:Mx,useContext:Gt,useEffect:fy,useImperativeHandle:Dx,useInsertionEffect:Rx,useLayoutEffect:Px,useMemo:Lx,useReducer:zd,useRef:bx,useState:function(){return zd(Ca)},useDebugValue:py,useDeferredValue:function(t){var e=Kt();return Le===null?e.memoizedState=t:Ox(e,Le.memoizedState,t)},useTransition:function(){var t=zd(Ca)[0],e=Kt().memoizedState;return[t,e]},useMutableSource:Sx,useSyncExternalStore:_x,useId:$x,unstable_isNewReconciler:!1};function Ds(t,e){try{var n="",r=e;do n+=FU(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var hB=typeof WeakMap=="function"?WeakMap:Map;function Ux(t,e,n){n=jn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nc||(nc=!0,jp=r),bp(t,e)},n}function Bx(t,e,n){n=jn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){bp(t,e),typeof r!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function mw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new hB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=IB.bind(null,t,e,n),e.then(t,t))}function gw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jn(-1,1),e.tag=2,Ir(n,e,1))),n.lanes|=1),t)}var dB=Jn.ReactCurrentOwner,St=!1;function pt(t,e,n,r){e.child=t===null?Tx(e,null,n,r):Ps(e,t.child,n,r)}function vw(t,e,n,r,i){n=n.render;var s=e.ref;return ms(e,i),r=hy(t,e,n,r,s,i),n=dy(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xn(t,e,i)):(we&&n&&Jg(e),e.flags|=1,pt(t,e,r,i),e.child)}function ww(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Sy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,zx(t,e,s,r,i)):(t=ou(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ya,n(o,r)&&t.ref===e.ref)return Xn(t,e,i)}return e.flags|=1,t=Ar(s,r),t.ref=e.ref,t.return=e,e.child=t}function zx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ya(s,r)&&t.ref===e.ref)if(St=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(St=!0);else return e.lanes=t.lanes,Xn(t,e,i)}return Rp(t,e,n,r,i)}function Hx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(ns,kt),kt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(ns,kt),kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ce(ns,kt),kt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ce(ns,kt),kt|=r;return pt(t,e,i,n),e.child}function Wx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rp(t,e,n,r,i){var s=Ct(n)?Ti:dt.current;return s=bs(e,s),ms(e,i),n=hy(t,e,n,r,s,i),r=dy(),t!==null&&!St?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xn(t,e,i)):(we&&r&&Jg(e),e.flags|=1,pt(t,e,n,i),e.child)}function Tw(t,e,n,r,i){if(Ct(n)){var s=!0;Gu(e)}else s=!1;if(ms(e,i),e.stateNode===null)ru(t,e),vx(e,n,r),Ap(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gt(u):(u=Ct(n)?Ti:dt.current,u=bs(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&hw(e,o,r,u),sr=!1;var d=e.memoizedState;o.state=d,Xu(e,r,o,i),l=e.memoizedState,a!==r||d!==l||_t.current||sr?(typeof c=="function"&&(kp(e,n,c,r),l=e.memoizedState),(a=sr||cw(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,gx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Xt(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Gt(l):(l=Ct(n)?Ti:dt.current,l=bs(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&hw(e,o,r,l),sr=!1,d=e.memoizedState,o.state=d,Xu(e,r,o,i);var m=e.memoizedState;a!==h||d!==m||_t.current||sr?(typeof f=="function"&&(kp(e,n,f,r),m=e.memoizedState),(u=sr||cw(e,n,u,r,d,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Pp(t,e,n,r,s,i)}function Pp(t,e,n,r,i,s){Wx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&sw(e,n,!1),Xn(t,e,s);r=e.stateNode,dB.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ps(e,t.child,null,s),e.child=Ps(e,null,a,s)):pt(t,e,a,s),e.memoizedState=r.state,i&&sw(e,n,!0),e.child}function Gx(t){var e=t.stateNode;e.pendingContext?iw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iw(t,e.context,!1),ay(t,e.containerInfo)}function Ew(t,e,n,r,i){return Rs(),ty(i),e.flags|=256,pt(t,e,n,r),e.child}var Np={dehydrated:null,treeContext:null,retryLane:0};function Dp(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kx(t,e,n){var r=e.pendingProps,i=Ee.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ce(Ee,i&1),t===null)return Ip(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ah(o,r,0,null),t=di(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Dp(n),e.memoizedState=Np,t):my(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return fB(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ar(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ar(a,s):(s=di(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Dp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Np,r}return s=t.child,t=s.sibling,r=Ar(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function my(t,e){return e=Ah({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pl(t,e,n,r){return r!==null&&ty(r),Ps(e,t.child,null,n),t=my(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fB(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Hd(Error(x(422))),Pl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ah({mode:"visible",children:r.children},i,0,null),s=di(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ps(e,t.child,null,o),e.child.memoizedState=Dp(o),e.memoizedState=Np,s);if(!(e.mode&1))return Pl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(x(419)),r=Hd(s,r,void 0),Pl(t,e,o,r)}if(a=(o&t.childLanes)!==0,St||a){if(r=ze,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yn(t,i),rn(r,t,i,-1))}return Ey(),r=Hd(Error(x(421))),Pl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=xB.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,At=Cr(i.nextSibling),Rt=e,we=!0,en=null,t!==null&&(jt[Vt++]=On,jt[Vt++]=$n,jt[Vt++]=Ei,On=t.id,$n=t.overflow,Ei=e),e=my(e,r.children),e.flags|=4096,e)}function Sw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xp(t.return,e,n)}function Wd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(pt(t,e,r.children,n),r=Ee.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sw(t,n,e);else if(t.tag===19)Sw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ce(Ee,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wd(e,!0,n,null,s);break;case"together":Wd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ru(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_i|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=Ar(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ar(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function pB(t,e,n){switch(e.tag){case 3:Gx(e),Rs();break;case 5:Ex(e);break;case 1:Ct(e.type)&&Gu(e);break;case 4:ay(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ce(Qu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ce(Ee,Ee.current&1),e.flags|=128,null):n&e.child.childLanes?Kx(t,e,n):(ce(Ee,Ee.current&1),t=Xn(t,e,n),t!==null?t.sibling:null);ce(Ee,Ee.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return qx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(Ee,Ee.current),r)break;return null;case 22:case 23:return e.lanes=0,Hx(t,e,n)}return Xn(t,e,n)}var Qx,Mp,Yx,Xx;Qx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mp=function(){};Yx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,si(Sn.current);var s=null;switch(n){case"input":i=np(t,i),r=np(t,r),s=[];break;case"select":i=_e({},i,{value:void 0}),r=_e({},r,{value:void 0}),s=[];break;case"textarea":i=sp(t,i),r=sp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hu)}ap(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ca.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ca.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&de("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Xx=function(t,e,n,r){n!==r&&(e.flags|=4)};function ro(t,e){if(!we)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function mB(t,e,n){var r=e.pendingProps;switch(ey(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(e),null;case 1:return Ct(e.type)&&Wu(),et(e),null;case 3:return r=e.stateNode,Ns(),pe(_t),pe(dt),uy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,en!==null&&(Bp(en),en=null))),Mp(t,e),et(e),null;case 5:ly(e);var i=si(Sa.current);if(n=e.type,t!==null&&e.stateNode!=null)Yx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return et(e),null}if(t=si(Sn.current),bl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[mn]=e,r[Ta]=s,t=(e.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(i=0;i<mo.length;i++)de(mo[i],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":P1(r,s),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},de("invalid",r);break;case"textarea":D1(r,s),de("invalid",r)}ap(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Al(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Al(r.textContent,a,t),i=["children",""+a]):ca.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":Tl(r),N1(r,s,!0);break;case"textarea":Tl(r),M1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Hu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=CI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mn]=e,t[Ta]=r,Qx(t,e,!1,!1),e.stateNode=t;e:{switch(o=lp(n,r),n){case"dialog":de("cancel",t),de("close",t),i=r;break;case"iframe":case"object":case"embed":de("load",t),i=r;break;case"video":case"audio":for(i=0;i<mo.length;i++)de(mo[i],t);i=r;break;case"source":de("error",t),i=r;break;case"img":case"image":case"link":de("error",t),de("load",t),i=r;break;case"details":de("toggle",t),i=r;break;case"input":P1(t,r),i=np(t,r),de("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_e({},r,{value:void 0}),de("invalid",t);break;case"textarea":D1(t,r),i=sp(t,r),de("invalid",t);break;default:i=r}ap(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?kI(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&II(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ha(t,l):typeof l=="number"&&ha(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ca.hasOwnProperty(s)?l!=null&&s==="onScroll"&&de("scroll",t):l!=null&&jg(t,s,l,o))}switch(n){case"input":Tl(t),N1(t,r,!1);break;case"textarea":Tl(t),M1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Dr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?hs(t,!!r.multiple,s,!1):r.defaultValue!=null&&hs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return et(e),null;case 6:if(t&&e.stateNode!=null)Xx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(n=si(Sa.current),si(Sn.current),bl(e)){if(r=e.stateNode,n=e.memoizedProps,r[mn]=e,(s=r.nodeValue!==n)&&(t=Rt,t!==null))switch(t.tag){case 3:Al(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Al(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mn]=e,e.stateNode=r}return et(e),null;case 13:if(pe(Ee),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(we&&At!==null&&e.mode&1&&!(e.flags&128))px(),Rs(),e.flags|=98560,s=!1;else if(s=bl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(x(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(x(317));s[mn]=e}else Rs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;et(e),s=!1}else en!==null&&(Bp(en),en=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ee.current&1?Oe===0&&(Oe=3):Ey())),e.updateQueue!==null&&(e.flags|=4),et(e),null);case 4:return Ns(),Mp(t,e),t===null&&va(e.stateNode.containerInfo),et(e),null;case 10:return iy(e.type._context),et(e),null;case 17:return Ct(e.type)&&Wu(),et(e),null;case 19:if(pe(Ee),s=e.memoizedState,s===null)return et(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ro(s,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zu(t),o!==null){for(e.flags|=128,ro(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(Ee,Ee.current&1|2),e.child}t=t.sibling}s.tail!==null&&be()>Ms&&(e.flags|=128,r=!0,ro(s,!1),e.lanes=4194304)}else{if(!r)if(t=Zu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ro(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!we)return et(e),null}else 2*be()-s.renderingStartTime>Ms&&n!==1073741824&&(e.flags|=128,r=!0,ro(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=be(),e.sibling=null,n=Ee.current,ce(Ee,r?n&1|2:n&1),e):(et(e),null);case 22:case 23:return Ty(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kt&1073741824&&(et(e),e.subtreeFlags&6&&(e.flags|=8192)):et(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function gB(t,e){switch(ey(e),e.tag){case 1:return Ct(e.type)&&Wu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ns(),pe(_t),pe(dt),uy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ly(e),null;case 13:if(pe(Ee),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));Rs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pe(Ee),null;case 4:return Ns(),null;case 10:return iy(e.type._context),null;case 22:case 23:return Ty(),null;case 24:return null;default:return null}}var Nl=!1,it=!1,yB=typeof WeakSet=="function"?WeakSet:Set,N=null;function ts(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(t,e,r)}else n.current=null}function Lp(t,e,n){try{n()}catch(r){Ie(t,e,r)}}var _w=!1;function vB(t,e){if(vp=Uu,t=tx(),Zg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(wp={focusedElem:t,selectionRange:n},Uu=!1,N=e;N!==null;)if(e=N,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,N=t;else for(;N!==null;){e=N;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,S=m.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Xt(e.type,v),S);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(E){Ie(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,N=t;break}N=e.return}return m=_w,_w=!1,m}function Mo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Lp(e,n,s)}i=i.next}while(i!==r)}}function xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Op(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Zx(t){var e=t.alternate;e!==null&&(t.alternate=null,Zx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mn],delete e[Ta],delete e[Sp],delete e[eB],delete e[tB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jx(t){return t.tag===5||t.tag===3||t.tag===4}function Cw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $p(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hu));else if(r!==4&&(t=t.child,t!==null))for($p(t,e,n),t=t.sibling;t!==null;)$p(t,e,n),t=t.sibling}function Fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fp(t,e,n),t=t.sibling;t!==null;)Fp(t,e,n),t=t.sibling}var qe=null,Zt=!1;function tr(t,e,n){for(n=n.child;n!==null;)ek(t,e,n),n=n.sibling}function ek(t,e,n){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(vh,n)}catch{}switch(n.tag){case 5:it||ts(n,e);case 6:var r=qe,i=Zt;qe=null,tr(t,e,n),qe=r,Zt=i,qe!==null&&(Zt?(t=qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qe.removeChild(n.stateNode));break;case 18:qe!==null&&(Zt?(t=qe,n=n.stateNode,t.nodeType===8?Fd(t.parentNode,n):t.nodeType===1&&Fd(t,n),ma(t)):Fd(qe,n.stateNode));break;case 4:r=qe,i=Zt,qe=n.stateNode.containerInfo,Zt=!0,tr(t,e,n),qe=r,Zt=i;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Lp(n,e,o),i=i.next}while(i!==r)}tr(t,e,n);break;case 1:if(!it&&(ts(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ie(n,e,a)}tr(t,e,n);break;case 21:tr(t,e,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,tr(t,e,n),it=r):tr(t,e,n);break;default:tr(t,e,n)}}function Iw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new yB),e.forEach(function(r){var i=kB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qe=a.stateNode,Zt=!1;break e;case 3:qe=a.stateNode.containerInfo,Zt=!0;break e;case 4:qe=a.stateNode.containerInfo,Zt=!0;break e}a=a.return}if(qe===null)throw Error(x(160));ek(s,o,i),qe=null,Zt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ie(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tk(e,t),e=e.sibling}function tk(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qt(e,t),hn(t),r&4){try{Mo(3,t,t.return),xh(3,t)}catch(v){Ie(t,t.return,v)}try{Mo(5,t,t.return)}catch(v){Ie(t,t.return,v)}}break;case 1:Qt(e,t),hn(t),r&512&&n!==null&&ts(n,n.return);break;case 5:if(Qt(e,t),hn(t),r&512&&n!==null&&ts(n,n.return),t.flags&32){var i=t.stateNode;try{ha(i,"")}catch(v){Ie(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&SI(i,s),lp(a,o);var u=lp(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?kI(i,h):c==="dangerouslySetInnerHTML"?II(i,h):c==="children"?ha(i,h):jg(i,c,h,u)}switch(a){case"input":rp(i,s);break;case"textarea":_I(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?hs(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?hs(i,!!s.multiple,s.defaultValue,!0):hs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ta]=s}catch(v){Ie(t,t.return,v)}}break;case 6:if(Qt(e,t),hn(t),r&4){if(t.stateNode===null)throw Error(x(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Ie(t,t.return,v)}}break;case 3:if(Qt(e,t),hn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ma(e.containerInfo)}catch(v){Ie(t,t.return,v)}break;case 4:Qt(e,t),hn(t);break;case 13:Qt(e,t),hn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(vy=be())),r&4&&Iw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(it=(u=it)||c,Qt(e,t),it=u):Qt(e,t),hn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(N=t,c=t.child;c!==null;){for(h=N=c;N!==null;){switch(d=N,f=d.child,d.tag){case 0:case 11:case 14:case 15:Mo(4,d,d.return);break;case 1:ts(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){Ie(r,n,v)}}break;case 5:ts(d,d.return);break;case 22:if(d.memoizedState!==null){kw(h);continue}}f!==null?(f.return=d,N=f):kw(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=xI("display",o))}catch(v){Ie(t,t.return,v)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Ie(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qt(e,t),hn(t),r&4&&Iw(t);break;case 21:break;default:Qt(e,t),hn(t)}}function hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Jx(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ha(i,""),r.flags&=-33);var s=Cw(t);Fp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Cw(t);$p(t,a,o);break;default:throw Error(x(161))}}catch(l){Ie(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wB(t,e,n){N=t,nk(t)}function nk(t,e,n){for(var r=(t.mode&1)!==0;N!==null;){var i=N,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Nl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||it;a=Nl;var u=it;if(Nl=o,(it=l)&&!u)for(N=i;N!==null;)o=N,l=o.child,o.tag===22&&o.memoizedState!==null?Aw(i):l!==null?(l.return=o,N=l):Aw(i);for(;s!==null;)N=s,nk(s),s=s.sibling;N=i,Nl=a,it=u}xw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,N=s):xw(t)}}function xw(t){for(;N!==null;){var e=N;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:it||xh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!it)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Xt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&uw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}uw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ma(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}it||e.flags&512&&Op(e)}catch(d){Ie(e,e.return,d)}}if(e===t){N=null;break}if(n=e.sibling,n!==null){n.return=e.return,N=n;break}N=e.return}}function kw(t){for(;N!==null;){var e=N;if(e===t){N=null;break}var n=e.sibling;if(n!==null){n.return=e.return,N=n;break}N=e.return}}function Aw(t){for(;N!==null;){var e=N;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xh(4,e)}catch(l){Ie(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ie(e,i,l)}}var s=e.return;try{Op(e)}catch(l){Ie(e,s,l)}break;case 5:var o=e.return;try{Op(e)}catch(l){Ie(e,o,l)}}}catch(l){Ie(e,e.return,l)}if(e===t){N=null;break}var a=e.sibling;if(a!==null){a.return=e.return,N=a;break}N=e.return}}var TB=Math.ceil,tc=Jn.ReactCurrentDispatcher,gy=Jn.ReactCurrentOwner,Wt=Jn.ReactCurrentBatchConfig,te=0,ze=null,Ne=null,Ye=0,kt=0,ns=Ur(0),Oe=0,xa=null,_i=0,kh=0,yy=0,Lo=null,Et=null,vy=0,Ms=1/0,Rn=null,nc=!1,jp=null,xr=null,Dl=!1,mr=null,rc=0,Oo=0,Vp=null,iu=-1,su=0;function yt(){return te&6?be():iu!==-1?iu:iu=be()}function kr(t){return t.mode&1?te&2&&Ye!==0?Ye&-Ye:rB.transition!==null?(su===0&&(su=jI()),su):(t=se,t!==0||(t=window.event,t=t===void 0?16:GI(t.type)),t):1}function rn(t,e,n,r){if(50<Oo)throw Oo=0,Vp=null,Error(x(185));tl(t,n,r),(!(te&2)||t!==ze)&&(t===ze&&(!(te&2)&&(kh|=n),Oe===4&&dr(t,Ye)),It(t,r),n===1&&te===0&&!(e.mode&1)&&(Ms=be()+500,_h&&Br()))}function It(t,e){var n=t.callbackNode;r4(t,e);var r=Vu(t,t===ze?Ye:0);if(r===0)n!==null&&$1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$1(n),e===1)t.tag===0?nB(bw.bind(null,t)):hx(bw.bind(null,t)),Z4(function(){!(te&6)&&Br()}),n=null;else{switch(VI(r)){case 1:n=Hg;break;case 4:n=$I;break;case 16:n=ju;break;case 536870912:n=FI;break;default:n=ju}n=ck(n,rk.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rk(t,e){if(iu=-1,su=0,te&6)throw Error(x(327));var n=t.callbackNode;if(gs()&&t.callbackNode!==n)return null;var r=Vu(t,t===ze?Ye:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ic(t,r);else{e=r;var i=te;te|=2;var s=sk();(ze!==t||Ye!==e)&&(Rn=null,Ms=be()+500,hi(t,e));do try{_B();break}catch(a){ik(t,a)}while(1);ry(),tc.current=s,te=i,Ne!==null?e=0:(ze=null,Ye=0,e=Oe)}if(e!==0){if(e===2&&(i=fp(t),i!==0&&(r=i,e=Up(t,i))),e===1)throw n=xa,hi(t,0),dr(t,r),It(t,be()),n;if(e===6)dr(t,r);else{if(i=t.current.alternate,!(r&30)&&!EB(i)&&(e=ic(t,r),e===2&&(s=fp(t),s!==0&&(r=s,e=Up(t,s))),e===1))throw n=xa,hi(t,0),dr(t,r),It(t,be()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:Xr(t,Et,Rn);break;case 3:if(dr(t,r),(r&130023424)===r&&(e=vy+500-be(),10<e)){if(Vu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){yt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ep(Xr.bind(null,t,Et,Rn),e);break}Xr(t,Et,Rn);break;case 4:if(dr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-nn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*TB(r/1960))-r,10<r){t.timeoutHandle=Ep(Xr.bind(null,t,Et,Rn),r);break}Xr(t,Et,Rn);break;case 5:Xr(t,Et,Rn);break;default:throw Error(x(329))}}}return It(t,be()),t.callbackNode===n?rk.bind(null,t):null}function Up(t,e){var n=Lo;return t.current.memoizedState.isDehydrated&&(hi(t,e).flags|=256),t=ic(t,e),t!==2&&(e=Et,Et=n,e!==null&&Bp(e)),t}function Bp(t){Et===null?Et=t:Et.push.apply(Et,t)}function EB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!on(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dr(t,e){for(e&=~yy,e&=~kh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nn(e),r=1<<n;t[n]=-1,e&=~r}}function bw(t){if(te&6)throw Error(x(327));gs();var e=Vu(t,0);if(!(e&1))return It(t,be()),null;var n=ic(t,e);if(t.tag!==0&&n===2){var r=fp(t);r!==0&&(e=r,n=Up(t,r))}if(n===1)throw n=xa,hi(t,0),dr(t,e),It(t,be()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xr(t,Et,Rn),It(t,be()),null}function wy(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(Ms=be()+500,_h&&Br())}}function Ci(t){mr!==null&&mr.tag===0&&!(te&6)&&gs();var e=te;te|=1;var n=Wt.transition,r=se;try{if(Wt.transition=null,se=1,t)return t()}finally{se=r,Wt.transition=n,te=e,!(te&6)&&Br()}}function Ty(){kt=ns.current,pe(ns)}function hi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,X4(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(ey(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wu();break;case 3:Ns(),pe(_t),pe(dt),uy();break;case 5:ly(r);break;case 4:Ns();break;case 13:pe(Ee);break;case 19:pe(Ee);break;case 10:iy(r.type._context);break;case 22:case 23:Ty()}n=n.return}if(ze=t,Ne=t=Ar(t.current,null),Ye=kt=e,Oe=0,xa=null,yy=kh=_i=0,Et=Lo=null,ii!==null){for(e=0;e<ii.length;e++)if(n=ii[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ii=null}return t}function ik(t,e){do{var n=Ne;try{if(ry(),tu.current=ec,Ju){for(var r=Se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ju=!1}if(Si=0,Ve=Le=Se=null,Do=!1,_a=0,gy.current=null,n===null||n.return===null){Oe=1,xa=e,Ne=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ye,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=gw(o);if(f!==null){f.flags&=-257,yw(f,o,a,s,e),f.mode&1&&mw(s,u,e),e=f,l=u;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){mw(s,u,e),Ey();break e}l=Error(x(426))}}else if(we&&a.mode&1){var S=gw(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),yw(S,o,a,s,e),ty(Ds(l,a));break e}}s=l=Ds(l,a),Oe!==4&&(Oe=2),Lo===null?Lo=[s]:Lo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=Ux(s,l,e);lw(s,g);break e;case 1:a=l;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(xr===null||!xr.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Bx(s,a,e);lw(s,E);break e}}s=s.return}while(s!==null)}ak(n)}catch(C){e=C,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(1)}function sk(){var t=tc.current;return tc.current=ec,t===null?ec:t}function Ey(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),ze===null||!(_i&268435455)&&!(kh&268435455)||dr(ze,Ye)}function ic(t,e){var n=te;te|=2;var r=sk();(ze!==t||Ye!==e)&&(Rn=null,hi(t,e));do try{SB();break}catch(i){ik(t,i)}while(1);if(ry(),te=n,tc.current=r,Ne!==null)throw Error(x(261));return ze=null,Ye=0,Oe}function SB(){for(;Ne!==null;)ok(Ne)}function _B(){for(;Ne!==null&&!qU();)ok(Ne)}function ok(t){var e=uk(t.alternate,t,kt);t.memoizedProps=t.pendingProps,e===null?ak(t):Ne=e,gy.current=null}function ak(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=gB(n,e),n!==null){n.flags&=32767,Ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,Ne=null;return}}else if(n=mB(n,e,kt),n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);Oe===0&&(Oe=5)}function Xr(t,e,n){var r=se,i=Wt.transition;try{Wt.transition=null,se=1,CB(t,e,n,r)}finally{Wt.transition=i,se=r}return null}function CB(t,e,n,r){do gs();while(mr!==null);if(te&6)throw Error(x(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(i4(t,s),t===ze&&(Ne=ze=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dl||(Dl=!0,ck(ju,function(){return gs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Wt.transition,Wt.transition=null;var o=se;se=1;var a=te;te|=4,gy.current=null,vB(t,n),tk(n,t),H4(wp),Uu=!!vp,wp=vp=null,t.current=n,wB(n),QU(),te=a,se=o,Wt.transition=s}else t.current=n;if(Dl&&(Dl=!1,mr=t,rc=i),s=t.pendingLanes,s===0&&(xr=null),ZU(n.stateNode),It(t,be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nc)throw nc=!1,t=jp,jp=null,t;return rc&1&&t.tag!==0&&gs(),s=t.pendingLanes,s&1?t===Vp?Oo++:(Oo=0,Vp=t):Oo=0,Br(),null}function gs(){if(mr!==null){var t=VI(rc),e=Wt.transition,n=se;try{if(Wt.transition=null,se=16>t?16:t,mr===null)var r=!1;else{if(t=mr,mr=null,rc=0,te&6)throw Error(x(331));var i=te;for(te|=4,N=t.current;N!==null;){var s=N,o=s.child;if(N.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(N=u;N!==null;){var c=N;switch(c.tag){case 0:case 11:case 15:Mo(8,c,s)}var h=c.child;if(h!==null)h.return=c,N=h;else for(;N!==null;){c=N;var d=c.sibling,f=c.return;if(Zx(c),c===u){N=null;break}if(d!==null){d.return=f,N=d;break}N=f}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}N=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,N=o;else e:for(;N!==null;){if(s=N,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mo(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,N=g;break e}N=s.return}}var p=t.current;for(N=p;N!==null;){o=N;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,N=y;else e:for(o=p;N!==null;){if(a=N,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xh(9,a)}}catch(C){Ie(a,a.return,C)}if(a===o){N=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,N=E;break e}N=a.return}}if(te=i,Br(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(vh,t)}catch{}r=!0}return r}finally{se=n,Wt.transition=e}}return!1}function Rw(t,e,n){e=Ds(n,e),e=Ux(t,e,1),t=Ir(t,e,1),e=yt(),t!==null&&(tl(t,1,e),It(t,e))}function Ie(t,e,n){if(t.tag===3)Rw(t,t,n);else for(;e!==null;){if(e.tag===3){Rw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xr===null||!xr.has(r))){t=Ds(n,t),t=Bx(e,t,1),e=Ir(e,t,1),t=yt(),e!==null&&(tl(e,1,t),It(e,t));break}}e=e.return}}function IB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=yt(),t.pingedLanes|=t.suspendedLanes&n,ze===t&&(Ye&n)===n&&(Oe===4||Oe===3&&(Ye&130023424)===Ye&&500>be()-vy?hi(t,0):yy|=n),It(t,e)}function lk(t,e){e===0&&(t.mode&1?(e=_l,_l<<=1,!(_l&130023424)&&(_l=4194304)):e=1);var n=yt();t=Yn(t,e),t!==null&&(tl(t,e,n),It(t,n))}function xB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lk(t,n)}function kB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),lk(t,n)}var uk;uk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_t.current)St=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return St=!1,pB(t,e,n);St=!!(t.flags&131072)}else St=!1,we&&e.flags&1048576&&dx(e,qu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ru(t,e),t=e.pendingProps;var i=bs(e,dt.current);ms(e,n),i=hy(null,e,r,t,i,n);var s=dy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ct(r)?(s=!0,Gu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,oy(e),i.updater=Ch,e.stateNode=i,i._reactInternals=e,Ap(e,r,t,n),e=Pp(null,e,r,!0,s,n)):(e.tag=0,we&&s&&Jg(e),pt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ru(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=bB(r),t=Xt(r,t),i){case 0:e=Rp(null,e,r,t,n);break e;case 1:e=Tw(null,e,r,t,n);break e;case 11:e=vw(null,e,r,t,n);break e;case 14:e=ww(null,e,r,Xt(r.type,t),n);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),Rp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),Tw(t,e,r,i,n);case 3:e:{if(Gx(e),t===null)throw Error(x(387));r=e.pendingProps,s=e.memoizedState,i=s.element,gx(t,e),Xu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ds(Error(x(423)),e),e=Ew(t,e,r,n,i);break e}else if(r!==i){i=Ds(Error(x(424)),e),e=Ew(t,e,r,n,i);break e}else for(At=Cr(e.stateNode.containerInfo.firstChild),Rt=e,we=!0,en=null,n=Tx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rs(),r===i){e=Xn(t,e,n);break e}pt(t,e,r,n)}e=e.child}return e;case 5:return Ex(e),t===null&&Ip(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Tp(r,i)?o=null:s!==null&&Tp(r,s)&&(e.flags|=32),Wx(t,e),pt(t,e,o,n),e.child;case 6:return t===null&&Ip(e),null;case 13:return Kx(t,e,n);case 4:return ay(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ps(e,null,r,n):pt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),vw(t,e,r,i,n);case 7:return pt(t,e,e.pendingProps,n),e.child;case 8:return pt(t,e,e.pendingProps.children,n),e.child;case 12:return pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ce(Qu,r._currentValue),r._currentValue=o,s!==null)if(on(s.value,o)){if(s.children===i.children&&!_t.current){e=Xn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=jn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(x(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ms(e,n),i=Gt(i),r=r(i),e.flags|=1,pt(t,e,r,n),e.child;case 14:return r=e.type,i=Xt(r,e.pendingProps),i=Xt(r.type,i),ww(t,e,r,i,n);case 15:return zx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xt(r,i),ru(t,e),e.tag=1,Ct(r)?(t=!0,Gu(e)):t=!1,ms(e,n),vx(e,r,i),Ap(e,r,i,n),Pp(null,e,r,!0,t,n);case 19:return qx(t,e,n);case 22:return Hx(t,e,n)}throw Error(x(156,e.tag))};function ck(t,e){return OI(t,e)}function AB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(t,e,n,r){return new AB(t,e,n,r)}function Sy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bB(t){if(typeof t=="function")return Sy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ug)return 11;if(t===Bg)return 14}return 2}function Ar(t,e){var n=t.alternate;return n===null?(n=Bt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ou(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Sy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Gi:return di(n.children,i,s,e);case Vg:o=8,i|=8;break;case Zf:return t=Bt(12,n,e,i|2),t.elementType=Zf,t.lanes=s,t;case Jf:return t=Bt(13,n,e,i),t.elementType=Jf,t.lanes=s,t;case ep:return t=Bt(19,n,e,i),t.elementType=ep,t.lanes=s,t;case wI:return Ah(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yI:o=10;break e;case vI:o=9;break e;case Ug:o=11;break e;case Bg:o=14;break e;case ir:o=16,r=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=Bt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function di(t,e,n,r){return t=Bt(7,t,r,e),t.lanes=n,t}function Ah(t,e,n,r){return t=Bt(22,t,r,e),t.elementType=wI,t.lanes=n,t.stateNode={isHidden:!1},t}function Gd(t,e,n){return t=Bt(6,t,null,e),t.lanes=n,t}function Kd(t,e,n){return e=Bt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kd(0),this.expirationTimes=kd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _y(t,e,n,r,i,s,o,a,l){return t=new RB(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Bt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},oy(s),t}function PB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hk(t){if(!t)return Mr;t=t._reactInternals;e:{if(Oi(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(Ct(n))return cx(t,n,e)}return e}function dk(t,e,n,r,i,s,o,a,l){return t=_y(n,r,!0,t,i,s,o,a,l),t.context=hk(null),n=t.current,r=yt(),i=kr(n),s=jn(r,i),s.callback=e??null,Ir(n,s,i),t.current.lanes=i,tl(t,i,r),It(t,r),t}function bh(t,e,n,r){var i=e.current,s=yt(),o=kr(i);return n=hk(n),e.context===null?e.context=n:e.pendingContext=n,e=jn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ir(i,e,o),t!==null&&(rn(t,i,o,s),eu(t,i,o)),o}function sc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Pw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cy(t,e){Pw(t,e),(t=t.alternate)&&Pw(t,e)}function NB(){return null}var fk=typeof reportError=="function"?reportError:function(t){console.error(t)};function Iy(t){this._internalRoot=t}Rh.prototype.render=Iy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));bh(t,e,null,null)};Rh.prototype.unmount=Iy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ci(function(){bh(null,t,null,null)}),e[Qn]=null}};function Rh(t){this._internalRoot=t}Rh.prototype.unstable_scheduleHydration=function(t){if(t){var e=zI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hr.length&&e!==0&&e<hr[n].priority;n++);hr.splice(n,0,t),n===0&&WI(t)}};function xy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Nw(){}function DB(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=sc(o);s.call(u)}}var o=dk(e,r,t,0,null,!1,!1,"",Nw);return t._reactRootContainer=o,t[Qn]=o.current,va(t.nodeType===8?t.parentNode:t),Ci(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=sc(l);a.call(u)}}var l=_y(t,0,!1,null,null,!1,!1,"",Nw);return t._reactRootContainer=l,t[Qn]=l.current,va(t.nodeType===8?t.parentNode:t),Ci(function(){bh(e,l,n,r)}),l}function Nh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=sc(o);a.call(l)}}bh(e,o,t,i)}else o=DB(n,e,t,i,r);return sc(o)}UI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=po(e.pendingLanes);n!==0&&(Wg(e,n|1),It(e,be()),!(te&6)&&(Ms=be()+500,Br()))}break;case 13:Ci(function(){var r=Yn(t,1);if(r!==null){var i=yt();rn(r,t,1,i)}}),Cy(t,1)}};Gg=function(t){if(t.tag===13){var e=Yn(t,134217728);if(e!==null){var n=yt();rn(e,t,134217728,n)}Cy(t,134217728)}};BI=function(t){if(t.tag===13){var e=kr(t),n=Yn(t,e);if(n!==null){var r=yt();rn(n,t,e,r)}Cy(t,e)}};zI=function(){return se};HI=function(t,e){var n=se;try{return se=t,e()}finally{se=n}};cp=function(t,e,n){switch(e){case"input":if(rp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Sh(r);if(!i)throw Error(x(90));EI(r),rp(r,i)}}}break;case"textarea":_I(t,n);break;case"select":e=n.value,e!=null&&hs(t,!!n.multiple,e,!1)}};RI=wy;PI=Ci;var MB={usingClientEntryPoint:!1,Events:[rl,Yi,Sh,AI,bI,wy]},io={findFiberByHostInstance:ri,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},LB={bundleType:io.bundleType,version:io.version,rendererPackageName:io.rendererPackageName,rendererConfig:io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=MI(t),t===null?null:t.stateNode},findFiberByHostInstance:io.findFiberByHostInstance||NB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{vh=Ml.inject(LB),En=Ml}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MB;Lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xy(e))throw Error(x(200));return PB(t,e,null,n)};Lt.createRoot=function(t,e){if(!xy(t))throw Error(x(299));var n=!1,r="",i=fk;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_y(t,1,!1,null,null,n,!1,r,i),t[Qn]=e.current,va(t.nodeType===8?t.parentNode:t),new Iy(e)};Lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=MI(e),t=t===null?null:t.stateNode,t};Lt.flushSync=function(t){return Ci(t)};Lt.hydrate=function(t,e,n){if(!Ph(e))throw Error(x(200));return Nh(null,t,e,!0,n)};Lt.hydrateRoot=function(t,e,n){if(!xy(t))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=fk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=dk(e,null,t,1,n??null,i,!1,s,o),t[Qn]=e.current,va(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rh(e)};Lt.render=function(t,e,n){if(!Ph(e))throw Error(x(200));return Nh(null,t,e,!1,n)};Lt.unmountComponentAtNode=function(t){if(!Ph(t))throw Error(x(40));return t._reactRootContainer?(Ci(function(){Nh(null,null,t,!1,function(){t._reactRootContainer=null,t[Qn]=null})}),!0):!1};Lt.unstable_batchedUpdates=wy;Lt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ph(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return Nh(t,e,n,!1,r)};Lt.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Lt})(NU);const OB=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function $i(t,e){if(!t||!e)return;const n=t.style;for(const r in e){const i=e[r];Number.isFinite(i)&&!OB.test(r)?n[r]=`${i}px`:n[r]=i}}const $B={draggable:!1,popup:null,rotation:0,rotationAlignment:"auto",pitchAlignment:"auto"};function pk(t){const{map:e,mapLib:n}=w.useContext(yh),r=w.useRef({props:t});r.current.props=t;const i=w.useMemo(()=>{let s=!1;w.Children.forEach(t.children,l=>{l&&(s=!0)});const o={...t,element:s?document.createElement("div"):null},a=new n.Marker(o).setLngLat([t.longitude,t.latitude]);return a.getElement().addEventListener("click",l=>{var u,c;(c=(u=r.current.props).onClick)===null||c===void 0||c.call(u,{type:"click",target:a,originalEvent:l})}),a.on("dragstart",l=>{var u,c;const h=l;h.lngLat=i.getLngLat(),(c=(u=r.current.props).onDragStart)===null||c===void 0||c.call(u,h)}),a.on("drag",l=>{var u,c;const h=l;h.lngLat=i.getLngLat(),(c=(u=r.current.props).onDrag)===null||c===void 0||c.call(u,h)}),a.on("dragend",l=>{var u,c;const h=l;h.lngLat=i.getLngLat(),(c=(u=r.current.props).onDragEnd)===null||c===void 0||c.call(u,h)}),a},[]);return w.useEffect(()=>(i.addTo(e.getMap()),()=>{i.remove()}),[]),w.useEffect(()=>{$i(i.getElement(),t.style)},[t.style]),(i.getLngLat().lng!==t.longitude||i.getLngLat().lat!==t.latitude)&&i.setLngLat([t.longitude,t.latitude]),t.offset&&!EU(i.getOffset(),t.offset)&&i.setOffset(t.offset),i.isDraggable()!==t.draggable&&i.setDraggable(t.draggable),i.getRotation()!==t.rotation&&i.setRotation(t.rotation),i.getRotationAlignment()!==t.rotationAlignment&&i.setRotationAlignment(t.rotationAlignment),i.getPitchAlignment()!==t.pitchAlignment&&i.setPitchAlignment(t.pitchAlignment),i.getPopup()!==t.popup&&i.setPopup(t.popup),ua.createPortal(t.children,i.getElement())}pk.defaultProps=$B;const Dw=w.memo(pk);function Mw(t){return new Set(t?t.trim().split(/\s+/):[])}function FB(t){const{map:e,mapLib:n}=w.useContext(yh),r=w.useMemo(()=>document.createElement("div"),[]),i=w.useRef({props:t});i.current.props=t;const s=w.useMemo(()=>{const o={...t},a=new n.Popup(o).setLngLat([t.longitude,t.latitude]);return a.once("open",l=>{var u,c;(c=(u=i.current.props).onOpen)===null||c===void 0||c.call(u,l)}),a},[]);if(w.useEffect(()=>{const o=a=>{var l,u;(u=(l=i.current.props).onClose)===null||u===void 0||u.call(l,a)};return s.on("close",o),s.setDOMContent(r).addTo(e.getMap()),()=>{s.off("close",o),s.isOpen()&&s.remove()}},[]),w.useEffect(()=>{$i(s.getElement(),t.style)},[t.style]),s.isOpen()&&((s.getLngLat().lng!==t.longitude||s.getLngLat().lat!==t.latitude)&&s.setLngLat([t.longitude,t.latitude]),t.offset&&!cr(s.options.offset,t.offset)&&s.setOffset(t.offset),(s.options.anchor!==t.anchor||s.options.maxWidth!==t.maxWidth)&&(s.options.anchor=t.anchor,s.setMaxWidth(t.maxWidth)),s.options.className!==t.className)){const o=Mw(s.options.className),a=Mw(t.className);for(const l of o)a.has(l)||s.removeClassName(l);for(const l of a)o.has(l)||s.addClassName(l);s.options.className=t.className}return ua.createPortal(t.children,r)}w.memo(FB);function sl(t,e,n,r){const i=w.useContext(yh),s=w.useMemo(()=>t(i),[]);return w.useEffect(()=>{const o=r||n||e,a=typeof e=="function"&&typeof n=="function"?e:null,l=typeof n=="function"?n:typeof e=="function"?e:null,{map:u}=i;return u.hasControl(s)||(u.addControl(s,o==null?void 0:o.position),a&&a(i)),()=>{l&&l(i),u.hasControl(s)&&u.removeControl(s)}},[]),s}function jB(t){const e=sl(({mapLib:n})=>new n.AttributionControl(t),{position:t.position});return w.useEffect(()=>{$i(e._container,t.style)},[t.style]),null}w.memo(jB);function VB(t){const e=sl(({mapLib:n})=>new n.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)}),{position:t.position});return w.useEffect(()=>{$i(e._controlContainer,t.style)},[t.style]),null}w.memo(VB);const mk=w.forwardRef((t,e)=>{const n=w.useRef({props:t}),r=sl(({mapLib:i})=>{const s=new i.GeolocateControl(t),o=s._setupUI;return s._setupUI=a=>{s._container.hasChildNodes()||o(a)},s.on("geolocate",a=>{var l,u;(u=(l=n.current.props).onGeolocate)===null||u===void 0||u.call(l,a)}),s.on("error",a=>{var l,u;(u=(l=n.current.props).onError)===null||u===void 0||u.call(l,a)}),s.on("outofmaxbounds",a=>{var l,u;(u=(l=n.current.props).onOutOfMaxBounds)===null||u===void 0||u.call(l,a)}),s.on("trackuserlocationstart",a=>{var l,u;(u=(l=n.current.props).onTrackUserLocationStart)===null||u===void 0||u.call(l,a)}),s.on("trackuserlocationend",a=>{var l,u;(u=(l=n.current.props).onTrackUserLocationEnd)===null||u===void 0||u.call(l,a)}),s},{position:t.position});return n.current.props=t,w.useImperativeHandle(e,()=>({trigger:()=>r.trigger()}),[]),w.useEffect(()=>{$i(r._container,t.style)},[t.style]),null});mk.displayName="GeolocateControl";w.memo(mk);function UB(t){const e=sl(({mapLib:n})=>new n.NavigationControl(t),{position:t.position});return w.useEffect(()=>{$i(e._container,t.style)},[t.style]),null}w.memo(UB);const BB={unit:"metric",maxWidth:100};function gk(t){const e=sl(({mapLib:n})=>new n.ScaleControl(t),{position:t.position});return(e.options.unit!==t.unit||e.options.maxWidth!==t.maxWidth)&&(e.options.maxWidth=t.maxWidth,e.setUnit(t.unit)),w.useEffect(()=>{$i(e._container,t.style)},[t.style]),null}gk.defaultProps=BB;w.memo(gk);const zB=({setCurrentSubpage:t,address:e})=>T.jsxs(T.Fragment,{children:[T.jsx(lI,{address:e,cancel:()=>t(1,null,!1)}),T.jsx("div",{className:"grid place-items-center",children:T.jsx("div",{className:"text-primary-500 pb-16",onClick:()=>t(2,null,!1),children:"cancel"})})]}),HB="pk.eyJ1IjoiZGFtaWFuYW1vZGVvIiwiYSI6ImNqeWxnb3lsejA4OXozYmxpajhzMXdvZjQifQ.OJBOK5ZvGEX2VaScbW_zUQ",WB=({addresses:t,setCurrentSubpage:e})=>{const n=t||{},[r,i]=w.useState({latitude:-32.7707,longitude:151.571001,width:"100vw",height:"100vh",zoom:12}),s=w.useRef(null),o=Object.entries(n).map(h=>({type:"Feature",properties:{cluster:!1,address:h,addressID:h[1].id,houseNumber:h[1].houseNumber},geometry:{type:"Point",coordinates:[h[1].lng,h[1].lat]}})),a=s.current?s.current.getMap().getBounds().toArray().flat():null,{clusters:l,supercluster:u}=mU({points:o,zoom:r.zoom,bounds:a,options:{radius:75,maxZoom:16,minPoints:2}}),c=w.useCallback(({longitude:h,latitude:d,zoom:f})=>{var m;(m=s.current)==null||m.flyTo({center:[h,d],duration:2e3,zoom:f})},[]);return T.jsx(Og,{reuseMaps:!0,initialViewState:{latitude:-32.7707,longitude:151.571001,zoom:11},onMoveEnd:h=>{i({...r,...h.viewState})},style:{width:"100%",height:"100%"},mapStyle:"mapbox://styles/mapbox/streets-v9",mapboxAccessToken:HB,ref:s,children:l.map((h,d)=>{const[f,m]=h.geometry.coordinates,{cluster:v,point_count:S,address:g}=h.properties;return v?T.jsx(Dw,{latitude:m,longitude:f,children:T.jsx("div",{className:"bg-success-500 text-xl grid place-items-center text-center align-middle rounded-full ",style:{width:`${20+S/o.length*70}px`,height:`${20+S/o.length*70}px`},onClick:()=>{const p=Math.min(u.getClusterExpansionZoom(h.id),20);i({...r,latitude:m,longitude:f,zoom:p}),c({longitude:f,latitude:m,zoom:p+.5})},children:S})},d):T.jsx(Dw,{latitude:m,longitude:f,onClick:()=>{e(1,null,!0,T.jsx(zB,{address:g,setCurrentSubpage:e}))},children:T.jsx("div",{className:"bg-error-500 p-1 rounded-full",children:g[1].houseNumber})},d)})})},GB=({setCurrentSubpage:t})=>T.jsx(Tc,{headerLeft:T.jsxs("div",{className:"flex content-center",onClick:()=>{t(0,-1,null,null)},children:[T.jsx(cI,{className:"text-[1.7rem]"})," Home"]}),title:"Record",headerRight:""}),KB=({setCurrentSubpage:t})=>{const[e,n]=w.useState(!1),[r,i]=w.useState(()=>{});return w.useEffect(()=>PC(Ya(el,"notAtHomes","MaitlandCongregation"),o=>{i(()=>o.data()),n(!0)}),[]),T.jsx(wc,{children:T.jsx(uI,{carouselItems:[{title:"Map",content:e?T.jsx(WB,{addresses:r,setCurrentSubpage:t}):T.jsx("div",{})}]})})},qB={headerComponent:GB,contentComponent:KB},QB=[yb,nU,qB],Lw=({icon:t,active:e,label:n})=>T.jsxs("div",{className:`${e?"text-secondary-500 dark:text-secondary-200":null} flex flex-col landscape:flex-row landscape:justify-center `,children:[T.jsx("div",{className:"mx-auto landscape:mx-0",children:t}),T.jsx("div",{className:" landscape:w-2"}),T.jsx("div",{className:"my-auto landscape:mx-0 text-[0.65rem]",children:n})]}),YB=({action:t,navbarItems:e,currentPage:n})=>T.jsx("ul",{className:"bg-lightGrey-300 dark:bg-darkGrey-700 h-16d landscape:h-min-xx flex",children:e==null?void 0:e.map((r,i)=>T.jsx("li",{className:`${n===i?"text-secondary-500 dark:text-secondary-200":null} flex-auto h-[3.1rem] 
							grid place-items-center 
							landscape:h-12 
							xl:hover:bg-lightGrey-400 xl:hover:text-secondary-500 
							dark:xl:hover:bg-grey-700 dark:xl:hover:text-secondary-200 
							`,onClick:()=>{t(i)},children:n===i?T.jsx(T.Fragment,{children:T.jsx(Lw,{icon:e[i].icon,label:e[i].label,active:!0})}):T.jsx(T.Fragment,{children:T.jsx(Lw,{icon:e[i].icon,label:e[i].label})})},i))}),XB=({children:t})=>T.jsx("div",{className:`
        fixed top-0 left-0 w-screen z-50 h-screen backdrop-blur-sm backdrop-brightness-75 py-16 px-4
        `,children:T.jsx("div",{className:`
          bg-white m-auto rounded-xl 
          h-full w-full overflow-auto drop-shadow-lg
          border-[.5px] border-grey-200 
          dark:bg-darkGrey-700 dark:border-darkGrey-300 
          `,children:t})}),ky=w.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Dh=w.createContext({});function ZB(){return w.useContext(Dh).visualElement}const ol=w.createContext(null),Mh=typeof document<"u",oc=Mh?w.useLayoutEffect:w.useEffect,yk=w.createContext({strict:!1});function JB(t,e,n,r){const i=ZB(),s=w.useContext(yk),o=w.useContext(ol),a=w.useContext(ky).reducedMotion,l=w.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceId:o?o.id:void 0,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return oc(()=>{u&&u.render()}),(window.HandoffAppearAnimations?oc:w.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function rs(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ez(t,e,n){return w.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):rs(n)&&(n.current=r))},[e])}function ka(t){return typeof t=="string"||Array.isArray(t)}function Lh(t){return typeof t=="object"&&typeof t.start=="function"}const tz=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function Oh(t){return Lh(t.animate)||tz.some(e=>ka(t[e]))}function vk(t){return Boolean(Oh(t)||t.variants)}function nz(t,e){if(Oh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ka(n)?n:void 0,animate:ka(r)?r:void 0}}return t.inherit!==!1?e:{}}function rz(t){const{initial:e,animate:n}=nz(t,w.useContext(Dh));return w.useMemo(()=>({initial:e,animate:n}),[Ow(e),Ow(n)])}function Ow(t){return Array.isArray(t)?t.join(" "):t}const bn=t=>({isEnabled:e=>t.some(n=>!!e[n])}),Aa={measureLayout:bn(["layout","layoutId","drag"]),animation:bn(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:bn(["exit"]),drag:bn(["drag","dragControls"]),focus:bn(["whileFocus"]),hover:bn(["whileHover","onHoverStart","onHoverEnd"]),tap:bn(["whileTap","onTap","onTapStart","onTapCancel"]),pan:bn(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:bn(["whileInView","onViewportEnter","onViewportLeave"])};function iz(t){for(const e in t)e==="projectionNodeConstructor"?Aa.projectionNodeConstructor=t[e]:Aa[e].Component=t[e]}function $h(t){const e=w.useRef(null);return e.current===null&&(e.current=t()),e.current}const $o={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let sz=1;function oz(){return $h(()=>{if($o.hasEverUpdated)return sz++})}const Ay=w.createContext({});class az extends Fs.Component{getSnapshotBeforeUpdate(){const{visualElement:e,props:n}=this.props;return e&&e.setProps(n),null}componentDidUpdate(){}render(){return this.props.children}}const wk=w.createContext({}),lz=Symbol.for("motionComponentSymbol");function uz({preloadedFeatures:t,createVisualElement:e,projectionNodeConstructor:n,useRender:r,useVisualState:i,Component:s}){t&&iz(t);function o(l,u){const c={...w.useContext(ky),...l,layoutId:cz(l)},{isStatic:h}=c;let d=null;const f=rz(l),m=h?void 0:oz(),v=i(l,h);if(!h&&Mh){f.visualElement=JB(s,v,c,e);const S=w.useContext(yk).strict,g=w.useContext(wk);f.visualElement&&(d=f.visualElement.loadFeatures(c,S,t,m,n||Aa.projectionNodeConstructor,g))}return w.createElement(az,{visualElement:f.visualElement,props:c},d,w.createElement(Dh.Provider,{value:f},r(s,l,m,ez(v,f.visualElement,u),v,h,f.visualElement)))}const a=w.forwardRef(o);return a[lz]=s,a}function cz({layoutId:t}){const e=w.useContext(Ay).id;return e&&t!==void 0?e+"-"+t:t}function hz(t){function e(r,i={}){return uz(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const dz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function by(t){return typeof t!="string"||t.includes("-")?!1:!!(dz.indexOf(t)>-1||/[A-Z]/.test(t))}const ac={};function fz(t){Object.assign(ac,t)}const lc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ks=new Set(lc);function Tk(t,{layout:e,layoutId:n}){return Ks.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ac[t]||t==="opacity")}const xt=t=>!!(t!=null&&t.getVelocity),pz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mz=(t,e)=>lc.indexOf(t)-lc.indexOf(e);function gz({transform:t,transformKeys:e},{enableHardwareAcceleration:n=!0,allowTransformNone:r=!0},i,s){let o="";e.sort(mz);for(const a of e)o+=`${pz[a]||a}(${t[a]}) `;return n&&!t.z&&(o+="translateZ(0)"),o=o.trim(),s?o=s(t,i?"":o):r&&i&&(o="none"),o}function Ek(t){return t.startsWith("--")}const yz=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ls=(t,e,n)=>Math.min(Math.max(n,t),e),Fi={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fo={...Fi,transform:t=>Ls(0,1,t)},Ll={...Fi,default:1},jo=t=>Math.round(t*1e5)/1e5,ba=/(-)?([\d]*\.?[\d])+/g,zp=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,vz=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function al(t){return typeof t=="string"}const ll=t=>({test:e=>al(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),nr=ll("deg"),_n=ll("%"),U=ll("px"),wz=ll("vh"),Tz=ll("vw"),$w={..._n,parse:t=>_n.parse(t)/100,transform:t=>_n.transform(t*100)},Fw={...Fi,transform:Math.round},Sk={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,size:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,rotate:nr,rotateX:nr,rotateY:nr,rotateZ:nr,scale:Ll,scaleX:Ll,scaleY:Ll,scaleZ:Ll,skew:nr,skewX:nr,skewY:nr,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:Fo,originX:$w,originY:$w,originZ:U,zIndex:Fw,fillOpacity:Fo,strokeOpacity:Fo,numOctaves:Fw};function Ry(t,e,n,r){const{style:i,vars:s,transform:o,transformKeys:a,transformOrigin:l}=t;a.length=0;let u=!1,c=!1,h=!0;for(const d in e){const f=e[d];if(Ek(d)){s[d]=f;continue}const m=Sk[d],v=yz(f,m);if(Ks.has(d)){if(u=!0,o[d]=v,a.push(d),!h)continue;f!==(m.default||0)&&(h=!1)}else d.startsWith("origin")?(c=!0,l[d]=v):i[d]=v}if(e.transform||(u||r?i.transform=gz(t,n,h,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:m=0}=l;i.transformOrigin=`${d} ${f} ${m}`}}const Py=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function _k(t,e,n){for(const r in e)!xt(e[r])&&!Tk(r,n)&&(t[r]=e[r])}function Ez({transformTemplate:t},e,n){return w.useMemo(()=>{const r=Py();return Ry(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function Sz(t,e,n){const r=t.style||{},i={};return _k(i,r,t),Object.assign(i,Ez(t,e,n)),t.transformValues?t.transformValues(i):i}function _z(t,e,n){const r={},i=Sz(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),r.style=i,r}const Cz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","viewport"]);function uc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||Cz.has(t)}let Ck=t=>!uc(t);function Iz(t){t&&(Ck=e=>e.startsWith("on")?!uc(e):t(e))}try{Iz(require("@emotion/is-prop-valid").default)}catch{}function xz(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Ck(i)||n===!0&&uc(i)||!e&&!uc(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function jw(t,e,n){return typeof t=="string"?t:U.transform(e+n*t)}function kz(t,e,n){const r=jw(e,t.x,t.width),i=jw(n,t.y,t.height);return`${r} ${i}`}const Az={offset:"stroke-dashoffset",array:"stroke-dasharray"},bz={offset:"strokeDashoffset",array:"strokeDasharray"};function Rz(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Az:bz;t[s.offset]=U.transform(-r);const o=U.transform(e),a=U.transform(n);t[s.array]=`${o} ${a}`}function Ny(t,{attrX:e,attrY:n,originX:r,originY:i,pathLength:s,pathSpacing:o=1,pathOffset:a=0,...l},u,c,h){if(Ry(t,l,u,h),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f,dimensions:m}=t;d.transform&&(m&&(f.transform=d.transform),delete d.transform),m&&(r!==void 0||i!==void 0||f.transform)&&(f.transformOrigin=kz(m,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),s!==void 0&&Rz(d,s,o,a,!1)}const Ik=()=>({...Py(),attrs:{}}),Dy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Pz(t,e,n,r){const i=w.useMemo(()=>{const s=Ik();return Ny(s,e,{enableHardwareAcceleration:!1},Dy(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};_k(s,t.style,t),i.style={...s,...i.style}}return i}function Nz(t=!1){return(n,r,i,s,{latestValues:o},a)=>{const u=(by(n)?Pz:_z)(r,o,a,n),h={...xz(r,typeof n=="string",t),...u,ref:s},{children:d}=r,f=w.useMemo(()=>xt(d)?d.get():d,[d]);return i&&(h["data-projection-id"]=i),w.createElement(n,{...h,children:f})}}const My=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function xk(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const kk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ak(t,e,n,r){xk(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(kk.has(i)?i:My(i),e.attrs[i])}function Ly(t,e){const{style:n}=t,r={};for(const i in n)(xt(n[i])||e.style&&xt(e.style[i])||Tk(i,t))&&(r[i]=n[i]);return r}function bk(t,e){const n=Ly(t,e);for(const r in t)if(xt(t[r])||xt(e[r])){const i=r==="x"||r==="y"?"attr"+r.toUpperCase():r;n[i]=t[r]}return n}function Oy(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}const cc=t=>Array.isArray(t),Dz=t=>Boolean(t&&typeof t=="object"&&t.mix&&t.toValue),Mz=t=>cc(t)?t[t.length-1]||0:t;function au(t){const e=xt(t)?t.get():t;return Dz(e)?e.toValue():e}function Lz({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:Oz(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const Rk=t=>(e,n)=>{const r=w.useContext(Dh),i=w.useContext(ol),s=()=>Lz(t,e,r,i);return n?s():$h(s)};function Oz(t,e,n,r){const i={},s=r(t,{});for(const d in s)i[d]=au(s[d]);let{initial:o,animate:a}=t;const l=Oh(t),u=vk(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;return h&&typeof h!="boolean"&&!Lh(h)&&(Array.isArray(h)?h:[h]).forEach(f=>{const m=Oy(t,f);if(!m)return;const{transitionEnd:v,transition:S,...g}=m;for(const p in g){let y=g[p];if(Array.isArray(y)){const E=c?y.length-1:0;y=y[E]}y!==null&&(i[p]=y)}for(const p in v)i[p]=v[p]}),i}const $z={useVisualState:Rk({scrapeMotionValuesFromProps:bk,createRenderState:Ik,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}Ny(n,r,{enableHardwareAcceleration:!1},Dy(e.tagName),t.transformTemplate),Ak(e,n)}})},Fz={useVisualState:Rk({scrapeMotionValuesFromProps:Ly,createRenderState:Py})};function jz(t,{forwardMotionProps:e=!1},n,r,i){return{...by(t)?$z:Fz,preloadedFeatures:n,useRender:Nz(e),createVisualElement:r,projectionNodeConstructor:i,Component:t}}var ue;(function(t){t.Animate="animate",t.Hover="whileHover",t.Tap="whileTap",t.Drag="whileDrag",t.Focus="whileFocus",t.InView="whileInView",t.Exit="exit"})(ue||(ue={}));function Fh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Hp(t,e,n,r){w.useEffect(()=>{const i=t.current;if(n&&i)return Fh(i,e,n,r)},[t,e,n,r])}function Vz({whileFocus:t,visualElement:e}){const{animationState:n}=e,r=w.useCallback(()=>{n&&n.setActive(ue.Focus,!0)},[n]),i=w.useCallback(()=>{n&&n.setActive(ue.Focus,!1)},[n]);Hp(e,"focus",t?r:void 0),Hp(e,"blur",t?i:void 0)}const Pk=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function $y(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Nk=t=>e=>Pk(e)&&t(e,$y(e));function ys(t,e,n,r){return Fh(t,e,Nk(n),r)}function hc(t,e,n,r){return Hp(t,e,n&&Nk(n),r)}function Dk(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Vw=Dk("dragHorizontal"),Uw=Dk("dragVertical");function Mk(t){let e=!1;if(t==="y")e=Uw();else if(t==="x")e=Vw();else{const n=Vw(),r=Uw();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Lk(){const t=Mk(!0);return t?(t(),!1):!0}function Bw(t,e,n,r){return(i,s)=>{i.type==="touch"||Lk()||(n&&t.animationState&&t.animationState.setActive(ue.Hover,e),r&&r(i,s))}}function Uz({onHoverStart:t,onHoverEnd:e,whileHover:n,visualElement:r}){hc(r,"pointerenter",w.useMemo(()=>t||n?Bw(r,!0,Boolean(n),t):void 0,[t,Boolean(n),r]),{passive:!t}),hc(r,"pointerleave",w.useMemo(()=>e||n?Bw(r,!1,Boolean(n),e):void 0,[t,Boolean(n),r]),{passive:!e})}const Ok=(t,e)=>e?t===e?!0:Ok(t,e.parentElement):!1;function Fy(t){return w.useEffect(()=>()=>t(),[])}const Bz=(t,e)=>n=>e(t(n)),jh=(...t)=>t.reduce(Bz);function zz({onTap:t,onTapStart:e,onTapCancel:n,whileTap:r,visualElement:i,...s}){const o=t||e||n||r,a=w.useRef(!1),l=w.useRef(null),u={passive:!(e||t||n||s.onPointerDown)};function c(){l.current&&l.current(),l.current=null}function h(){return c(),a.current=!1,i.getProps().whileTap&&i.animationState&&i.animationState.setActive(ue.Tap,!1),!Lk()}function d(v,S){var g,p,y,E;h()&&(Ok(i.current,v.target)?(E=(y=i.getProps()).onTap)===null||E===void 0||E.call(y,v,S):(p=(g=i.getProps()).onTapCancel)===null||p===void 0||p.call(g,v,S))}function f(v,S){var g,p;h()&&((p=(g=i.getProps()).onTapCancel)===null||p===void 0||p.call(g,v,S))}const m=w.useCallback((v,S)=>{var g;if(c(),a.current)return;a.current=!0,l.current=jh(ys(window,"pointerup",d,u),ys(window,"pointercancel",f,u));const p=i.getProps();p.whileTap&&i.animationState&&i.animationState.setActive(ue.Tap,!0),(g=p.onTapStart)===null||g===void 0||g.call(p,v,S)},[Boolean(e),i]);hc(i,"pointerdown",o?m:void 0,u),Fy(c)}const Wp=new WeakMap,qd=new WeakMap,Hz=t=>{const e=Wp.get(t.target);e&&e(t)},Wz=t=>{t.forEach(Hz)};function Gz({root:t,...e}){const n=t||document;qd.has(n)||qd.set(n,{});const r=qd.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Wz,{root:t,...e})),r[i]}function Kz(t,e,n){const r=Gz(e);return Wp.set(t,n),r.observe(t),()=>{Wp.delete(t),r.unobserve(t)}}function qz({visualElement:t,whileInView:e,onViewportEnter:n,onViewportLeave:r,viewport:i={}}){const s=w.useRef({hasEnteredView:!1,isInView:!1});let o=Boolean(e||n||r);i.once&&s.current.hasEnteredView&&(o=!1),(typeof IntersectionObserver>"u"?Xz:Yz)(o,s.current,t,i)}const Qz={some:0,all:1};function Yz(t,e,n,{root:r,margin:i,amount:s="some",once:o}){w.useEffect(()=>{if(!t||!n.current)return;const a={root:r==null?void 0:r.current,rootMargin:i,threshold:typeof s=="number"?s:Qz[s]},l=u=>{const{isIntersecting:c}=u;if(e.isInView===c||(e.isInView=c,o&&!c&&e.hasEnteredView))return;c&&(e.hasEnteredView=!0),n.animationState&&n.animationState.setActive(ue.InView,c);const h=n.getProps(),d=c?h.onViewportEnter:h.onViewportLeave;d&&d(u)};return Kz(n.current,a,l)},[t,r,i,s])}function Xz(t,e,n,{fallback:r=!0}){w.useEffect(()=>{!t||!r||requestAnimationFrame(()=>{e.hasEnteredView=!0;const{onViewportEnter:i}=n.getProps();i&&i(null),n.animationState&&n.animationState.setActive(ue.InView,!0)})},[t])}const gr=t=>e=>(t(e),null),Zz={inView:gr(qz),tap:gr(zz),focus:gr(Vz),hover:gr(Uz)};function $k(){const t=w.useContext(ol);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=w.useId();return w.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function Fk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Jz=t=>/^\-?\d*\.?\d+$/.test(t),e8=t=>/^0[^.\s]+$/.test(t),Vn={delta:0,timestamp:0},jk=1/60*1e3,t8=typeof performance<"u"?()=>performance.now():()=>Date.now(),Vk=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(t8()),jk);function n8(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&i,d=h?e:n;return u&&o.add(l),d.indexOf(l)===-1&&(d.push(l),h&&i&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const c=e[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const r8=40;let Gp=!0,Ra=!1,Kp=!1;const ul=["read","update","preRender","render","postRender"],Vh=ul.reduce((t,e)=>(t[e]=n8(()=>Ra=!0),t),{}),lt=ul.reduce((t,e)=>{const n=Vh[e];return t[e]=(r,i=!1,s=!1)=>(Ra||s8(),n.schedule(r,i,s)),t},{}),Lr=ul.reduce((t,e)=>(t[e]=Vh[e].cancel,t),{}),Qd=ul.reduce((t,e)=>(t[e]=()=>Vh[e].process(Vn),t),{}),i8=t=>Vh[t].process(Vn),Uk=t=>{Ra=!1,Vn.delta=Gp?jk:Math.max(Math.min(t-Vn.timestamp,r8),1),Vn.timestamp=t,Kp=!0,ul.forEach(i8),Kp=!1,Ra&&(Gp=!1,Vk(Uk))},s8=()=>{Ra=!0,Gp=!0,Kp||Vk(Uk)};function jy(t,e){t.indexOf(e)===-1&&t.push(e)}function Vy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Uy{constructor(){this.subscriptions=[]}add(e){return jy(this.subscriptions,e),()=>Vy(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function By(t,e){return e?t*(1e3/e):0}const o8=t=>!isNaN(parseFloat(t));class a8{constructor(e,n={}){this.version="8.5.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Vn;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,lt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>lt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=o8(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Uy);const r=this.events[e].add(n);return e==="change"?()=>{r(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?By(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Os(t,e){return new a8(t,e)}const zy=(t,e)=>n=>Boolean(al(n)&&vz.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),Bk=(t,e,n)=>r=>{if(!al(r))return r;const[i,s,o,a]=r.match(ba);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},l8=t=>Ls(0,255,t),Yd={...Fi,transform:t=>Math.round(l8(t))},oi={test:zy("rgb","red"),parse:Bk("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Yd.transform(t)+", "+Yd.transform(e)+", "+Yd.transform(n)+", "+jo(Fo.transform(r))+")"};function u8(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const qp={test:zy("#"),parse:u8,transform:oi.transform},is={test:zy("hsl","hue"),parse:Bk("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+_n.transform(jo(e))+", "+_n.transform(jo(n))+", "+jo(Fo.transform(r))+")"},ft={test:t=>oi.test(t)||qp.test(t)||is.test(t),parse:t=>oi.test(t)?oi.parse(t):is.test(t)?is.parse(t):qp.parse(t),transform:t=>al(t)?t:t.hasOwnProperty("red")?oi.transform(t):is.transform(t)},zk="${c}",Hk="${n}";function c8(t){var e,n;return isNaN(t)&&al(t)&&(((e=t.match(ba))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(zp))===null||n===void 0?void 0:n.length)||0)>0}function dc(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0,r=0;const i=t.match(zp);i&&(n=i.length,t=t.replace(zp,zk),e.push(...i.map(ft.parse)));const s=t.match(ba);return s&&(r=s.length,t=t.replace(ba,Hk),e.push(...s.map(Fi.parse))),{values:e,numColors:n,numNumbers:r,tokenised:t}}function Wk(t){return dc(t).values}function Gk(t){const{values:e,numColors:n,tokenised:r}=dc(t),i=e.length;return s=>{let o=r;for(let a=0;a<i;a++)o=o.replace(a<n?zk:Hk,a<n?ft.transform(s[a]):jo(s[a]));return o}}const h8=t=>typeof t=="number"?0:t;function d8(t){const e=Wk(t);return Gk(t)(e.map(h8))}const Or={test:c8,parse:Wk,createTransformer:Gk,getAnimatableNone:d8},f8=new Set(["brightness","contrast","saturate","opacity"]);function p8(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ba)||[];if(!r)return t;const i=n.replace(r,"");let s=f8.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const m8=/([a-z-]*)\(.*?\)/g,Qp={...Or,getAnimatableNone:t=>{const e=t.match(m8);return e?e.map(p8).join(" "):t}},g8={...Sk,color:ft,backgroundColor:ft,outlineColor:ft,fill:ft,stroke:ft,borderColor:ft,borderTopColor:ft,borderRightColor:ft,borderBottomColor:ft,borderLeftColor:ft,filter:Qp,WebkitFilter:Qp},Hy=t=>g8[t];function Wy(t,e){var n;let r=Hy(t);return r!==Qp&&(r=Or),(n=r.getAnimatableNone)===null||n===void 0?void 0:n.call(r,e)}const Kk=t=>e=>e.test(t),y8={test:t=>t==="auto",parse:t=>t},qk=[Fi,U,_n,nr,Tz,wz,y8],so=t=>qk.find(Kk(t)),v8=[...qk,ft,Or],w8=t=>v8.find(Kk(t));function T8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function E8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Uh(t,e,n){const r=t.getProps();return Oy(r,e,n!==void 0?n:r.custom,T8(t),E8(t))}function S8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Os(n))}function _8(t,e){const n=Uh(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=Mz(s[o]);S8(t,o,a)}}function C8(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(Jz(c)||e8(c))?c=parseFloat(c):!w8(c)&&Or.test(u)&&(c=Wy(l,u)),t.addValue(l,Os(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function I8(t,e){return e?(e[t]||e.default||e).from:void 0}function x8(t,e,n){var r;const i={};for(const s in t){const o=I8(s,e);i[s]=o!==void 0?o:(r=n.getValue(s))===null||r===void 0?void 0:r.get()}return i}function fc(t){return Boolean(xt(t)&&t.add)}const k8="framerAppearId",A8="data-"+My(k8);var b8=function(){},pc=function(){};const lu=t=>t*1e3,R8={current:!1},Gy=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ky=t=>e=>1-t(1-e),qy=t=>t*t,P8=Ky(qy),Qy=Gy(qy),ke=(t,e,n)=>-n*t+n*e+t;function Xd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function N8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Xd(l,a,t+1/3),s=Xd(l,a,t),o=Xd(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Zd=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},D8=[qp,oi,is],M8=t=>D8.find(e=>e.test(t));function zw(t){const e=M8(t);let n=e.parse(t);return e===is&&(n=N8(n)),n}const Qk=(t,e)=>{const n=zw(t),r=zw(e),i={...n};return s=>(i.red=Zd(n.red,r.red,s),i.green=Zd(n.green,r.green,s),i.blue=Zd(n.blue,r.blue,s),i.alpha=ke(n.alpha,r.alpha,s),oi.transform(i))};function Yk(t,e){return typeof t=="number"?n=>ke(t,e,n):ft.test(t)?Qk(t,e):Zk(t,e)}const Xk=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>Yk(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},L8=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Yk(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},Zk=(t,e)=>{const n=Or.createTransformer(e),r=dc(t),i=dc(e);return r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?jh(Xk(r.values,i.values),n):o=>`${o>0?e:t}`},mc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Hw=(t,e)=>n=>ke(t,e,n);function O8(t){return typeof t=="number"?Hw:typeof t=="string"?ft.test(t)?Qk:Zk:Array.isArray(t)?Xk:typeof t=="object"?L8:Hw}function $8(t,e,n){const r=[],i=n||O8(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=jh(l,a)}r.push(a)}return r}function Jk(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;pc(s===e.length),pc(!r||!Array.isArray(r)||r.length===s-1),t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=$8(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const h=mc(t[c],t[c+1],u);return o[c](h)};return n?u=>l(Ls(t[0],t[s-1],u)):l}const Yy=t=>t,eA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,F8=1e-7,j8=12;function V8(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=eA(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>F8&&++a<j8);return o}function tA(t,e,n,r){if(t===e&&n===r)return Yy;const i=s=>V8(s,0,1,t,n);return s=>s===0||s===1?s:eA(i(s),e,r)}const nA=t=>1-Math.sin(Math.acos(t)),Xy=Ky(nA),U8=Gy(Xy),rA=tA(.33,1.53,.69,.99),Zy=Ky(rA),B8=Gy(Zy),z8=t=>(t*=2)<1?.5*Zy(t):.5*(2-Math.pow(2,-10*(t-1))),H8={linear:Yy,easeIn:qy,easeInOut:Qy,easeOut:P8,circIn:nA,circInOut:U8,circOut:Xy,backIn:Zy,backInOut:B8,backOut:rA,anticipate:z8},Ww=t=>{if(Array.isArray(t)){pc(t.length===4);const[e,n,r,i]=t;return tA(e,n,r,i)}else if(typeof t=="string")return H8[t];return t},W8=t=>Array.isArray(t)&&typeof t[0]!="number";function G8(t,e){return t.map(()=>e||Qy).splice(0,t.length-1)}function K8(t){const e=t.length;return t.map((n,r)=>r!==0?r/(e-1):0)}function q8(t,e){return t.map(n=>n*e)}function Yp({keyframes:t,ease:e=Qy,times:n,duration:r=300}){t=[...t];const i=W8(e)?e.map(Ww):Ww(e),s={done:!1,value:t[0]},o=q8(n&&n.length===t.length?n:K8(t),r);function a(){return Jk(o,t,{ease:Array.isArray(i)?i:G8(t,i)})}let l=a();return{next:u=>(s.value=l(u),s.done=u>=r,s),flipTarget:()=>{t.reverse(),l=a()}}}const Jd=.001,Q8=.01,Gw=10,Y8=.05,X8=1;function Z8({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;b8(t<=Gw*1e3);let o=1-e;o=Ls(Y8,X8,o),t=Ls(Q8,Gw,t/1e3),o<1?(i=u=>{const c=u*o,h=c*t,d=c-n,f=Xp(u,o),m=Math.exp(-h);return Jd-d/f*m},s=u=>{const h=u*o*t,d=h*n+n,f=Math.pow(o,2)*Math.pow(u,2)*t,m=Math.exp(-h),v=Xp(Math.pow(u,2),o);return(-i(u)+Jd>0?-1:1)*((d-f)*m)/v}):(i=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-Jd+c*h},s=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=e5(i,s,a);if(t=t*1e3,isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const J8=12;function e5(t,e,n){let r=n;for(let i=1;i<J8;i++)r=r-t(r)/e(r);return r}function Xp(t,e){return t*Math.sqrt(1-e*e)}const t5=["duration","bounce"],n5=["stiffness","damping","mass"];function Kw(t,e){return e.some(n=>t[n]!==void 0)}function r5(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Kw(t,n5)&&Kw(t,t5)){const n=Z8(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}const i5=5;function iA({keyframes:t,restDelta:e,restSpeed:n,...r}){let i=t[0],s=t[t.length-1];const o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:d}=r5(r);let f=s5,m=c?-(c/1e3):0;const v=l/(2*Math.sqrt(a*u));function S(){const g=s-i,p=Math.sqrt(a/u)/1e3,y=Math.abs(g)<5;if(n||(n=y?.01:2),e||(e=y?.005:.5),v<1){const E=Xp(p,v);f=C=>{const I=Math.exp(-v*p*C);return s-I*((m+v*p*g)/E*Math.sin(E*C)+g*Math.cos(E*C))}}else if(v===1)f=E=>s-Math.exp(-p*E)*(g+(m+p*g)*E);else{const E=p*Math.sqrt(v*v-1);f=C=>{const I=Math.exp(-v*p*C),b=Math.min(E*C,300);return s-I*((m+v*p*g)*Math.sinh(b)+E*g*Math.cosh(b))/E}}}return S(),{next:g=>{const p=f(g);if(d)o.done=g>=h;else{let y=m;if(g!==0)if(v<1){const I=Math.max(0,g-i5);y=By(p-f(I),g-I)}else y=0;const E=Math.abs(y)<=n,C=Math.abs(s-p)<=e;o.done=E&&C}return o.value=o.done?s:p,o},flipTarget:()=>{m=-m,[i,s]=[s,i],S()}}}iA.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const s5=t=>0;function o5({keyframes:t=[0],velocity:e=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:s}){const o=t[0],a={done:!1,value:o};let l=n*e;const u=o+l,c=s===void 0?u:s(u);return c!==u&&(l=c-o),{next:h=>{const d=-l*Math.exp(-h/r);return a.done=!(d>i||d<-i),a.value=a.done?c:c+d,a},flipTarget:()=>{}}}const a5={decay:o5,keyframes:Yp,tween:Yp,spring:iA};function sA(t,e,n=0){return t-e-n}function l5(t,e=0,n=0,r=!0){return r?sA(e+-t,e,n):e-(t-e)+n}function u5(t,e,n,r){return r?t>=e+n:t<=-n}const c5=t=>{const e=({delta:n})=>t(n);return{start:()=>lt.update(e,!0),stop:()=>Lr.update(e)}};function gc({duration:t,driver:e=c5,elapsed:n=0,repeat:r=0,repeatType:i="loop",repeatDelay:s=0,keyframes:o,autoplay:a=!0,onPlay:l,onStop:u,onComplete:c,onRepeat:h,onUpdate:d,type:f="keyframes",...m}){var v,S;const g=n;let p,y=0,E=t,C=!1,I=!0,b;const R=a5[o.length>2?"keyframes":f]||Yp,Q=o[0],O=o[o.length-1];let X={done:!1,value:Q};!((S=(v=R).needsInterpolation)===null||S===void 0)&&S.call(v,Q,O)&&(b=Jk([0,100],[Q,O],{clamp:!1}),o=[0,100]);const Ke=R({...m,duration:t,keyframes:o});function $t(){y++,i==="reverse"?(I=y%2===0,n=l5(n,E,s,I)):(n=sA(n,E,s),i==="mirror"&&Ke.flipTarget()),C=!1,h&&h()}function ln(){p&&p.stop(),c&&c()}function ge(De){I||(De=-De),n+=De,C||(X=Ke.next(Math.max(0,n)),b&&(X.value=b(X.value)),C=I?X.done:n<=0),d&&d(X.value),C&&(y===0&&(E=E!==void 0?E:n),y<r?u5(n,E,s,I)&&$t():ln())}function Tt(){l&&l(),p=e(ge),p.start()}return a&&Tt(),{stop:()=>{u&&u(),p&&p.stop()},set currentTime(De){n=g,ge(De)},sample:De=>{n=g;const P=t&&typeof t=="number"?Math.max(t*.5,50):50;let V=0;for(ge(0);V<=De;){const B=De-V;ge(Math.min(B,P)),V+=P}return X}}}function h5(t){return!t||Array.isArray(t)||typeof t=="string"&&oA[t]}const go=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,oA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:go([0,.65,.55,1]),circOut:go([.55,0,1,.45]),backIn:go([.31,.01,.66,-.59]),backOut:go([.33,1.53,.69,.99])};function d5(t){if(t)return Array.isArray(t)?go(t):oA[t]}function f5(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){return t.animate({[e]:n,offset:l},{delay:r,duration:i,easing:d5(a),fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const qw={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},ef={},aA={};for(const t in qw)aA[t]=()=>(ef[t]===void 0&&(ef[t]=qw[t]()),ef[t]);function p5(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const m5=new Set(["opacity"]),Ol=10;function g5(t,e,{onUpdate:n,onComplete:r,...i}){if(!(aA.waapi()&&m5.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0))return!1;let{keyframes:o,duration:a=300,elapsed:l=0,ease:u}=i;if(i.type==="spring"||!h5(i.ease)){if(i.repeat===1/0)return;const h=gc({...i,elapsed:0});let d={done:!1,value:o[0]};const f=[];let m=0;for(;!d.done&&m<2e4;)d=h.sample(m),f.push(d.value),m+=Ol;o=f,a=m-Ol,u="linear"}const c=f5(t.owner.current,e,o,{...i,delay:-l,duration:a,ease:u});return c.onfinish=()=>{t.set(p5(o,i)),lt.update(()=>c.cancel()),r&&r()},{get currentTime(){return c.currentTime||0},set currentTime(h){c.currentTime=h},stop:()=>{const{currentTime:h}=c;if(h){const d=gc({...i,autoplay:!1});t.setWithVelocity(d.sample(h-Ol).value,d.sample(h).value,Ol)}lt.update(()=>c.cancel())}}}function lA(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Lr.read(r),t(s-e))};return lt.read(r,!0),()=>Lr.read(r)}function y5({keyframes:t,elapsed:e,onUpdate:n,onComplete:r}){const i=()=>{n&&n(t[t.length-1]),r&&r()};return e?{stop:lA(i,-e)}:i()}function v5({keyframes:t,velocity:e=0,min:n,max:r,power:i=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:u,driver:c,onUpdate:h,onComplete:d,onStop:f}){const m=t[0];let v;function S(E){return n!==void 0&&E<n||r!==void 0&&E>r}function g(E){return n===void 0?r:r===void 0||Math.abs(n-E)<Math.abs(r-E)?n:r}function p(E){v==null||v.stop(),v=gc({keyframes:[0,1],velocity:0,...E,driver:c,onUpdate:C=>{var I;h==null||h(C),(I=E.onUpdate)===null||I===void 0||I.call(E,C)},onComplete:d,onStop:f})}function y(E){p({type:"spring",stiffness:o,damping:a,restDelta:l,...E})}if(S(m))y({velocity:e,keyframes:[m,g(m)]});else{let E=i*e+m;typeof u<"u"&&(E=u(E));const C=g(E),I=C===n?-1:1;let b,R;const Q=O=>{b=R,R=O,e=By(O-b,Vn.delta),(I===1&&O>C||I===-1&&O<C)&&y({keyframes:[O,C],velocity:e})};p({type:"decay",keyframes:[m,0],velocity:e,timeConstant:s,power:i,restDelta:l,modifyTarget:u,onUpdate:S(E)?Q:void 0})}return{stop:()=>v==null?void 0:v.stop()}}const Gr=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),$l=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),tf=()=>({type:"keyframes",ease:"linear",duration:.3}),w5={type:"keyframes",duration:.8},Qw={x:Gr,y:Gr,z:Gr,rotate:Gr,rotateX:Gr,rotateY:Gr,rotateZ:Gr,scaleX:$l,scaleY:$l,scale:$l,opacity:tf,backgroundColor:tf,color:tf,default:$l},T5=(t,{keyframes:e})=>e.length>2?w5:(Qw[t]||Qw.default)(e[1]),Zp=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Or.test(e)&&!e.startsWith("url("));function E5({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function Yw(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function Xw(t){return typeof t=="number"?0:Wy("",t)}function uA(t,e){return t[e]||t.default||t}function S5(t,e,n,r){const i=Zp(e,n);let s=r.from!==void 0?r.from:t.get();return s==="none"&&i&&typeof n=="string"?s=Wy(e,n):Yw(s)&&typeof n=="string"?s=Xw(n):!Array.isArray(n)&&Yw(n)&&typeof s=="string"&&(n=Xw(s)),Array.isArray(n)?(n[0]===null&&(n[0]=s),n):[s,n]}const Jy=(t,e,n,r={})=>i=>{const s=uA(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-lu(o);const l=S5(e,t,n,s),u=l[0],c=l[l.length-1],h=Zp(t,u),d=Zp(t,c);let f={keyframes:l,velocity:e.getVelocity(),...s,elapsed:a,onUpdate:S=>{e.set(S),s.onUpdate&&s.onUpdate(S)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(!h||!d||R8.current||s.type===!1)return y5(f);if(s.type==="inertia")return v5(f);E5(s)||(f={...f,...T5(t,f)}),f.duration&&(f.duration=lu(f.duration)),f.repeatDelay&&(f.repeatDelay=lu(f.repeatDelay));const m=e.owner,v=m&&m.current;if(m&&v instanceof HTMLElement&&!(m!=null&&m.getProps().onUpdate)){const S=g5(e,t,f);if(S)return S}return gc(f)};function _5(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Jp(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Jp(t,e,n);else{const i=typeof e=="function"?Uh(t,e,n.custom):e;r=cA(t,i,n)}return r.then(()=>t.notify("AnimationComplete",e))}function Jp(t,e,n={}){var r;const i=Uh(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>cA(t,i,n):()=>Promise.resolve(),a=!((r=t.variantChildren)===null||r===void 0)&&r.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=s;return C5(t,e,c+u,h,d,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[o,a]:[a,o];return u().then(c)}else return Promise.all([o(),a(n.delay)])}function cA(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");r&&(o=r);const c=[],h=i&&((s=t.animationState)===null||s===void 0?void 0:s.getState()[i]);for(const d in l){const f=t.getValue(d),m=l[d];if(!f||m===void 0||h&&x5(h,d))continue;const v={delay:n,elapsed:0,...o};if(window.HandoffAppearAnimations&&!f.hasAnimated){const g=t.getProps()[A8];g&&(v.elapsed=window.HandoffAppearAnimations(g,d,f,lt))}let S=f.start(Jy(d,f,m,t.shouldReduceMotion&&Ks.has(d)?{type:!1}:v));fc(u)&&(u.add(d),S=S.then(()=>u.remove(d))),c.push(S)}return Promise.all(c).then(()=>{a&&_8(t,a)})}function C5(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(I5).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(Jp(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function I5(t,e){return t.sortNodePosition(e)}function x5({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}const ev=[ue.Animate,ue.InView,ue.Focus,ue.Hover,ue.Tap,ue.Drag,ue.Exit],k5=[...ev].reverse(),A5=ev.length;function b5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>_5(t,n,r)))}function R5(t){let e=b5(t);const n=N5();let r=!0;const i=(l,u)=>{const c=Uh(t,u);if(c){const{transition:h,transitionEnd:d,...f}=c;l={...l,...f,...d}}return l};function s(l){e=l(t)}function o(l,u){const c=t.getProps(),h=t.getVariantContext(!0)||{},d=[],f=new Set;let m={},v=1/0;for(let g=0;g<A5;g++){const p=k5[g],y=n[p],E=c[p]!==void 0?c[p]:h[p],C=ka(E),I=p===u?y.isActive:null;I===!1&&(v=g);let b=E===h[p]&&E!==c[p]&&C;if(b&&r&&t.manuallyAnimateOnMount&&(b=!1),y.protectedKeys={...m},!y.isActive&&I===null||!E&&!y.prevProp||Lh(E)||typeof E=="boolean")continue;const R=P5(y.prevProp,E);let Q=R||p===u&&y.isActive&&!b&&C||g>v&&C;const O=Array.isArray(E)?E:[E];let X=O.reduce(i,{});I===!1&&(X={});const{prevResolvedValues:Ke={}}=y,$t={...Ke,...X},ln=ge=>{Q=!0,f.delete(ge),y.needsAnimating[ge]=!0};for(const ge in $t){const Tt=X[ge],De=Ke[ge];m.hasOwnProperty(ge)||(Tt!==De?cc(Tt)&&cc(De)?!Fk(Tt,De)||R?ln(ge):y.protectedKeys[ge]=!0:Tt!==void 0?ln(ge):f.add(ge):Tt!==void 0&&f.has(ge)?ln(ge):y.protectedKeys[ge]=!0)}y.prevProp=E,y.prevResolvedValues=X,y.isActive&&(m={...m,...X}),r&&t.blockInitialAnimation&&(Q=!1),Q&&!b&&d.push(...O.map(ge=>({animation:ge,options:{type:p,...l}})))}if(f.size){const g={};f.forEach(p=>{const y=t.getBaseTarget(p);y!==void 0&&(g[p]=y)}),d.push({animation:g})}let S=Boolean(d.length);return r&&c.initial===!1&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(d):Promise.resolve()}function a(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const d=o(c,l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function P5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Fk(e,t):!1}function Kr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function N5(){return{[ue.Animate]:Kr(!0),[ue.InView]:Kr(),[ue.Hover]:Kr(),[ue.Tap]:Kr(),[ue.Drag]:Kr(),[ue.Focus]:Kr(),[ue.Exit]:Kr()}}const D5={animation:gr(({visualElement:t,animate:e})=>{t.animationState||(t.animationState=R5(t)),Lh(e)&&w.useEffect(()=>e.subscribe(t),[e])}),exit:gr(t=>{const{custom:e,visualElement:n}=t,[r,i]=$k(),s=w.useContext(ol);w.useEffect(()=>{n.isPresent=r;const o=n.animationState&&n.animationState.setActive(ue.Exit,!r,{custom:s&&s.custom||e});o&&!r&&o.then(i)},[r])})},Zw=(t,e)=>Math.abs(t-e);function M5(t,e){const n=Zw(t.x,e.x),r=Zw(t.y,e.y);return Math.sqrt(n**2+r**2)}class hA{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=rf(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,h=M5(u.offset,{x:0,y:0})>=3;if(!c&&!h)return;const{point:d}=u,{timestamp:f}=Vn;this.history.push({...d,timestamp:f});const{onStart:m,onMove:v}=this.handlers;c||(m&&m(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=nf(c,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:d}=this.handlers,f=rf(u.type==="pointercancel"?this.lastMoveEventInfo:nf(c,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,f),d&&d(u,f)},!Pk(e))return;this.handlers=n,this.transformPagePoint=r;const i=$y(e),s=nf(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=Vn;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,rf(s,this.history)),this.removeListeners=jh(ys(window,"pointermove",this.handlePointerMove),ys(window,"pointerup",this.handlePointerUp),ys(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Lr.update(this.updatePoint)}}function nf(t,e){return e?{point:e(t.point)}:t}function Jw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function rf({point:t},e){return{point:t,delta:Jw(t,dA(e)),offset:Jw(t,L5(e)),velocity:O5(e,.1)}}function L5(t){return t[0]}function dA(t){return t[t.length-1]}function O5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=dA(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>lu(e)));)n--;if(!r)return{x:0,y:0};const s=(i.timestamp-r.timestamp)/1e3;if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Dt(t){return t.max-t.min}function em(t,e=0,n=.01){return Math.abs(t-e)<=n}function eT(t,e,n,r=.5){t.origin=r,t.originPoint=ke(e.min,e.max,t.origin),t.scale=Dt(n)/Dt(e),(em(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ke(n.min,n.max,t.origin)-t.originPoint,(em(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Vo(t,e,n,r){eT(t.x,e.x,n.x,r==null?void 0:r.originX),eT(t.y,e.y,n.y,r==null?void 0:r.originY)}function tT(t,e,n){t.min=n.min+e.min,t.max=t.min+Dt(e)}function $5(t,e,n){tT(t.x,e.x,n.x),tT(t.y,e.y,n.y)}function nT(t,e,n){t.min=e.min-n.min,t.max=t.min+Dt(e)}function Uo(t,e,n){nT(t.x,e.x,n.x),nT(t.y,e.y,n.y)}function F5(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ke(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ke(n,t,r.max):Math.min(t,n)),t}function rT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function j5(t,{top:e,left:n,bottom:r,right:i}){return{x:rT(t.x,n,i),y:rT(t.y,e,r)}}function iT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function V5(t,e){return{x:iT(t.x,e.x),y:iT(t.y,e.y)}}function U5(t,e){let n=.5;const r=Dt(t),i=Dt(e);return i>r?n=mc(e.min,e.max-r,t.min):r>i&&(n=mc(t.min,t.max-i,e.min)),Ls(0,1,n)}function B5(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const tm=.35;function z5(t=tm){return t===!1?t=0:t===!0&&(t=tm),{x:sT(t,"left","right"),y:sT(t,"top","bottom")}}function sT(t,e,n){return{min:oT(t,e),max:oT(t,n)}}function oT(t,e){return typeof t=="number"?t:t[e]||0}const aT=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bo=()=>({x:aT(),y:aT()}),lT=()=>({min:0,max:0}),Me=()=>({x:lT(),y:lT()});function fn(t){return[t("x"),t("y")]}function fA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function H5({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function W5(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function sf(t){return t===void 0||t===1}function nm({scale:t,scaleX:e,scaleY:n}){return!sf(t)||!sf(e)||!sf(n)}function Zr(t){return nm(t)||pA(t)||t.z||t.rotate||t.rotateX||t.rotateY}function pA(t){return uT(t.x)||uT(t.y)}function uT(t){return t&&t!=="0%"}function yc(t,e,n){const r=t-n,i=e*r;return n+i}function cT(t,e,n,r,i){return i!==void 0&&(t=yc(t,i,r)),yc(t,n,r)+e}function rm(t,e=0,n=1,r,i){t.min=cT(t.min,e,n,r,i),t.max=cT(t.max,e,n,r,i)}function mA(t,{x:e,y:n}){rm(t.x,e.translate,e.scale,e.originPoint),rm(t.y,n.translate,n.scale,n.originPoint)}function G5(t,e,n,r=!1){var i,s;const o=n.length;if(!o)return;e.x=e.y=1;let a,l;for(let u=0;u<o;u++)a=n[u],l=a.projectionDelta,((s=(i=a.instance)===null||i===void 0?void 0:i.style)===null||s===void 0?void 0:s.display)!=="contents"&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ss(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,mA(t,l)),r&&Zr(a.latestValues)&&ss(t,a.latestValues));e.x=hT(e.x),e.y=hT(e.y)}function hT(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function or(t,e){t.min=t.min+e,t.max=t.max+e}function dT(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=ke(t.min,t.max,s);rm(t,e[n],e[r],o,e.scale)}const K5=["x","scaleX","originX"],q5=["y","scaleY","originY"];function ss(t,e){dT(t.x,e,K5),dT(t.y,e,q5)}function gA(t,e){return fA(W5(t.getBoundingClientRect(),e))}function Q5(t,e,n){const r=gA(t,n),{scroll:i}=e;return i&&(or(r.x,i.offset.x),or(r.y,i.offset.y)),r}const Y5=new WeakMap;class X5{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Me(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){if(this.visualElement.isPresent===!1)return;const r=a=>{this.stopAnimation(),n&&this.snapToCursor($y(a,"page").point)},i=(a,l)=>{var u;const{drag:c,dragPropagation:h,onDragStart:d}=this.getProps();c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Mk(c),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fn(f=>{var m,v;let S=this.getAxisMotionValue(f).get()||0;if(_n.test(S)){const g=(v=(m=this.visualElement.projection)===null||m===void 0?void 0:m.layout)===null||v===void 0?void 0:v.layoutBox[f];g&&(S=Dt(g)*(parseFloat(S)/100))}this.originPoint[f]=S}),d==null||d(a,l),(u=this.visualElement.animationState)===null||u===void 0||u.setActive(ue.Drag,!0))},s=(a,l)=>{const{dragPropagation:u,dragDirectionLock:c,onDirectionLock:h,onDrag:d}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:f}=l;if(c&&this.currentDirection===null){this.currentDirection=Z5(f),this.currentDirection!==null&&(h==null||h(this.currentDirection));return}this.updateAxis("x",l.point,f),this.updateAxis("y",l.point,f),this.visualElement.render(),d==null||d(a,l)},o=(a,l)=>this.stop(a,l);this.panSession=new hA(e,{onSessionStart:r,onStart:i,onMove:s,onSessionEnd:o},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s==null||s(e,n)}cancel(){var e,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(ue.Drag,!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Fl(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=F5(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&rs(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=j5(r.layoutBox,e):this.constraints=!1,this.elastic=z5(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&fn(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=B5(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!rs(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Q5(r,i.root,this.visualElement.getTransformPagePoint());let o=V5(i.layout.layoutBox,s);if(n){const a=n(H5(o));this.hasMutatedConstraints=!!a,a&&(o=fA(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=fn(c=>{if(!Fl(c,n,this.currentDirection))return;let h=(l==null?void 0:l[c])||{};o&&(h={min:0,max:0});const d=i?200:1e6,f=i?40:1e7,m={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Jy(e,r,0,n))}stopAnimation(){fn(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){var n;const r="_drag"+e.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(e,((n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[e])||0)}snapToCursor(e){fn(n=>{const{drag:r}=this.getProps();if(!Fl(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-ke(o,a,.5))}})}scalePositionWithinConstraints(){var e;if(!this.visualElement.current)return;const{drag:n,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!rs(r)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};fn(a=>{const l=this.getAxisMotionValue(a);if(l){const u=l.get();s[a]=U5({min:u,max:u},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",(e=i.root)===null||e===void 0||e.updateScroll(),i.updateLayout(),this.resolveConstraints(),fn(a=>{if(!Fl(a,n,null))return;const l=this.getAxisMotionValue(a),{min:u,max:c}=this.constraints[a];l.set(ke(u,c,s[a]))})}addListeners(){var e;if(!this.visualElement.current)return;Y5.set(this.visualElement,this);const n=this.visualElement.current,r=ys(n,"pointerdown",u=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();rs(u)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&((e=s.root)===null||e===void 0||e.updateScroll(),s.updateLayout()),i();const a=Fh(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(fn(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=u[h].translate,d.set(d.get()+u[h].translate))}),this.visualElement.render())});return()=>{a(),r(),o(),l==null||l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=tm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Fl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Z5(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}function J5(t){const{dragControls:e,visualElement:n}=t,r=$h(()=>new X5(n));w.useEffect(()=>e&&e.subscribe(r),[r,e]),w.useEffect(()=>r.addListeners(),[r])}function e7({onPan:t,onPanStart:e,onPanEnd:n,onPanSessionStart:r,visualElement:i}){const s=t||e||n||r,o=w.useRef(null),{transformPagePoint:a}=w.useContext(ky),l={onSessionStart:r,onStart:e,onMove:t,onEnd:(c,h)=>{o.current=null,n&&n(c,h)}};w.useEffect(()=>{o.current!==null&&o.current.updateHandlers(l)});function u(c){o.current=new hA(c,l,{transformPagePoint:a})}hc(i,"pointerdown",s&&u),Fy(()=>o.current&&o.current.end())}const t7={pan:gr(e7),drag:gr(J5)};function im(t){return typeof t=="string"&&t.startsWith("var(--")}const yA=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function n7(t){const e=yA.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function sm(t,e,n=1){const[r,i]=n7(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():im(i)?sm(i,e,n+1):i}function r7(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!im(s))return;const o=sm(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!im(s))continue;const o=sm(s,r);o&&(e[i]=o,n&&n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const i7=new Set(["width","height","top","left","right","bottom","x","y"]),vA=t=>i7.has(t),s7=t=>Object.keys(t).some(vA),fT=t=>t===Fi||t===U;var pT;(function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"})(pT||(pT={}));const mT=(t,e)=>parseFloat(t.split(", ")[e]),gT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return mT(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?mT(s[1],t):0}},o7=new Set(["x","y","z"]),a7=lc.filter(t=>!o7.has(t));function l7(t){const e=[];return a7.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const yT={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:gT(4,13),y:gT(5,14)},u7=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=yT[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=yT[u](l,s)}),t},c7=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(vA);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],h=so(c);const d=e[l];let f;if(cc(d)){const m=d.length,v=d[0]===null?1:0;c=d[v],h=so(c);for(let S=v;S<m;S++)f?pc(so(d[S])===f):f=so(d[S])}else f=so(d);if(h!==f)if(fT(h)&&fT(f)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&f===U&&(e[l]=d.map(parseFloat))}else h!=null&&h.transform&&(f!=null&&f.transform)&&(c===0||d===0)?c===0?u.set(f.transform(c)):e[l]=h.transform(d):(o||(s=l7(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=u7(e,t,a);return s.length&&s.forEach(([c,h])=>{t.getValue(c).set(h)}),t.render(),Mh&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function h7(t,e,n,r){return s7(e)?c7(t,e,n,r):{target:e,transitionEnd:r}}const d7=(t,e,n,r)=>{const i=r7(t,e,r);return e=i.target,r=i.transitionEnd,h7(t,e,n,r)},om={current:null},wA={current:!1};function f7(){if(wA.current=!0,!!Mh)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>om.current=t.matches;t.addListener(e),e()}else om.current=!1}function p7(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(xt(s))t.addValue(i,s),fc(r)&&r.add(i);else if(xt(o))t.addValue(i,Os(s,{owner:t})),fc(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Os(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const TA=Object.keys(Aa),m7=TA.length,vT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class g7{constructor({parent:e,props:n,reducedMotionConfig:r,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>lt.render(this.render,!1,!0);const{latestValues:o,renderState:a}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=a,this.parent=e,this.props=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=s,this.isControllingVariants=Oh(n),this.isVariantNode=vk(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:l,...u}=this.scrapeMotionValuesFromProps(n,{});for(const c in u){const h=u[c];o[c]!==void 0&&xt(h)&&(h.set(o[c],!1),fc(l)&&l.add(c))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){var n;this.current=e,this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(n=this.parent)===null||n===void 0?void 0:n.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),wA.current||f7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:om.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var e,n,r;(e=this.projection)===null||e===void 0||e.unmount(),Lr.update(this.notifyUpdate),Lr.render(this.render),this.valueSubscriptions.forEach(i=>i()),(n=this.removeFromVariantTree)===null||n===void 0||n.call(this),(r=this.parent)===null||r===void 0||r.children.delete(this);for(const i in this.events)this.events[i].clear();this.current=null}bindToMotionValue(e,n){const r=Ks.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&lt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s,o,a){const l=[];for(let u=0;u<m7;u++){const c=TA[u],{isEnabled:h,Component:d}=Aa[c];h(n)&&d&&l.push(w.createElement(d,{key:c,...n,visualElement:this}))}if(!this.projection&&o){this.projection=new o(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:h,dragConstraints:d,layoutScroll:f,layoutRoot:m}=n;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:Boolean(h)||d&&rs(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,layoutScroll:f,layoutRoot:m})}return l}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Me()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}setProps(e){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender();const n=this.props;this.props=e;for(let r=0;r<vT.length;r++){const i=vT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=p7(this,this.scrapeMotionValuesFromProps(e,n),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){var n;return(n=this.props.variants)===null||n===void 0?void 0:n[e]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var e;return this.isVariantNode?this:(e=this.parent)===null||e===void 0?void 0:e.getClosestVariantNode()}getVariantContext(e=!1){var n,r;if(e)return(n=this.parent)===null||n===void 0?void 0:n.getVariantContext();if(!this.isControllingVariants){const s=((r=this.parent)===null||r===void 0?void 0:r.getVariantContext())||{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const i={};for(let s=0;s<y7;s++){const o=EA[s],a=this.props[o];(ka(a)||a===!1)&&(i[o]=a)}return i}addVariantChild(e){var n;const r=this.getClosestVariantNode();if(r)return(n=r.variantChildren)===null||n===void 0||n.add(e),()=>r.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){var n;this.values.delete(e),(n=this.valueSubscriptions.get(e))===null||n===void 0||n(),this.valueSubscriptions.delete(e),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Os(n,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Oy(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!xt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Uy),this.events[e].add(n)}notify(e,...n){var r;(r=this.events[e])===null||r===void 0||r.notify(...n)}}const EA=["initial",...ev],y7=EA.length;class SA extends g7{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){var r;return(r=e.style)===null||r===void 0?void 0:r[n]}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=x8(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){C8(this,r,o);const a=d7(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function v7(t){return window.getComputedStyle(t)}class w7 extends SA{readValueFromInstance(e,n){if(Ks.has(n)){const r=Hy(n);return r&&r.default||0}else{const r=v7(e),i=(Ek(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gA(e,n)}build(e,n,r,i){Ry(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Ly(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){xk(e,n,r,i)}}class T7 extends SA{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){var r;return Ks.has(n)?((r=Hy(n))===null||r===void 0?void 0:r.default)||0:(n=kk.has(n)?n:My(n),e.getAttribute(n))}measureInstanceViewportBox(){return Me()}scrapeMotionValuesFromProps(e,n){return bk(e,n)}build(e,n,r,i){Ny(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){Ak(e,n,r,i)}mount(e){this.isSVGTag=Dy(e.tagName),super.mount(e)}}const E7=(t,e)=>by(t)?new T7(e,{enableHardwareAcceleration:!1}):new w7(e,{enableHardwareAcceleration:!0});function wT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const oo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(U.test(t))t=parseFloat(t);else return t;const n=wT(t,e.target.x),r=wT(t,e.target.y);return`${n}% ${r}%`}},TT="_$css",S7={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=t.includes("var("),s=[];i&&(t=t.replace(yA,f=>(s.push(f),TT)));const o=Or.parse(t);if(o.length>5)return r;const a=Or.createTransformer(t),l=typeof o[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;o[0+l]/=u,o[1+l]/=c;const h=ke(u,c,.5);typeof o[2+l]=="number"&&(o[2+l]/=h),typeof o[3+l]=="number"&&(o[3+l]/=h);let d=a(o);if(i){let f=0;d=d.replace(TT,()=>{const m=s[f];return f++,m})}return d}};class _7 extends Fs.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;fz(I7),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),$o.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||lt.postRender(()=>{var a;!((a=o.getStack())===null||a===void 0)&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n!=null&&n.group&&n.group.remove(i),r!=null&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e==null||e()}render(){return null}}function C7(t){const[e,n]=$k(),r=w.useContext(Ay);return Fs.createElement(_7,{...t,layoutGroup:r,switchLayoutGroup:w.useContext(wk),isPresent:e,safeToRemove:n})}const I7={borderRadius:{...oo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:oo,borderTopRightRadius:oo,borderBottomLeftRadius:oo,borderBottomRightRadius:oo,boxShadow:S7},x7={measureLayout:C7};function k7(t,e,n={}){const r=xt(t)?t:Os(t);return r.start(Jy("",r,e,n)),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}const _A=["TopLeft","TopRight","BottomLeft","BottomRight"],A7=_A.length,ET=t=>typeof t=="string"?parseFloat(t):t,ST=t=>typeof t=="number"||U.test(t);function b7(t,e,n,r,i,s){i?(t.opacity=ke(0,n.opacity!==void 0?n.opacity:1,R7(r)),t.opacityExit=ke(e.opacity!==void 0?e.opacity:1,0,P7(r))):s&&(t.opacity=ke(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<A7;o++){const a=`border${_A[o]}Radius`;let l=_T(e,a),u=_T(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||ST(l)===ST(u)?(t[a]=Math.max(ke(ET(l),ET(u),r),0),(_n.test(u)||_n.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=ke(e.rotate||0,n.rotate||0,r))}function _T(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const R7=CA(0,.5,Xy),P7=CA(.5,.95,Yy);function CA(t,e,n){return r=>r<t?0:r>e?1:n(mc(t,e,r))}function CT(t,e){t.min=e.min,t.max=e.max}function Yt(t,e){CT(t.x,e.x),CT(t.y,e.y)}function IT(t,e,n,r,i){return t-=e,t=yc(t,1/n,r),i!==void 0&&(t=yc(t,1/i,r)),t}function N7(t,e=0,n=1,r=.5,i,s=t,o=t){if(_n.test(e)&&(e=parseFloat(e),e=ke(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ke(s.min,s.max,r);t===s&&(a-=e),t.min=IT(t.min,e,n,a,i),t.max=IT(t.max,e,n,a,i)}function xT(t,e,[n,r,i],s,o){N7(t,e[n],e[r],e[i],e.scale,s,o)}const D7=["x","scaleX","originX"],M7=["y","scaleY","originY"];function kT(t,e,n,r){xT(t.x,e,D7,n==null?void 0:n.x,r==null?void 0:r.x),xT(t.y,e,M7,n==null?void 0:n.y,r==null?void 0:r.y)}function AT(t){return t.translate===0&&t.scale===1}function IA(t){return AT(t.x)&&AT(t.y)}function xA(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function bT(t){return Dt(t.x)/Dt(t.y)}class L7{constructor(){this.members=[]}add(e){jy(this.members,e),e.scheduleRender()}remove(e){if(Vy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){var r;const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),!((r=e.root)===null||r===void 0)&&r.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{var n,r,i,s,o;(r=(n=e.options).onExitComplete)===null||r===void 0||r.call(n),(o=(i=e.resumingFrom)===null||i===void 0?void 0:(s=i.options).onExitComplete)===null||o===void 0||o.call(s)})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function RT(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const O7=(t,e)=>t.depth-e.depth;class $7{constructor(){this.children=[],this.isDirty=!1}add(e){jy(this.children,e),this.isDirty=!0}remove(e){Vy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(O7),this.isDirty=!1,this.children.forEach(e)}}const PT=["","X","Y","Z"],NT=1e3;let F7=0;function kA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=F7++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(U7),this.nodes.forEach(H7),this.nodes.forEach(W7)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new $7)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Uy),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l==null||l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){var l;if(this.instance)return;this.isSVG=o instanceof SVGElement&&o.tagName!=="svg",this.instance=o;const{layoutId:u,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),(l=this.parent)===null||l===void 0||l.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(c||u)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=lA(f,250),$o.hasAnimatedSinceResize&&($o.hasAnimatedSinceResize=!1,this.nodes.forEach(MT))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:v})=>{var S,g,p,y,E;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=(g=(S=this.options.transition)!==null&&S!==void 0?S:h.getDefaultTransition())!==null&&g!==void 0?g:Y7,{onLayoutAnimationStart:I,onLayoutAnimationComplete:b}=h.getProps(),R=!this.targetLayout||!xA(this.targetLayout,v)||m,Q=!f&&m;if(this.options.layoutRoot||!((p=this.resumeFrom)===null||p===void 0)&&p.instance||Q||f&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,Q);const O={...uA(C,"layout"),onPlay:I,onComplete:b};(h.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O)}else!f&&this.animationProgress===0&&MT(this),this.isLead()&&((E=(y=this.options).onExitComplete)===null||E===void 0||E.call(y));this.targetLayout=v})}unmount(){var o,a;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(o=this.getStack())===null||o===void 0||o.remove(this),(a=this.parent)===null||a===void 0||a.children.delete(this),this.instance=void 0,Lr.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var o;return this.isAnimationBlocked||((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimationBlocked())||!1}startUpdate(){var o;this.isUpdateBlocked()||(this.isUpdating=!0,(o=this.nodes)===null||o===void 0||o.forEach(G7),this.animationId++)}getTransformTemplate(){var o;return(o=this.options.visualElement)===null||o===void 0?void 0:o.getProps().transformTemplate}willUpdate(o=!0){var a,l,u;if(this.root.isUpdateBlocked()){(l=(a=this.options).onExitComplete)===null||l===void 0||l.call(a);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;c===void 0&&!h||(this.prevTransformTemplateValue=(u=this.getTransformTemplate())===null||u===void 0?void 0:u(this.latestValues,""),this.updateSnapshot(),o&&this.notifyListeners("willUpdate"))}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DT);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(X7),this.potentialNodes.clear()),this.nodes.forEach(z7),this.nodes.forEach(j7),this.nodes.forEach(V7),this.clearAllSnapshots(),Qd.update(),Qd.preRender(),Qd.render())}clearAllSnapshots(){this.nodes.forEach(B7),this.sharedNodes.forEach(K7)}scheduleUpdateProjection(){lt.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var o;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Me(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(o=this.options.visualElement)===null||o===void 0||o.notify("LayoutMeasure",this.layout.layoutBox,a==null?void 0:a.layoutBox)}updateScroll(o="measure"){let a=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){var o;if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!IA(this.projectionDelta),u=(o=this.getTransformTemplate())===null||o===void 0?void 0:o(this.latestValues,""),c=u!==this.prevTransformTemplateValue;a&&(l||Zr(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Z7(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Me();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(or(a.x,l.offset.x),or(a.y,l.offset.y)),a}removeElementScroll(o){const a=Me();Yt(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){Yt(a,o);const{scroll:d}=this.root;d&&(or(a.x,-d.offset.x),or(a.y,-d.offset.y))}or(a.x,c.offset.x),or(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=Me();Yt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&ss(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Zr(c.latestValues)&&ss(l,c.latestValues)}return Zr(this.latestValues)&&ss(l,this.latestValues),l}removeTransform(o){var a;const l=Me();Yt(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Zr(c.latestValues))continue;nm(c.latestValues)&&c.updateSnapshot();const h=Me(),d=c.measurePageBox();Yt(h,d),kT(l,c.latestValues,(a=c.snapshot)===null||a===void 0?void 0:a.layoutBox,h)}return Zr(this.latestValues)&&kT(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var o;const a=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:l,layoutId:u}=this.options;if(!(!this.layout||!(l||u))){if(!this.targetDelta&&!this.relativeTarget){const c=this.getClosestProjectingParent();c&&c.layout?(this.relativeParent=c,this.relativeTarget=Me(),this.relativeTargetOrigin=Me(),Uo(this.relativeTargetOrigin,this.layout.layoutBox,c.layout.layoutBox),Yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Me(),this.targetWithTransforms=Me()),this.relativeTarget&&this.relativeTargetOrigin&&(!((o=this.relativeParent)===null||o===void 0)&&o.target)?$5(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Yt(this.target,this.layout.layoutBox),mA(this.target,this.targetDelta)):Yt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const c=this.getClosestProjectingParent();c&&Boolean(c.resumingFrom)===Boolean(this.resumingFrom)&&!c.options.layoutScroll&&c.target?(this.relativeParent=c,this.relativeTarget=Me(),this.relativeTargetOrigin=Me(),Uo(this.relativeTargetOrigin,this.target,c.target),Yt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||nm(this.parent.latestValues)||pA(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta||this.parent.options.layoutRoot)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var o;const{isProjectionDirty:a,isTransformDirty:l}=this;this.isProjectionDirty=this.isTransformDirty=!1;const u=this.getLead(),c=Boolean(this.resumingFrom)||this!==u;let h=!0;if(a&&(h=!1),c&&l&&(h=!1),h)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=Boolean(((o=this.parent)===null||o===void 0?void 0:o.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Yt(this.layoutCorrected,this.layout.layoutBox),G5(this.layoutCorrected,this.treeScale,this.path,c);const{target:m}=u;if(!m)return;this.projectionDelta||(this.projectionDelta=Bo(),this.projectionDeltaWithTransform=Bo());const v=this.treeScale.x,S=this.treeScale.y,g=this.projectionTransform;Vo(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=RT(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==v||this.treeScale.y!==S)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a,l,u;(l=(a=this.options).scheduleRender)===null||l===void 0||l.call(a),o&&((u=this.getStack())===null||u===void 0||u.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){var l,u;const c=this.snapshot,h=(c==null?void 0:c.latestValues)||{},d={...this.latestValues},f=Bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Me(),v=(c==null?void 0:c.source)!==((l=this.layout)===null||l===void 0?void 0:l.source),S=(((u=this.getStack())===null||u===void 0?void 0:u.members.length)||0)<=1,g=Boolean(v&&!S&&this.options.crossfade===!0&&!this.path.some(Q7));this.animationProgress=0,this.mixTargetDelta=p=>{var y;const E=p/1e3;LT(f.x,o.x,E),LT(f.y,o.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((y=this.relativeParent)===null||y===void 0)&&y.layout)&&(Uo(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),q7(this.relativeTarget,this.relativeTargetOrigin,m,E)),v&&(this.animationValues=d,b7(d,h,this.latestValues,E,g,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)===null||a===void 0||a.stop(),this.resumingFrom&&((l=this.resumingFrom.currentAnimation)===null||l===void 0||l.stop()),this.pendingAnimation&&(Lr.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{$o.hasAnimatedSinceResize=!0,this.currentAnimation=k7(0,NT,{...o,onUpdate:u=>{var c;this.mixTargetDelta(u),(c=o.onUpdate)===null||c===void 0||c.call(o,u)},onComplete:()=>{var u;(u=o.onComplete)===null||u===void 0||u.call(o),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var o;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(o=this.getStack())===null||o===void 0||o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var o;this.currentAnimation&&((o=this.mixTargetDelta)===null||o===void 0||o.call(this,NT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&AA(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Me();const h=Dt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const d=Dt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Yt(a,l),ss(a,c),Vo(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){var l,u,c;this.sharedNodes.has(o)||this.sharedNodes.set(o,new L7),this.sharedNodes.get(o).add(a),a.promote({transition:(l=a.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(c=(u=a.options.initialPromotionConfig)===null||u===void 0?void 0:u.shouldPreserveFollowOpacity)===null||c===void 0?void 0:c.call(u,a)})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<PT.length;c++){const h="rotate"+PT[c];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o==null||o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=au(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=au(o.pointerEvents)||""),this.hasProjected&&!Zr(this.latestValues)&&(v.transform=c?c({},""):"none",this.hasProjected=!1),v}const d=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=RT(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));const{x:f,y:m}=this.projectionDelta;u.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=h===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in ac){if(d[v]===void 0)continue;const{correct:S,applyTo:g}=ac[v],p=u.transform==="none"?d[v]:S(d[v],h);if(g){const y=g.length;for(let E=0;E<y;E++)u[g[E]]=p}else u[v]=p}return this.options.layoutId&&(u.pointerEvents=h===this?au(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(DT),this.root.sharedNodes.clear()}}}function j7(t){t.updateLayout()}function V7(t){var e,n,r;const i=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&i&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=t.layout,{animationType:a}=t.options,l=i.source!==t.layout.source;a==="size"?fn(f=>{const m=l?i.measuredBox[f]:i.layoutBox[f],v=Dt(m);m.min=s[f].min,m.max=m.min+v}):AA(a,i.layoutBox,s)&&fn(f=>{const m=l?i.measuredBox[f]:i.layoutBox[f],v=Dt(s[f]);m.max=m.min+v});const u=Bo();Vo(u,s,i.layoutBox);const c=Bo();l?Vo(c,t.applyTransform(o,!0),i.measuredBox):Vo(c,s,i.layoutBox);const h=!IA(u);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:v}=f;if(m&&v){const S=Me();Uo(S,i.layoutBox,m.layoutBox);const g=Me();Uo(g,s,v.layoutBox),xA(S,g)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=S,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:i,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:d})}else t.isLead()&&((r=(n=t.options).onExitComplete)===null||r===void 0||r.call(n));t.options.transition=void 0}function U7(t){t.isProjectionDirty||(t.isProjectionDirty=Boolean(t.parent&&t.parent.isProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=Boolean(t.parent&&t.parent.isTransformDirty))}function B7(t){t.clearSnapshot()}function DT(t){t.clearMeasurements()}function z7(t){const{visualElement:e}=t.options;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function MT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function H7(t){t.resolveTargetDelta()}function W7(t){t.calcProjection()}function G7(t){t.resetRotation()}function K7(t){t.removeLeadSnapshot()}function LT(t,e,n){t.translate=ke(e.translate,0,n),t.scale=ke(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function OT(t,e,n,r){t.min=ke(e.min,n.min,r),t.max=ke(e.max,n.max,r)}function q7(t,e,n,r){OT(t.x,e.x,n.x,r),OT(t.y,e.y,n.y,r)}function Q7(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Y7={duration:.45,ease:[.4,0,.1,1]};function X7(t,e){let n=t.root;for(let s=t.path.length-1;s>=0;s--)if(Boolean(t.path[s].instance)){n=t.path[s];break}const i=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&t.mount(i,!0)}function $T(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function Z7(t){$T(t.x),$T(t.y)}function AA(t,e,n){return t==="position"||t==="preserve-aspect"&&!em(bT(e),bT(n),.2)}const J7=kA({attachResizeListener:(t,e)=>Fh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),of={current:void 0},eH=kA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!of.current){const t=new J7(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),of.current=t}return of.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>Boolean(window.getComputedStyle(t).position==="fixed")}),tH={...D5,...Zz,...t7,...x7},nH=hz((t,e)=>jz(t,e,tH,E7,eH));function bA(){const t=w.useRef(!1);return oc(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function rH(){const t=bA(),[e,n]=w.useState(0),r=w.useCallback(()=>{t.current&&n(e+1)},[e]);return[w.useCallback(()=>lt.postRender(r),[r]),e]}class iH extends w.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function sH({children:t,isPresent:e}){const n=w.useId(),r=w.useRef(null),i=w.useRef({width:0,height:0,top:0,left:0});return w.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),w.createElement(iH,{isPresent:e,childRef:r,sizeRef:i},w.cloneElement(t,{ref:r}))}const af=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=$h(oH),l=w.useId(),u=w.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const h of a.values())if(!h)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?void 0:[n]);return w.useMemo(()=>{a.forEach((c,h)=>a.set(h,!1))},[n]),w.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=w.createElement(sH,{isPresent:n},t)),w.createElement(ol.Provider,{value:u},t)};function oH(){return new Map}const Bi=t=>t.key||"";function aH(t,e){t.forEach(n=>{const r=Bi(n);e.set(r,n)})}function lH(t){const e=[];return w.Children.forEach(t,n=>{w.isValidElement(n)&&e.push(n)}),e}const uH=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{i&&(o="wait");let[a]=rH();const l=w.useContext(Ay).forceRender;l&&(a=l);const u=bA(),c=lH(t);let h=c;const d=new Set,f=w.useRef(h),m=w.useRef(new Map).current,v=w.useRef(!0);if(oc(()=>{v.current=!1,aH(c,m),f.current=h}),Fy(()=>{v.current=!0,m.clear(),d.clear()}),v.current)return w.createElement(w.Fragment,null,h.map(y=>w.createElement(af,{key:Bi(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},y)));h=[...h];const S=f.current.map(Bi),g=c.map(Bi),p=S.length;for(let y=0;y<p;y++){const E=S[y];g.indexOf(E)===-1&&d.add(E)}return o==="wait"&&d.size&&(h=[]),d.forEach(y=>{if(g.indexOf(y)!==-1)return;const E=m.get(y);if(!E)return;const C=S.indexOf(y),I=()=>{m.delete(y),d.delete(y);const b=f.current.findIndex(R=>R.key===y);if(f.current.splice(b,1),!d.size){if(f.current=c,u.current===!1)return;a(),r&&r()}};h.splice(C,0,w.createElement(af,{key:Bi(E),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:s,mode:o},E))}),h=h.map(y=>{const E=y.key;return d.has(E)?y:w.createElement(af,{key:Bi(y),isPresent:!0,presenceAffectsLayout:s,mode:o},y)}),w.createElement(w.Fragment,null,d.size?h:h.map(y=>w.cloneElement(y)))},cH={enter:t=>({x:t>0?"100%":"-100%"}),center:{zIndex:1,x:0,opacity:1},exit:t=>({zIndex:0,x:t<0?"100%":"-100%"})},FT=({subPages:t,currentPage:e})=>{const[n,r]=w.useState(),[i,s]=w.useState(),[o,a]=w.useState(!1),[l,u]=w.useState(),c=(f,m,v,S)=>{r(f),m&&s(m),v!==void 0&&a(v),S&&u(S)},h=t[n||0].headerComponent,d=t[n||0].contentComponent;return T.jsxs(T.Fragment,{children:[o&&T.jsx(XB,{children:l}),T.jsxs("div",{className:`grow flex flex-col overflow-auto bg-white ${e?null:"hidden"}`,children:[T.jsx(h,{setCurrentSubpage:c}),T.jsx(uH,{initial:!1,mode:"popLayout",custom:i,children:T.jsx(nH.div,{className:`grow flex flex-col overflow-auto  dark:bg-black
			`,custom:i,variants:cH,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"tween",duration:.2},opacity:{duration:.2}},children:T.jsx(d,{currentSubpage:n,setCurrentSubpage:c})},n)})]})]})},hH=({pages:t,currentPage:e,navbar:n})=>T.jsxs("div",{className:"flex flex-col fixed h-screen w-screen bg-lightGrey-300 dark:bg-darkGrey-300 dark:text-white",children:[t.map((r,i)=>e===i?T.jsx(FT,{currentPage:!0,subPages:r},i):T.jsx(FT,{subPages:r},i)),n]}),dH=t=>w.createElement("svg",{height:"1em",viewBox:"44 178 940 896",width:"1em",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t},w.createElement("path",{d:"M978,654C982,658 984,662.667 984,668C984,673.333 982,678.333 978,683C974,687.667 969,690 963,690C957,690 951.333,687.333 946,682L512,230L80,682C76,687.333 71,690 65,690C59,690 54,687.667 50,683C46,678.333 44,673.333 44,668C44,662.667 46,658 50,654L496,184C500,180 505.333,178 512,178C518.667,178 524,180 528,184L682,346L682,198C682,192.667 684.333,188 689,184C693.667,180 698.667,178 704,178L832,178C837.333,178 842.333,180 847,184C851.667,188 854,192.667 854,198L854,518C854,519.333 853.333,520.667 852,522ZM726,220L726,390L810,480L810,220ZM817,632C821.667,628 826.667,626 832,626C837.333,626 842.333,628 847,632C851.667,636 854,640.667 854,646L854,1052C854,1057.33 851.667,1062.33 847,1067C842.333,1071.67 837.333,1074 832,1074L192,1074C186.667,1074 181.667,1071.67 177,1067C172.333,1062.33 170,1057.33 170,1052L170,646C170,642 171,638.667 173,636C175,633.333 177.667,631 181,629C184.333,627 188,626 192,626C197.333,626 202.333,628 207,632C211.667,636 214,640.667 214,646L214,1030L384,1030L384,754C384,747.333 386,742 390,738C394,734 399.333,732 406,732L618,732C624.667,732 630,734 634,738C638,742 640,747.333 640,754L640,1030L810,1030L810,646C810,640.667 812.333,636 817,632ZM426,774L426,1030L598,1030L598,774Z",fill:"currentColor",fillOpacity:1})),fH=t=>w.createElement("svg",{height:"1em",viewBox:"50 134 924 940",width:"1em",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t},w.createElement("path",{d:"M632,724C598.667,757.333 558.667,774 512,774C465.333,774 425.333,757.333 392,724C358.667,690.667 342,650.667 342,604C342,557.333 358.667,517.333 392,484C425.333,450.667 465.333,434 512,434C558.667,434 598.667,450.667 632,484C665.333,517.333 682,557.333 682,604C682,650.667 665.333,690.667 632,724ZM602,514C576.667,488.667 546.667,476 512,476C477.333,476 447.333,488.667 422,514C396.667,539.333 384,569.333 384,604C384,638.667 396.667,668.667 422,694C447.333,719.333 477.333,732 512,732C546.667,732 576.667,719.333 602,694C627.333,668.667 640,638.667 640,604C640,569.333 627.333,539.333 602,514ZM618,1074L406,1074C399.333,1074 394,1071.67 390,1067C386,1062.33 384,1057.33 384,1052L384,944C346.667,929.333 312.667,909.333 282,884L188,938C185.333,940.667 182,942 178,942C170,942 163.333,938.667 158,932L52,746C50.6667,743.333 50,740 50,736C50,728 53.3333,722 60,718L154,662C151.333,643.333 150,624 150,604C150,584 151.333,564.667 154,546L60,490C53.3333,486 50,480 50,472C50,468 50.6667,464.667 52,462L158,276C163.333,269.333 170,266 178,266C182,266 185.333,267.333 188,270L282,324C312.667,298.667 346.667,278.667 384,264L384,156C384,150.667 386,145.667 390,141C394,136.333 399.333,134 406,134L618,134C624.667,134 630,136.333 634,141C638,145.667 640,150.667 640,156L640,264C677.333,278.667 711.333,298.667 742,324L836,270C838.667,267.333 842,266 846,266C855.333,266 862,269.333 866,276L972,462C973.333,464.667 974,468 974,472C974,480 970.667,486 964,490L870,546C872.667,564.667 874,584 874,604C874,624 872.667,643.333 870,662L964,718C970.667,722 974,728 974,736C974,740 973.333,743.333 972,746L866,932C862,938.667 855.333,942 846,942C842,942 838.667,940.667 836,938L742,884C711.333,909.333 677.333,929.333 640,944L640,1052C640,1056 639,1059.67 637,1063C635,1066.33 632.333,1069 629,1071C625.667,1073 622,1074 618,1074ZM426,1030L598,1030L598,928C598,917.333 602.667,910.667 612,908C654.667,893.333 692,871.333 724,842C729.333,838 734.667,836 740,836C742.667,836 746,837.333 750,840L838,892L924,744L836,692C828,688 824,682 824,674C824,672.667 824.667,671.333 826,670C830,648.667 832,626.667 832,604C832,581.333 830,559.333 826,538C824.667,536.667 824,535.333 824,534C824,526 828,520 836,516L924,464L838,316L750,368C746,370.667 742.667,372 740,372C733.333,372 728,370 724,366C692,336.667 654.667,314.667 612,300C602.667,297.333 598,290.667 598,280L598,178L426,178L426,280C426,290.667 421.333,297.333 412,300C369.333,314.667 332,336.667 300,366C296,370 290.667,372 284,372C281.333,372 278,370.667 274,368L186,316L100,464L188,516C196,520 200,526 200,534C200,535.333 199.333,536.667 198,538C194,559.333 192,581.333 192,604C192,626.667 194,648.667 198,670C199.333,671.333 200,672.667 200,674C200,682 196,688 188,692L100,744L186,892L274,840C278,837.333 281.333,836 284,836C290.667,836 296,838 300,842C332,871.333 369.333,893.333 412,908C421.333,910.667 426,917.333 426,928Z",fill:"currentColor",fillOpacity:1})),pH=()=>{const t={icon:T.jsx(dH,{className:"text-[1.4rem]"}),label:"Home"},e={icon:T.jsx(fH,{className:"text-[1.4rem]"}),label:"Settings"},[n,r]=w.useState(0),i=[QB,fb],s=[t,e];return T.jsx(hH,{pages:i,currentPage:n,navbar:T.jsx(YB,{currentPage:n,action:r,navbarItems:s})})};var am={},jT=ua;am.createRoot=jT.createRoot,am.hydrateRoot=jT.hydrateRoot;function mH(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let a,l;const u=async(h=!0)=>{await l};async function c(){if("serviceWorker"in navigator){const{Workbox:h}=await fI(()=>import("./workbox-window.prod.es5-295a6886.js"),[]);a=new h("/Proclaimer/sw.js",{scope:"/Proclaimer/",type:"classic"}),a.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),a.addEventListener("installed",d=>{d.isUpdate||r==null||r()}),a.register({immediate:e}).then(d=>{s?s("/Proclaimer/sw.js",d):i==null||i(d)}).catch(d=>{o==null||o(d)})}}return l=c(),u}"serviceWorker"in navigator&&mH();localStorage.getItem("userID")||localStorage.setItem("userID",String(Date.now()));am.createRoot(document.getElementById("root")).render(T.jsx(Fs.StrictMode,{children:T.jsx(pH,{})}));export{yH as c};
